"use strict";(self.webpackChunksala_juegos=self.webpackChunksala_juegos||[]).push([[179],{6304:(bt,Ce,k)=>{k.d(Ce,{Dh:()=>Ie,GT:()=>ae,cc:()=>ve,hO:()=>Ue,on:()=>Y,pX:()=>ie,xv:()=>pe});var C=k(5879),ee=k(120),H=k(2793);bt=k.hmd(bt);const se=["ngOnDestroy"],ie=(He,Ft,Ot,be={})=>new Proxy(He,{get:(Ve,ye)=>Ot.runOutsideAngular(()=>{var Re;if(He[ye])return!(null===(Re=be?.spy)||void 0===Re)&&Re.get&&be.spy.get(ye,He[ye]),He[ye];if(se.indexOf(ye)>-1)return()=>{};const ze=Ft.toPromise().then(we=>{const qe=we&&we[ye];return"function"==typeof qe?qe.bind(we):qe&&qe.then?qe.then(pt=>Ot.run(()=>pt)):Ot.run(()=>qe)});return new Proxy(()=>{},{get:(we,qe)=>ze[qe],apply:(we,qe,pt)=>ze.then(Vt=>{var Gt;const qt=Vt&&Vt(...pt);return!(null===(Gt=be?.spy)||void 0===Gt)&&Gt.apply&&be.spy.apply(ye,pt,qt),qt})})})}),ae=(He,Ft)=>{Ft.forEach(Ot=>{Object.getOwnPropertyNames(Ot.prototype||Ot).forEach(be=>{Object.defineProperty(He.prototype,be,Object.getOwnPropertyDescriptor(Ot.prototype||Ot,be))})})};class de{constructor(Ft){return Ft}}const Ie=new C.OlP("angularfire2.app.options"),pe=new C.OlP("angularfire2.app.name");function Y(He,Ft,Ot){const Ve="object"==typeof Ot&&Ot||{};Ve.name=Ve.name||"string"==typeof Ot&&Ot||"[DEFAULT]";const Re=ee.Z.apps.filter(ze=>ze&&ze.name===Ve.name)[0]||Ft.runOutsideAngular(()=>ee.Z.initializeApp(He,Ve));try{JSON.stringify(He)!==JSON.stringify(Re.options)&&X("error",`${Re.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Re)}const X=(He,...Ft)=>{(0,C.X6Q)()&&typeof console<"u"&&console[He](...Ft)},J={provide:de,useFactory:Y,deps:[Ie,C.R0b,[new C.FiY,pe]]};let Ue=(()=>{class He{constructor(Ot){ee.Z.registerVersion("angularfire",H.q4.full,"core"),ee.Z.registerVersion("angularfire",H.q4.full,"app-compat"),ee.Z.registerVersion("angular",C.q4F.full,Ot.toString())}static initializeApp(Ot,be){return{ngModule:He,providers:[{provide:Ie,useValue:Ot},{provide:pe,useValue:be}]}}}return He.\u0275fac=function(Ot){return new(Ot||He)(C.LFG(C.Lbi))},He.\u0275mod=C.oAB({type:He}),He.\u0275inj=C.cJS({providers:[J]}),He})();function ve(He,Ft,Ot,be,Ve){const[,ye,Re]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===He)||[];if(ye)return function it(He,Ft){try{return He.toString()===Ft.toString()}catch{return He===Ft}}(Ve,Re)||(dt("error",`${Ft} was already initialized on the ${Ot} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:Ve,was:Re})),ye;{const ze=be();return globalThis.\u0275AngularfireInstanceCache.push([He,ze,Ve]),ze}}const Ge=!!bt.hot,dt=(He,...Ft)=>{(0,C.X6Q)()&&typeof console<"u"&&console[He](...Ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(bt,Ce,k)=>{k.d(Ce,{q4:()=>sc,iC:()=>nu,HU:()=>am,vb:()=>om,JM:()=>hl});var C=k(5879),ee=k(4097),H=k(5861),se=k(4303),ie=k(9058),ae=k(4537),de=k(7879);const Ie=(I,A)=>A.some(P=>I instanceof P);let pe,Y;const Ue=new WeakMap,ve=new WeakMap,it=new WeakMap,Ge=new WeakMap,dt=new WeakMap;let Ot={get(I,A,P){if(I instanceof IDBTransaction){if("done"===A)return ve.get(I);if("objectStoreNames"===A)return I.objectStoreNames||it.get(I);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return Re(I[A])},set:(I,A,P)=>(I[A]=P,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function ye(I){return"function"==typeof I?function Ve(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(ze(this),A),Re(Ue.get(this))}:function(...A){return Re(I.apply(ze(this),A))}:function(A,...P){const U=I.call(ze(this),A,...P);return it.set(U,A.sort?A.sort():[A]),Re(U)}}(I):(I instanceof IDBTransaction&&function Ft(I){if(ve.has(I))return;const A=new Promise((P,U)=>{const Z=()=>{I.removeEventListener("complete",ge),I.removeEventListener("error",Le),I.removeEventListener("abort",Le)},ge=()=>{P(),Z()},Le=()=>{U(I.error||new DOMException("AbortError","AbortError")),Z()};I.addEventListener("complete",ge),I.addEventListener("error",Le),I.addEventListener("abort",Le)});ve.set(I,A)}(I),Ie(I,function X(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ot):I)}function Re(I){if(I instanceof IDBRequest)return function He(I){const A=new Promise((P,U)=>{const Z=()=>{I.removeEventListener("success",ge),I.removeEventListener("error",Le)},ge=()=>{P(Re(I.result)),Z()},Le=()=>{U(I.error),Z()};I.addEventListener("success",ge),I.addEventListener("error",Le)});return A.then(P=>{P instanceof IDBCursor&&Ue.set(P,I)}).catch(()=>{}),dt.set(A,I),A}(I);if(Ge.has(I))return Ge.get(I);const A=ye(I);return A!==I&&(Ge.set(I,A),dt.set(A,I)),A}const ze=I=>dt.get(I),pt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],Gt=new Map;function qt(I,A){var P;if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Gt.get(A))return Gt.get(A);const U=A.replace(/FromIndex$/,""),Z=A!==U,ge=Vt.includes(U);if(!(U in(Z?IDBIndex:IDBObjectStore).prototype)||!ge&&!pt.includes(U))return;const Le=function(ct){return(P=P||(0,H.Z)(function*(Nt,...Tt){const Wt=this.transaction(Nt,ge?"readwrite":"readonly");let cn=Wt.store;return Z&&(cn=cn.index(Tt.shift())),(yield Promise.all([cn[U](...Tt),ge&&Wt.done]))[0]})).apply(this,arguments)};return Gt.set(A,Le),Le}var nn,xn,On,Qn,_e,Te,Ne,Ae,Ye,Ze,St,at,Wn,Bt,hn,Qt;!function be(I){Ot=I(Ot)}(I=>({...I,get:(A,P,U)=>qt(A,P)||I.get(A,P,U),has:(A,P)=>!!qt(A,P)||I.has(A,P)}));const sn="@firebase/installations",ue="0.6.4",ne=1e4,De=`w:${ue}`,We="FIS_v2",lt="https://firebaseinstallations.googleapis.com/v1",Et=36e5,xt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $t(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function on({projectId:I}){return`${lt}/projects/${I}/installations`}function Xn(I){return{token:I.token,requestStatus:2,expiresIn:_n(I.expiresIn),creationTime:Date.now()}}function er(I,A){return(nn=nn||(0,H.Z)(function*(P,U){const ge=(yield U.json()).error;return xt.create("request-failed",{requestName:P,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function rn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Bn(I){return(xn=xn||(0,H.Z)(function*(A){const P=yield A();return P.status>=500&&P.status<600?A():P})).apply(this,arguments)}function _n(I){return Number(I.replace("s","000"))}function yr(I){return new Promise(A=>{setTimeout(A,I)})}const Xr=/^[cdef][\w-]{21}$/,di="";function Fr(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const P=function Ke(I){return function pn(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Xr.test(P)?P:di}catch{return di}}function oe(I){return`${I.appName}!${I.appId}`}const Se=new Map;function Je(I,A){const P=oe(I);jn(P,A),function te(I,A){const P=function V(){return!B&&"BroadcastChannel"in self&&(B=new BroadcastChannel("[Firebase] FID Change"),B.onmessage=I=>{jn(I.data.key,I.data.fid)}),B}();P&&P.postMessage({key:I,fid:A}),function Q(){0===Se.size&&B&&(B.close(),B=null)}()}(P,A)}function jn(I,A){const P=Se.get(I);if(P)for(const U of P)U(A)}let B=null;const j="firebase-installations-database",le=1,ke="firebase-installations-store";let Xe=null;function Ut(){return Xe||(Xe=function we(I,A,{blocked:P,upgrade:U,blocking:Z,terminated:ge}={}){const Le=indexedDB.open(I,A),$e=Re(Le);return U&&Le.addEventListener("upgradeneeded",ct=>{U(Re(Le.result),ct.oldVersion,ct.newVersion,Re(Le.transaction))}),P&&Le.addEventListener("blocked",()=>P()),$e.then(ct=>{ge&&ct.addEventListener("close",()=>ge()),Z&&ct.addEventListener("versionchange",()=>Z())}).catch(()=>{}),$e}(j,le,{upgrade:(I,A)=>{0===A&&I.createObjectStore(ke)}})),Xe}function Ct(I,A){return(Qn=Qn||(0,H.Z)(function*(P,U){const Z=oe(P),Le=(yield Ut()).transaction(ke,"readwrite"),$e=Le.objectStore(ke),ct=yield $e.get(Z);return yield $e.put(U,Z),yield Le.done,(!ct||ct.fid!==U.fid)&&Je(P,U.fid),U})).apply(this,arguments)}function Cn(I){return(_e=_e||(0,H.Z)(function*(A){const P=oe(A),Z=(yield Ut()).transaction(ke,"readwrite");yield Z.objectStore(ke).delete(P),yield Z.done})).apply(this,arguments)}function Zt(I,A){return(Te=Te||(0,H.Z)(function*(P,U){const Z=oe(P),Le=(yield Ut()).transaction(ke,"readwrite"),$e=Le.objectStore(ke),ct=yield $e.get(Z),Nt=U(ct);return void 0===Nt?yield $e.delete(Z):yield $e.put(Nt,Z),yield Le.done,Nt&&(!ct||ct.fid!==Nt.fid)&&Je(P,Nt.fid),Nt})).apply(this,arguments)}function Hn(I){return(Ne=Ne||(0,H.Z)(function*(A){let P;const U=yield Zt(A.appConfig,Z=>{const ge=function ei(I){return Vi(I||{fid:Fr(),registrationStatus:0})}(Z),Le=function _a(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(xt.create("app-offline"))};const P={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},U=function kc(I,A){return(Ae=Ae||(0,H.Z)(function*(P,U){try{const Z=yield function yn(I,A){return(On=On||(0,H.Z)(function*({appConfig:P,heartbeatServiceProvider:U},{fid:Z}){const ge=on(P),Le=rn(P),$e=U.getImmediate({optional:!0});if($e){const Wt=yield $e.getHeartbeatsHeader();Wt&&Le.append("x-firebase-client",Wt)}const Nt={method:"POST",headers:Le,body:JSON.stringify({fid:Z,authVersion:We,appId:P.appId,sdkVersion:De})},Tt=yield Bn(()=>fetch(ge,Nt));if(Tt.ok){const Wt=yield Tt.json();return{fid:Wt.fid||Z,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:Xn(Wt.authToken)}}throw yield er("Create Installation",Tt)})).apply(this,arguments)}(P,U);return Ct(P.appConfig,Z)}catch(Z){throw $t(Z)&&409===Z.customData.serverCode?yield Cn(P.appConfig):yield Ct(P.appConfig,{fid:U.fid,registrationStatus:0}),Z}})).apply(this,arguments)}(I,P);return{installationEntry:P,registrationPromise:U}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:hi(I)}:{installationEntry:A}}(A,ge);return P=Le.registrationPromise,Le.installationEntry});return U.fid===di?{installationEntry:yield P}:{installationEntry:U,registrationPromise:P}})).apply(this,arguments)}function hi(I){return(Ye=Ye||(0,H.Z)(function*(A){let P=yield ms(A.appConfig);for(;1===P.registrationStatus;)yield yr(100),P=yield ms(A.appConfig);if(0===P.registrationStatus){const{installationEntry:U,registrationPromise:Z}=yield Hn(A);return Z||U}return P})).apply(this,arguments)}function ms(I){return Zt(I,A=>{if(!A)throw xt.create("installation-not-found");return Vi(A)})}function Vi(I){return function Bi(I){return 1===I.registrationStatus&&I.registrationTime+ne<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function un(I,A){return(Ze=Ze||(0,H.Z)(function*({appConfig:P,heartbeatServiceProvider:U},Z){const ge=function po(I,{fid:A}){return`${on(I)}/${A}/authTokens:generate`}(P,Z),Le=function kn(I,{refreshToken:A}){const P=rn(I);return P.append("Authorization",function Di(I){return`${We} ${I}`}(A)),P}(P,Z),$e=U.getImmediate({optional:!0});if($e){const Wt=yield $e.getHeartbeatsHeader();Wt&&Le.append("x-firebase-client",Wt)}const Nt={method:"POST",headers:Le,body:JSON.stringify({installation:{sdkVersion:De,appId:P.appId}})},Tt=yield Bn(()=>fetch(ge,Nt));if(Tt.ok)return Xn(yield Tt.json());throw yield er("Generate Auth Token",Tt)})).apply(this,arguments)}function Ns(I){return(St=St||(0,H.Z)(function*(A,P=!1){let U;const Z=yield Zt(A.appConfig,Le=>{if(!ti(Le))throw xt.create("not-registered");const $e=Le.authToken;if(!P&&function mo(I){return 2===I.requestStatus&&!function Ys(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+Et}(I)}($e))return Le;if(1===$e.requestStatus)return U=function ts(I,A){return(at=at||(0,H.Z)(function*(P,U){let Z=yield go(P.appConfig);for(;1===Z.authToken.requestStatus;)yield yr(100),Z=yield go(P.appConfig);const ge=Z.authToken;return 0===ge.requestStatus?Ns(P,U):ge})).apply(this,arguments)}(A,P),Le;{if(!navigator.onLine)throw xt.create("app-offline");const ct=function ya(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(Le);return U=function Ti(I,A){return(Wn=Wn||(0,H.Z)(function*(P,U){try{const Z=yield un(P,U),ge=Object.assign(Object.assign({},U),{authToken:Z});return yield Ct(P.appConfig,ge),Z}catch(Z){if(!$t(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const ge=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Ct(P.appConfig,ge)}else yield Cn(P.appConfig);throw Z}})).apply(this,arguments)}(A,ct),ct}});return U?yield U:Z.authToken})).apply(this,arguments)}function go(I){return Zt(I,A=>{if(!ti(A))throw xt.create("not-registered");return function _s(I){return 1===I.requestStatus&&I.requestTime+ne<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function ti(I){return void 0!==I&&2===I.registrationStatus}function ji(I){return xt.create("missing-app-config-values",{valueName:I})}const ns="installations",Uo=I=>{const A=I.getProvider("app").getImmediate(),P=function Hr(I){if(!I||!I.options)throw ji("App Configuration");if(!I.name)throw ji("App Name");const A=["projectId","apiKey","appId"];for(const P of A)if(!I.options[P])throw ji(P);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:P,heartbeatServiceProvider:(0,se.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ii=I=>{const A=I.getProvider("app").getImmediate(),P=(0,se.qX)(A,ns).getImmediate();return{getId:()=>function va(I){return(Bt=Bt||(0,H.Z)(function*(A){const P=A,{installationEntry:U,registrationPromise:Z}=yield Hn(P);return Z?Z.catch(console.error):Ns(P).catch(console.error),U.fid})).apply(this,arguments)}(P),getToken:Z=>function Dr(I){return(hn=hn||(0,H.Z)(function*(A,P=!1){const U=A;return yield function jo(I){return(Qt=Qt||(0,H.Z)(function*(A){const{registrationPromise:P}=yield Hn(A);P&&(yield P)})).apply(this,arguments)}(U),(yield Ns(U,P)).token})).apply(this,arguments)}(P,Z)}};var zr;(function ys(){(0,se.Xd)(new ae.wA(ns,Uo,"PUBLIC")),(0,se.Xd)(new ae.wA("installations-internal",Ii,"PRIVATE"))})(),(0,se.KN)(sn,ue),(0,se.KN)(sn,ue,"esm2017");const yo="@firebase/remote-config",Sr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class or{constructor(A,P,U,Z){this.client=A,this.storage=P,this.storageCache=U,this.logger=Z}isCachedDataFresh(A,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-P,Z=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Z}.`),Z}fetch(A){var P=this;return(0,H.Z)(function*(){const[U,Z]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(Z&&P.isCachedDataFresh(A.cacheMaxAgeMillis,U))return Z;A.eTag=Z&&Z.eTag;const ge=yield P.client.fetch(A),Le=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Le.push(P.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Le),ge})()}}function Ai(I=navigator){return I.languages&&I.languages[0]||I.language}class Wr{constructor(A,P,U,Z,ge,Le){this.firebaseInstallations=A,this.sdkVersion=P,this.namespace=U,this.projectId=Z,this.apiKey=ge,this.appId=Le}fetch(A){var P=this;return(0,H.Z)(function*(){const[U,Z]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ct={sdk_version:P.sdkVersion,app_instance_id:U,app_instance_id_token:Z,app_id:P.appId,language_code:Ai()},Nt={method:"POST",headers:$e,body:JSON.stringify(ct)},Tt=fetch(Le,Nt),Wt=new Promise((Xt,uo)=>{A.signal.addEventListener(()=>{const Er=new Error("The operation was aborted.");Er.name="AbortError",uo(Er)})});let cn;try{yield Promise.race([Tt,Wt]),cn=yield Tt}catch(Xt){let uo="fetch-client-network";throw"AbortError"===Xt?.name&&(uo="fetch-timeout"),Sr.create(uo,{originalErrorMessage:Xt?.message})}let bn=cn.status;const nr=cn.headers.get("ETag")||void 0;let Nn,_i;if(200===cn.status){let Xt;try{Xt=yield cn.json()}catch(uo){throw Sr.create("fetch-client-parse",{originalErrorMessage:uo?.message})}Nn=Xt.entries,_i=Xt.state}if("INSTANCE_STATE_UNSPECIFIED"===_i?bn=500:"NO_CHANGE"===_i?bn=304:("NO_TEMPLATE"===_i||"EMPTY_CONFIG"===_i)&&(Nn={}),304!==bn&&200!==bn)throw Sr.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:nr,config:Nn}})()}}class Gi{constructor(A,P){this.client=A,this.storage=P}fetch(A){var P=this;return(0,H.Z)(function*(){const U=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:P,backoffCount:U}){var Z=this;return(0,H.Z)(function*(){yield function bs(I,A){return new Promise((P,U)=>{const Z=Math.max(A-Date.now(),0),ge=setTimeout(P,Z);I.addEventListener(()=>{clearTimeout(ge),U(Sr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,P);try{const ge=yield Z.client.fetch(A);return yield Z.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function ur(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ge))throw ge;const Le={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield Z.storage.setThrottleMetadata(Le),Z.attemptFetch(A,Le)}})()}}class Hi{constructor(A,P,U,Z,ge){this.app=A,this._client=P,this._storageCache=U,this._storage=Z,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fi(I,A){const P=I.target.error||void 0;return Sr.create(A,{originalErrorMessage:P&&P?.message})}const pi="app_namespace_store";class ri{constructor(A,P,U,Z=function is(){return new Promise((I,A)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=U=>{A(fi(U,"storage-open"))},P.onsuccess=U=>{I(U.target.result)},P.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(P){A(Sr.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=A,this.appName=P,this.namespace=U,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var P=this;return(0,H.Z)(function*(){const U=yield P.openDbPromise;return new Promise((Z,ge)=>{const $e=U.transaction([pi],"readonly").objectStore(pi),ct=P.createCompositeKey(A);try{const Nt=$e.get(ct);Nt.onerror=Tt=>{ge(fi(Tt,"storage-get"))},Nt.onsuccess=Tt=>{const Wt=Tt.target.result;Z(Wt?Wt.value:void 0)}}catch(Nt){ge(Sr.create("storage-get",{originalErrorMessage:Nt?.message}))}})})()}set(A,P){var U=this;return(0,H.Z)(function*(){const Z=yield U.openDbPromise;return new Promise((ge,Le)=>{const ct=Z.transaction([pi],"readwrite").objectStore(pi),Nt=U.createCompositeKey(A);try{const Tt=ct.put({compositeKey:Nt,value:P});Tt.onerror=Wt=>{Le(fi(Wt,"storage-set"))},Tt.onsuccess=()=>{ge()}}catch(Tt){Le(Sr.create("storage-set",{originalErrorMessage:Tt?.message}))}})})()}delete(A){var P=this;return(0,H.Z)(function*(){const U=yield P.openDbPromise;return new Promise((Z,ge)=>{const $e=U.transaction([pi],"readwrite").objectStore(pi),ct=P.createCompositeKey(A);try{const Nt=$e.delete(ct);Nt.onerror=Tt=>{ge(fi(Tt,"storage-delete"))},Nt.onsuccess=()=>{Z()}}catch(Nt){ge(Sr.create("storage-delete",{originalErrorMessage:Nt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Go{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,H.Z)(function*(){const P=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),Z=A.storage.getActiveConfig(),ge=yield P;ge&&(A.lastFetchStatus=ge);const Le=yield U;Le&&(A.lastSuccessfulFetchTimestampMillis=Le);const $e=yield Z;$e&&(A.activeConfig=$e)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function zi(){return(zr=zr||(0,H.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ya(){(0,se.Xd)(new ae.wA("remote-config",function I(A,{instanceIdentifier:P}){const U=A.getProvider("app").getImmediate(),Z=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,ie.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:ge,apiKey:Le,appId:$e}=U.options;if(!ge)throw Sr.create("registration-project-id");if(!Le)throw Sr.create("registration-api-key");if(!$e)throw Sr.create("registration-app-id");const ct=new ri($e,U.name,P=P||"firebase"),Nt=new Go(ct),Tt=new de.Yd(yo);Tt.logLevel=de.in.ERROR;const Wt=new Wr(Z,se.Jn,P,ge,Le,$e),cn=new Gi(Wt,ct),bn=new or(cn,ct,Nt,Tt),nr=new Hi(U,bn,Nt,ct,Tt);return function Js(I){const A=(0,ie.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(nr),nr},"PUBLIC").setMultipleInstances(!0)),(0,se.KN)(yo,"0.4.4"),(0,se.KN)(yo,"0.4.4","esm2017")}();const Eo=(I,A)=>A.some(P=>I instanceof P);let ss,gn;const Gl=new WeakMap,ii=new WeakMap,Ta=new WeakMap,wo=new WeakMap,os=new WeakMap;let Pr={get(I,A,P){if(I instanceof IDBTransaction){if("done"===A)return ii.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Ta.get(I);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return qr(I[A])},set:(I,A,P)=>(I[A]=P,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function Wi(I){return"function"==typeof I?function Nr(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Da(){return gn||(gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Pn(this),A),qr(Gl.get(this))}:function(...A){return qr(I.apply(Pn(this),A))}:function(A,...P){const U=I.call(Pn(this),A,...P);return Ta.set(U,A.sort?A.sort():[A]),qr(U)}}(I):(I instanceof IDBTransaction&&function Hl(I){if(ii.has(I))return;const A=new Promise((P,U)=>{const Z=()=>{I.removeEventListener("complete",ge),I.removeEventListener("error",Le),I.removeEventListener("abort",Le)},ge=()=>{P(),Z()},Le=()=>{U(I.error||new DOMException("AbortError","AbortError")),Z()};I.addEventListener("complete",ge),I.addEventListener("error",Le),I.addEventListener("abort",Le)});ii.set(I,A)}(I),Eo(I,function $l(){return ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Pr):I)}function qr(I){if(I instanceof IDBRequest)return function vr(I){const A=new Promise((P,U)=>{const Z=()=>{I.removeEventListener("success",ge),I.removeEventListener("error",Le)},ge=()=>{P(qr(I.result)),Z()},Le=()=>{U(I.error),Z()};I.addEventListener("success",ge),I.addEventListener("error",Le)});return A.then(P=>{P instanceof IDBCursor&&Gl.set(P,I)}).catch(()=>{}),os.set(A,I),A}(I);if(wo.has(I))return wo.get(I);const A=Wi(I);return A!==I&&(wo.set(I,A),os.set(A,I)),A}const Pn=I=>os.get(I);function Ho(I,A,{blocked:P,upgrade:U,blocking:Z,terminated:ge}={}){const Le=indexedDB.open(I,A),$e=qr(Le);return U&&Le.addEventListener("upgradeneeded",ct=>{U(qr(Le.result),ct.oldVersion,ct.newVersion,qr(Le.transaction))}),P&&Le.addEventListener("blocked",()=>P()),$e.then(ct=>{ge&&ct.addEventListener("close",()=>ge()),Z&&ct.addEventListener("versionchange",()=>Z())}).catch(()=>{}),$e}function Qa(I,{blocked:A}={}){const P=indexedDB.deleteDatabase(I);return A&&P.addEventListener("blocked",()=>A()),qr(P).then(()=>{})}const zl=["get","getKey","getAll","getAllKeys","count"],Wl=["put","add","delete","clear"],Ja=new Map;function Xa(I,A){var P;if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Ja.get(A))return Ja.get(A);const U=A.replace(/FromIndex$/,""),Z=A!==U,ge=Wl.includes(U);if(!(U in(Z?IDBIndex:IDBObjectStore).prototype)||!ge&&!zl.includes(U))return;const Le=function(ct){return(P=P||(0,H.Z)(function*(Nt,...Tt){const Wt=this.transaction(Nt,ge?"readwrite":"readonly");let cn=Wt.store;return Z&&(cn=cn.index(Tt.shift())),(yield Promise.all([cn[U](...Tt),ge&&Wt.done]))[0]})).apply(this,arguments)};return Ja.set(A,Le),Le}var eo,Ls,Fc,Es,Yn,Ca,Lc,ql,Ia,Vc,Kl,el,tl,zo,Bc,Aa,qi,ws,as,Wo;!function Mr(I){Pr=I(Pr)}(I=>({...I,get:(A,P,U)=>Xa(A,P)||I.get(A,P,U),has:(A,P)=>!!Xa(A,P)||I.has(A,P)}));const Do="/firebase-messaging-sw.js",si="/firebase-cloud-messaging-push-scope",to="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",no="https://fcmregistrations.googleapis.com/v1",Sa="google.c.a.c_id",nl="google.c.a.c_l",Vs="google.c.a.ts";var Cr=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Cr||{});function ls(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zl(I){const P=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(P),Z=new Uint8Array(U.length);for(let ge=0;ge<U.length;++ge)Z[ge]=U.charCodeAt(ge);return Z}const Bs="fcm_token_details_db",qo=5,Kr="fcm_token_object_Store",Ju="firebase-messaging-database",Ko=1,kr="firebase-messaging-store";let To=null;function ro(){return To||(To=Ho(Ju,Ko,{upgrade:(I,A)=>{0===A&&I.createObjectStore(kr)}})),To}function Zo(I){return(Ls=Ls||(0,H.Z)(function*(A){const P=us(A),Z=yield(yield ro()).transaction(kr).objectStore(kr).get(P);if(Z)return Z;{const ge=yield function cs(I){return(eo=eo||(0,H.Z)(function*(A){var P;if("databases"in indexedDB&&!(yield indexedDB.databases()).map($e=>$e.name).includes(Bs))return null;let U=null;return(yield Ho(Bs,qo,{upgrade:function(Le,$e,ct,Nt){return(P=P||(0,H.Z)(function*(Tt,Wt,cn,bn){var nr;if(Wt<2||!Tt.objectStoreNames.contains(Kr))return;const Nn=bn.objectStore(Kr),_i=yield Nn.index("fcmSenderId").get(A);if(yield Nn.clear(),_i)if(2===Wt){const Xt=_i;if(!Xt.auth||!Xt.p256dh||!Xt.endpoint)return;U={token:Xt.fcmToken,createTime:null!==(nr=Xt.createTime)&&void 0!==nr?nr:Date.now(),subscriptionOptions:{auth:Xt.auth,p256dh:Xt.p256dh,endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:"string"==typeof Xt.vapidKey?Xt.vapidKey:ls(Xt.vapidKey)}}}else if(3===Wt){const Xt=_i;U={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:ls(Xt.auth),p256dh:ls(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:ls(Xt.vapidKey)}}}else if(4===Wt){const Xt=_i;U={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:ls(Xt.auth),p256dh:ls(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:ls(Xt.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Qa(Bs),yield Qa("fcm_vapid_details_db"),yield Qa("undefined"),function $n(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(U)?U:null})).apply(this,arguments)}(A.appConfig.senderId);if(ge)return yield Yo(A,ge),ge}})).apply(this,arguments)}function Yo(I,A){return(Fc=Fc||(0,H.Z)(function*(P,U){const Z=us(P),Le=(yield ro()).transaction(kr,"readwrite");return yield Le.objectStore(kr).put(U,Z),yield Le.done,U})).apply(this,arguments)}function us({appConfig:I}){return I.appId}const Fn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sl(I,A){return(Yn=Yn||(0,H.Z)(function*(P,U){const Z=yield O(P),ge=W(U),Le={method:"POST",headers:Z,body:JSON.stringify(ge)};let $e;try{$e=yield(yield fetch(v(P.appConfig),Le)).json()}catch(ct){throw Fn.create("token-subscribe-failed",{errorInfo:ct?.toString()})}if($e.error)throw Fn.create("token-subscribe-failed",{errorInfo:$e.error.message});if(!$e.token)throw Fn.create("token-subscribe-no-token");return $e.token})).apply(this,arguments)}function io(I,A){return(Lc=Lc||(0,H.Z)(function*(P,U){const ge={method:"DELETE",headers:yield O(P)};try{const $e=yield(yield fetch(`${v(P.appConfig)}/${U}`,ge)).json();if($e.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:$e.error.message})}catch(Le){throw Fn.create("token-unsubscribe-failed",{errorInfo:Le?.toString()})}})).apply(this,arguments)}function v({projectId:I}){return`${no}/projects/${I}/registrations`}function O(I){return(ql=ql||(0,H.Z)(function*({appConfig:A,installations:P}){const U=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function W({p256dh:I,auth:A,endpoint:P,vapidKey:U}){const Z={web:{endpoint:P,auth:A,p256dh:I}};return U!==to&&(Z.web.applicationPubKey=U),Z}const M=6048e5;function G(I){return(Ia=Ia||(0,H.Z)(function*(A){const P=yield function mn(I,A){return(tl=tl||(0,H.Z)(function*(P,U){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zl(U)})})).apply(this,arguments)}(A.swRegistration,A.vapidKey),U={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:P.endpoint,auth:ls(P.getKey("auth")),p256dh:ls(P.getKey("p256dh"))},Z=yield Zo(A.firebaseDependencies);if(Z){if(function An(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(Z.subscriptionOptions,U))return Date.now()>=Z.createTime+M?function Be(I,A){return(Kl=Kl||(0,H.Z)(function*(P,U){try{const Z=yield function Co(I,A){return(Ca=Ca||(0,H.Z)(function*(P,U){const Z=yield O(P),ge=W(U.subscriptionOptions),Le={method:"PATCH",headers:Z,body:JSON.stringify(ge)};let $e;try{$e=yield(yield fetch(`${v(P.appConfig)}/${U.token}`,Le)).json()}catch(ct){throw Fn.create("token-update-failed",{errorInfo:ct?.toString()})}if($e.error)throw Fn.create("token-update-failed",{errorInfo:$e.error.message});if(!$e.token)throw Fn.create("token-update-no-token");return $e.token})).apply(this,arguments)}(P.firebaseDependencies,U),ge=Object.assign(Object.assign({},U),{token:Z,createTime:Date.now()});return yield Yo(P.firebaseDependencies,ge),Z}catch(Z){throw yield function re(I){return(Vc=Vc||(0,H.Z)(function*(A){const P=yield Zo(A.firebaseDependencies);P&&(yield io(A.firebaseDependencies,P.token),yield function il(I){return(Es=Es||(0,H.Z)(function*(A){const P=us(A),Z=(yield ro()).transaction(kr,"readwrite");yield Z.objectStore(kr).delete(P),yield Z.done})).apply(this,arguments)}(A.firebaseDependencies));const U=yield A.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()})).apply(this,arguments)}(P),Z}})).apply(this,arguments)}(A,{token:Z.token,createTime:Date.now(),subscriptionOptions:U}):Z.token;try{yield io(A.firebaseDependencies,Z.token)}catch(ge){console.warn(ge)}return ut(A.firebaseDependencies,U)}return ut(A.firebaseDependencies,U)})).apply(this,arguments)}function ut(I,A){return(el=el||(0,H.Z)(function*(P,U){const ge={token:yield sl(P,U),createTime:Date.now(),subscriptionOptions:U};return yield Yo(P,ge),ge.token})).apply(this,arguments)}function En(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function vn(I,A){if(!A.notification)return;I.notification={};const P=A.notification.title;P&&(I.notification.title=P);const U=A.notification.body;U&&(I.notification.body=U);const Z=A.notification.image;Z&&(I.notification.image=Z);const ge=A.notification.icon;ge&&(I.notification.icon=ge)}(A,I),function dr(I,A){A.data&&(I.data=A.data)}(A,I),function Sn(I,A){var P,U,Z,ge,Le;if(!(A.fcmOptions||null!==(P=A.notification)&&void 0!==P&&P.click_action))return;I.fcmOptions={};const $e=null!==(Z=null===(U=A.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==Z?Z:null===(ge=A.notification)||void 0===ge?void 0:ge.click_action;$e&&(I.fcmOptions.link=$e);const ct=null===(Le=A.fcmOptions)||void 0===Le?void 0:Le.analytics_label;ct&&(I.fcmOptions.analyticsLabel=ct)}(A,I),A}function Si(I,A){const P=[];for(let U=0;U<I.length;U++)P.push(I.charAt(U)),U<A.length&&P.push(A.charAt(U));return P.join("")}function Zi(I){return Fn.create("missing-app-config-values",{valueName:I})}Si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mi{constructor(A,P,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function ds(I){if(!I||!I.options)throw Zi("App Configuration Object");if(!I.name)throw Zi("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:P}=I;for(const U of A)if(!P[U])throw Zi(U);return{appName:I.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Z,installations:P,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Jn(I,A){return(qi=qi||(0,H.Z)(function*(P,U){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield function js(I,A){return(Aa=Aa||(0,H.Z)(function*(P,U){U?P.vapidKey=U:P.vapidKey||(P.vapidKey=to)})).apply(this,arguments)}(P,U?.vapidKey),yield function Ri(I,A){return(Bc=Bc||(0,H.Z)(function*(P,U){if(!U&&!P.swRegistration&&(yield function Or(I){return(zo=zo||(0,H.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(Do,{scope:si}),A.swRegistration.update().catch(()=>{})}catch(P){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}(P)),U||!P.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");P.swRegistration=U}})).apply(this,arguments)}(P,U?.serviceWorkerRegistration),G(P)})).apply(this,arguments)}function mi(I,A){return(as=as||(0,H.Z)(function*(P,U){const Z=U.data;if(!Z.isFirebaseMessaging)return;P.onMessageHandler&&Z.messageType===Cr.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(En(Z)):P.onMessageHandler.next(En(Z)));const ge=Z.data;(function gr(I){return"object"==typeof I&&!!I&&Sa in I})(ge)&&"1"===ge["google.c.a.e"]&&(yield function Io(I,A,P){return(ws=ws||(0,H.Z)(function*(U,Z,ge){const Le=function Ma(I){switch(I){case Cr.NOTIFICATION_CLICKED:return"notification_open";case Cr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Z);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Le,{message_id:ge[Sa],message_name:ge[nl],message_time:ge[Vs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(P,Z.messageType,ge))})).apply(this,arguments)}const jc="@firebase/messaging",Qo=I=>{const A=new Mi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>mi(A,P)),A},sr=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:U=>Jn(A,U)}};function Ql(){return(Wo=Wo||(0,H.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Xl,ol,Jt,Uc,$c,Ts,tc,al,zc;!function Xu(){(0,se.Xd)(new ae.wA("messaging",Qo,"PUBLIC")),(0,se.Xd)(new ae.wA("messaging-internal",sr,"PRIVATE")),(0,se.KN)(jc,"0.12.4"),(0,se.KN)(jc,"0.12.4","esm2017")}();const Qe="analytics",Mn="firebase_id",qc="origin",rd=6e4,Zr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nc="https://www.googletagmanager.com/gtag/js",Tn=new de.Yd("@firebase/analytics"),ar=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ao(I){if(!I.startsWith(nc)){const A=ar.create("invalid-gtag-resource",{gtagURL:I});return Tn.warn(A.message),""}return I}function gh(I){return Promise.all(I.map(A=>A.catch(P=>P)))}const xe=30,rc=new class Lr{constructor(A={},P=1e3){this.throttleMetadata=A,this.intervalMillis=P}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,P){this.throttleMetadata[A]=P}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function id(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function _(I){return(Uc=Uc||(0,H.Z)(function*(A,P=rc,U){const{appId:Z,apiKey:ge,measurementId:Le}=A.options;if(!Z)throw ar.create("no-app-id");if(!ge){if(Le)return{measurementId:Le,appId:Z};throw ar.create("no-api-key")}const $e=P.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new R;return setTimeout((0,H.Z)(function*(){ct.abort()}),void 0!==U?U:rd),E({appId:Z,apiKey:ge,measurementId:Le},$e,ct,P)})).apply(this,arguments)}function E(I,A,P){return($c=$c||(0,H.Z)(function*(U,{throttleEndTimeMillis:Z,backoffCount:ge},Le,$e=rc){var ct;const{appId:Nt,measurementId:Tt}=U;try{yield function T(I,A){return new Promise((P,U)=>{const Z=Math.max(A-Date.now(),0),ge=setTimeout(P,Z);I.addEventListener(()=>{clearTimeout(ge),U(ar.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(Le,Z)}catch(Wt){if(Tt)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:Nt,measurementId:Tt};throw Wt}try{const Wt=yield function mh(I){return(Jt=Jt||(0,H.Z)(function*(A){var P;const{appId:U,apiKey:Z}=A,ge={method:"GET",headers:id(Z)},Le=Zr.replace("{app-id}",U),$e=yield fetch(Le,ge);if(200!==$e.status&&304!==$e.status){let ct="";try{const Nt=yield $e.json();null!==(P=Nt.error)&&void 0!==P&&P.message&&(ct=Nt.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:$e.status,responseMessage:ct})}return $e.json()})).apply(this,arguments)}(U);return $e.deleteThrottleMetadata(Nt),Wt}catch(Wt){const cn=Wt;if(!function b(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(cn)){if($e.deleteThrottleMetadata(Nt),Tt)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${cn?.message}]`),{appId:Nt,measurementId:Tt};throw Wt}const bn=503===Number(null===(ct=cn?.customData)||void 0===ct?void 0:ct.httpStatus)?(0,ie.$s)(ge,$e.intervalMillis,xe):(0,ie.$s)(ge,$e.intervalMillis),nr={throttleEndTimeMillis:Date.now()+bn,backoffCount:ge+1};return $e.setThrottleMetadata(Nt,nr),Tn.debug(`Calling attemptFetch again in ${bn} millis`),E(U,nr,Le,$e)}})).apply(this,arguments)}class R{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let L,_t;function hr(I,A,P,U,Z,ge,Le){return(al=al||(0,H.Z)(function*($e,ct,Nt,Tt,Wt,cn,bn){var nr;const Nn=_($e);Nn.then(Br=>{Nt[Br.measurementId]=Br.appId,$e.options.measurementId&&Br.measurementId!==$e.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${$e.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>Tn.error(Br)),ct.push(Nn);const _i=function ll(){return(tc=tc||(0,H.Z)(function*(){if(!(0,ie.hl)())return Tn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return Tn.warn(ar.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(Br=>{if(Br)return Tt.getId()}),[Xt,uo]=yield Promise.all([Nn,_i]);(function Dt(I){const A=window.document.getElementsByTagName("script");for(const P of Object.values(A))if(P.src&&P.src.includes(nc)&&P.src.includes(I))return P;return null})(cn)||function br(I,A){const P=function rt(I,A){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(I,A)),P}("firebase-js-sdk-policy",{createScriptURL:Ao}),U=document.createElement("script"),Z=`${nc}?l=${I}&id=${A}`;U.src=P?P?.createScriptURL(Z):Z,U.async=!0,document.head.appendChild(U)}(cn,Xt.measurementId),_t&&(Wt("consent","default",_t),function Ht(I){_t=I}(void 0)),Wt("js",new Date);const Er=null!==(nr=bn?.config)&&void 0!==nr?nr:{};return Er[qc]="firebase",Er.update=!0,null!=uo&&(Er[Mn]=uo),Wt("config",Xt.measurementId,Er),L&&(Wt("set",L),function an(I){L=I}(void 0)),Xt.measurementId})).apply(this,arguments)}class vt{constructor(A){this.app=A}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},cl=[];const ao={};let Kc,ai,lo="dataLayer",ul=!1;function sd(I,A,P){!function hs(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((U,Z)=>`(${Z+1}) ${U}`).join(" "),P=ar.create("invalid-analytics-context",{errorInfo:A});Tn.warn(P.message)}}();const U=I.options.appId;if(!U)throw ar.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ar.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[U])throw ar.create("already-exists",{id:U});if(!ul){!function tr(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(lo);const{wrappedGtag:ge,gtagCore:Le}=function oo(I,A,P,U,Z){let ge=function(...Le){window[U].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ge=window[Z]),window[Z]=function Lt(I,A,P,U){var Z;return function ge(Le){return(Z=Z||(0,H.Z)(function*($e,...ct){try{if("event"===$e){const[Nt,Tt]=ct;yield function kt(I,A,P,U,Z){return(ol=ol||(0,H.Z)(function*(ge,Le,$e,ct,Nt){try{let Tt=[];if(Nt&&Nt.send_to){let Wt=Nt.send_to;Array.isArray(Wt)||(Wt=[Wt]);const cn=yield gh($e);for(const bn of Wt){const nr=cn.find(_i=>_i.measurementId===bn),Nn=nr&&Le[nr.appId];if(!Nn){Tt=[];break}Tt.push(Nn)}}0===Tt.length&&(Tt=Object.values(Le)),yield Promise.all(Tt),ge("event",ct,Nt||{})}catch(Tt){Tn.error(Tt)}})).apply(this,arguments)}(I,A,P,Nt,Tt)}else if("config"===$e){const[Nt,Tt]=ct;yield function Cs(I,A,P,U,Z,ge){return(Xl=Xl||(0,H.Z)(function*(Le,$e,ct,Nt,Tt,Wt){const cn=Nt[Tt];try{if(cn)yield $e[cn];else{const nr=(yield gh(ct)).find(Nn=>Nn.measurementId===Tt);nr&&(yield $e[nr.appId])}}catch(bn){Tn.error(bn)}Le("config",Tt,Wt)})).apply(this,arguments)}(I,A,P,U,Nt,Tt)}else if("consent"===$e){const[Nt]=ct;I("consent","update",Nt)}else if("get"===$e){const[Nt,Tt,Wt]=ct;I("get",Nt,Tt,Wt)}else if("set"===$e){const[Nt]=ct;I("set",Nt)}else I($e,...ct)}catch(Nt){Tn.error(Nt)}})).apply(this,arguments)}}(ge,I,A,P),{gtagCore:ge,wrappedGtag:window[Z]}}(oi,cl,ao,lo,"gtag");ai=ge,Kc=Le,ul=!0}return oi[U]=hr(I,cl,ao,A,Kc,lo,P),new vt(I)}function Us(){return(zc=zc||(0,H.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Yc="@firebase/analytics";!function rm(){(0,se.Xd)(new ae.wA(Qe,(A,{options:P})=>sd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,se.Xd)(new ae.wA("analytics-internal",function I(A){try{const P=A.getProvider(Qe).getImmediate();return{logEvent:(U,Z,ge)=>function Tv(I,A,P,U){I=(0,ie.m9)(I),function z(I,A,P,U,Z){return(Ts=Ts||(0,H.Z)(function*(ge,Le,$e,ct,Nt){if(Nt&&Nt.global)ge("event",$e,ct);else{const Tt=yield Le;ge("event",$e,Object.assign(Object.assign({},ct),{send_to:Tt}))}})).apply(this,arguments)}(ai,oi[I.app.options.appId],A,P,U).catch(Z=>Tn.error(Z))}(P,U,Z,ge)}}catch(P){throw ar.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,se.KN)(Yc,"0.10.0"),(0,se.KN)(Yc,"0.10.0","esm2017")}();var Qc=k(1954),xa=k(2631);const yh=new class ad extends xa.v{}(class Yi extends Qc.o{constructor(A,P){super(A,P),this.scheduler=A,this.work=P}schedule(A,P=0){return P>0?super.schedule(A,P):(this.delay=P,this.state=A,this.scheduler.flush(this),this)}execute(A,P){return P>0||this.closed?super.execute(A,P):this._execute(A,P)}requestAsyncId(A,P,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(A,P,U):(A.flush(this),0)}});var im=k(6321),co=k(9397),So=k(5137),Jc=k(3093);const sc=new C.GfV("7.6.1"),Xc="__angularfire_symbol__analyticsIsSupportedValue",oc="__angularfire_symbol__analyticsIsSupported",eu="__angularfire_symbol__remoteConfigIsSupportedValue",vh="__angularfire_symbol__remoteConfigIsSupported",ld="__angularfire_symbol__messagingIsSupportedValue",cd="__angularfire_symbol__messagingIsSupported";function hl(I,A,P){if(A){if(1===A.length)return A[0];const ge=A.filter(Le=>Le.app===P);if(1===ge.length)return ge[0]}return P.container.getProvider(I).getImmediate({optional:!0})}globalThis[oc]||(globalThis[oc]=Us().then(I=>globalThis[Xc]=I).catch(()=>globalThis[Xc]=!1)),globalThis[cd]||(globalThis[cd]=Ql().then(I=>globalThis[ld]=I).catch(()=>globalThis[ld]=!1)),globalThis[vh]||(globalThis[vh]=zi().then(I=>globalThis[eu]=I).catch(()=>globalThis[eu]=!1));const om=(I,A)=>{const P=A?[A]:(0,ee.C6)(),U=[];return P.forEach(Z=>{Z.container.getProvider(I).instances.forEach(Le=>{U.includes(Le)||U.push(Le)})}),U};function fl(){}class Eh{constructor(A,P=yh){this.zone=A,this.delegate=P}now(){return this.delegate.now()}schedule(A,P,U){const Z=this.zone;return this.delegate.schedule(function(Le){Z.runGuarded(()=>{A.apply(this,[Le])})},P,U)}}class tu{constructor(A){this.zone=A,this.task=null}call(A,P){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fl,{},fl,fl)),P.pipe((0,co.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let am=(()=>{class I{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Eh(Zone.current)),this.insideAngular=P.run(()=>new Eh(Zone.current,im.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(P){return new(P||I)(C.LFG(C.R0b))},I.\u0275prov=C.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function xr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function nu(I){return xr(),function Vr(I){return function(P){return(P=P.lift(new tu(I.ngZone))).pipe((0,So.R)(I.outsideAngular),(0,Jc.Q)(I.insideAngular))}}(xr())(I)}},9058:(bt,Ce,k)=>{k.d(Ce,{$s:()=>Je,BH:()=>ye,L:()=>pe,LL:()=>Ze,P0:()=>Ot,Pz:()=>Ve,Sg:()=>Re,UG:()=>qe,US:()=>ae,ZB:()=>J,ZR:()=>Ye,aH:()=>be,b$:()=>Gt,eu:()=>Te,hl:()=>_e,jU:()=>pt,m9:()=>jn,ne:()=>on,pd:()=>xt,r3:()=>ue,ru:()=>Vt,tV:()=>Y,uI:()=>we,vZ:()=>lt,w1:()=>nn,xO:()=>Kt,xb:()=>De,z$:()=>ze,zI:()=>Ne,zd:()=>yt});const se=function(te){const B=[];let V=0;for(let Q=0;Q<te.length;Q++){let j=te.charCodeAt(Q);j<128?B[V++]=j:j<2048?(B[V++]=j>>6|192,B[V++]=63&j|128):55296==(64512&j)&&Q+1<te.length&&56320==(64512&te.charCodeAt(Q+1))?(j=65536+((1023&j)<<10)+(1023&te.charCodeAt(++Q)),B[V++]=j>>18|240,B[V++]=j>>12&63|128,B[V++]=j>>6&63|128,B[V++]=63&j|128):(B[V++]=j>>12|224,B[V++]=j>>6&63|128,B[V++]=63&j|128)}return B},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,B){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let j=0;j<te.length;j+=3){const le=te[j],ke=j+1<te.length,Xe=ke?te[j+1]:0,Ut=j+2<te.length,Ct=Ut?te[j+2]:0;let Hn=(15&Xe)<<2|Ct>>6,ei=63&Ct;Ut||(ei=64,ke||(Hn=64)),Q.push(V[le>>2],V[(3&le)<<4|Xe>>4],V[Hn],V[ei])}return Q.join("")},encodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(te):this.encodeByteArray(se(te),B)},decodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(te):function(te){const B=[];let V=0,Q=0;for(;V<te.length;){const j=te[V++];if(j<128)B[Q++]=String.fromCharCode(j);else if(j>191&&j<224){const le=te[V++];B[Q++]=String.fromCharCode((31&j)<<6|63&le)}else if(j>239&&j<365){const Ut=((7&j)<<18|(63&te[V++])<<12|(63&te[V++])<<6|63&te[V++])-65536;B[Q++]=String.fromCharCode(55296+(Ut>>10)),B[Q++]=String.fromCharCode(56320+(1023&Ut))}else{const le=te[V++],ke=te[V++];B[Q++]=String.fromCharCode((15&j)<<12|(63&le)<<6|63&ke)}}return B.join("")}(this.decodeStringToByteArray(te,B))},decodeStringToByteArray(te,B){this.init_();const V=B?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let j=0;j<te.length;){const le=V[te.charAt(j++)],Xe=j<te.length?V[te.charAt(j)]:0;++j;const Ct=j<te.length?V[te.charAt(j)]:64;++j;const Zt=j<te.length?V[te.charAt(j)]:64;if(++j,null==le||null==Xe||null==Ct||null==Zt)throw new de;Q.push(le<<2|Xe>>4),64!==Ct&&(Q.push(Xe<<4&240|Ct>>2),64!==Zt&&Q.push(Ct<<6&192|Zt))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(te){return function(te){const B=se(te);return ae.encodeByteArray(B,!0)}(te).replace(/\./g,"")},Y=function(te){try{return ae.decodeString(te,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function J(te,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return B}for(const V in B)!B.hasOwnProperty(V)||!Ue(V)||(te[V]=J(te[V],B[V]));return te}function Ue(te){return"__proto__"!==te}const He=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=te&&Y(te[1]);return B&&JSON.parse(B)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Ot=te=>{const B=(te=>{var B,V;return null===(V=null===(B=He())||void 0===B?void 0:B.emulatorHosts)||void 0===V?void 0:V[te]})(te);if(!B)return;const V=B.lastIndexOf(":");if(V<=0||V+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const Q=parseInt(B.substring(V+1),10);return"["===B[0]?[B.substring(1,V-1),Q]:[B.substring(0,V),Q]},be=()=>{var te;return null===(te=He())||void 0===te?void 0:te.config},Ve=te=>{var B;return null===(B=He())||void 0===B?void 0:B[`_${te}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,V)=>{this.resolve=B,this.reject=V})}wrapCallback(B){return(V,Q)=>{V?this.reject(V):this.resolve(Q),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(V):B(V,Q))}}}function Re(te,B){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=B||"demo-project",j=te.iat||0,le=te.sub||te.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:j,exp:j+3600,auth_time:j,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},te);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ke)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function qe(){var te;const B=null===(te=He())||void 0===te?void 0:te.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function Vt(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const te=ze();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((te,B)=>{try{let V=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(Q);j.onsuccess=()=>{j.result.close(),V||self.indexedDB.deleteDatabase(Q),te(!0)},j.onupgradeneeded=()=>{V=!1},j.onerror=()=>{var le;B((null===(le=j.error)||void 0===le?void 0:le.message)||"")}}catch(V){B(V)}})}function Ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ye extends Error{constructor(B,V,Q){super(V),this.code=B,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(B,V,Q){this.service=B,this.serviceName=V,this.errors=Q}create(B,...V){const Q=V[0]||{},j=`${this.service}/${B}`,le=this.errors[B],ke=le?function St(te,B){return te.replace(at,(V,Q)=>{const j=B[Q];return null!=j?String(j):`<${Q}?>`})}(le,Q):"Error";return new Ye(j,`${this.serviceName}: ${ke} (${j}).`,Q)}}const at=/\{\$([^}]+)}/g;function ue(te,B){return Object.prototype.hasOwnProperty.call(te,B)}function De(te){for(const B in te)if(Object.prototype.hasOwnProperty.call(te,B))return!1;return!0}function lt(te,B){if(te===B)return!0;const V=Object.keys(te),Q=Object.keys(B);for(const j of V){if(!Q.includes(j))return!1;const le=te[j],ke=B[j];if(Et(le)&&Et(ke)){if(!lt(le,ke))return!1}else if(le!==ke)return!1}for(const j of Q)if(!V.includes(j))return!1;return!0}function Et(te){return null!==te&&"object"==typeof te}function Kt(te){const B=[];for(const[V,Q]of Object.entries(te))Array.isArray(Q)?Q.forEach(j=>{B.push(encodeURIComponent(V)+"="+encodeURIComponent(j))}):B.push(encodeURIComponent(V)+"="+encodeURIComponent(Q));return B.length?"&"+B.join("&"):""}function yt(te){const B={};return te.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[j,le]=Q.split("=");B[decodeURIComponent(j)]=decodeURIComponent(le)}}),B}function xt(te){const B=te.indexOf("?");if(!B)return"";const V=te.indexOf("#",B);return te.substring(B,V>0?V:void 0)}function on(te,B){const V=new Xn(te,B);return V.subscribe.bind(V)}class Xn{constructor(B,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{B(this)}).catch(Q=>{this.error(Q)})}next(B){this.forEachObserver(V=>{V.next(B)})}error(B){this.forEachObserver(V=>{V.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,V,Q){let j;if(void 0===B&&void 0===V&&void 0===Q)throw new Error("Missing Observer.");j=function rn(te,B){if("object"!=typeof te||null===te)return!1;for(const V of B)if(V in te&&"function"==typeof te[V])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:V,complete:Q},void 0===j.next&&(j.next=kn),void 0===j.error&&(j.error=kn),void 0===j.complete&&(j.complete=kn);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),le}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,B)}sendOne(B,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{V(this.observers[B])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}const Fr=1e3,Ke=2,oe=144e5,Se=.5;function Je(te,B=Fr,V=Ke){const Q=B*Math.pow(V,te),j=Math.round(Se*Q*(Math.random()-.5)*2);return Math.min(oe,Q+j)}function jn(te){return te&&te._delegate?te._delegate:te}},6198:(bt,Ce,k)=>{var C=k(6593),ee=k(969),H=k(5861),se=k(4303);(0,se.KN)("firebase","10.3.1","app");var J,de=k(4537),Ie=k(7879),pe=k(9058),Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={},Ue=Ue||{},ve=Y||self;function it(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ge(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),Ft=0;function Ot(t,e,n){return t.call.apply(t.bind,arguments)}function be(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:be).apply(null,arguments)}function ye(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Re(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,l){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[s].apply(r,u)}}function ze(){this.s=this.s,this.o=this.o}ze.prototype.s=!1,ze.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dt(t){Object.prototype.hasOwnProperty.call(t,He)&&t[He]||(t[He]=++Ft)}(this)},ze.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qe=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pt(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vt(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(it(r)){const s=t.length||0,l=r.length||0;t.length=s+l;for(let u=0;u<l;u++)t[s+u]=r[u]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return t}();function nn(t){return/^[\s\xa0]*$/.test(t)}function xn(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function On(t){return-1!=xn().indexOf(t)}function Qn(t){return Qn[" "](t),t}Qn[" "]=function(){};var Wn,t,Te=On("Opera"),Ne=On("Trident")||On("MSIE"),Ae=On("Edge"),Ye=Ae||Ne,Ze=On("Gecko")&&!(-1!=xn().toLowerCase().indexOf("webkit")&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),St=-1!=xn().toLowerCase().indexOf("webkit")&&!On("Edge");function at(){var t=ve.document;return t?t.documentMode:void 0}e:{var Bt="",hn=(t=xn(),Ze?/rv:([^\);]+)(\)|;)/.exec(t):Ae?/Edge\/([\d\.]+)/.exec(t):Ne?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):St?/WebKit\/(\S+)/.exec(t):Te?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(hn&&(Bt=hn?hn[1]:""),Ne){var Qt=at();if(null!=Qt&&Qt>parseFloat(Bt)){Wn=String(Qt);break e}}Wn=Bt}var sn=ve.document&&Ne&&(at()||parseInt(Wn,10))||void 0;function ue(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ze){e:{try{Qn(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ue.$.h.call(this)}}Re(ue,Gt);var ne={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),We=0;function lt(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++We,this.fa=this.ia=!1}function Et(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fn(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function yt(t){const e={};for(const n in t)e[n]=t[n];return e}const xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(t,e){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)t[n]=r[n];for(let l=0;l<xt.length;l++)n=xt[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function on(t){this.src=t,this.g={},this.h=0}function Xn(t,e){var n=e.type;if(n in t.g){var l,r=t.g[n],s=qe(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(Et(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function er(t,e,n,r){for(var s=0;s<t.length;++s){var l=t[s];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==r)return s}return-1}on.prototype.add=function(t,e,n,r,s){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var u=er(t,e,r,s);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new lt(e,this.src,l,!!r,s)).ia=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),kn={};function Bn(t,e,n,r,s){if(r&&r.once)return yn(t,e,n,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bn(t,e[l],n,r,s);return null}return n=oe(n),t&&t[De]?t.O(e,n,Ge(r)?!!r.capture:!!r,s):_n(t,e,n,!1,r,s)}function _n(t,e,n,r,s,l){if(!e)throw Error("Invalid event type");var u=Ge(s)?!!s.capture:!!s,p=Fr(t);if(p||(t[rn]=p=new on(t)),(n=p.add(e,n,r,u,l)).proxy)return n;if(r=function Di(){const e=di;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qt||(s=u),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Xr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yn(t,e,n,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)yn(t,e[l],n,r,s);return null}return n=oe(n),t&&t[De]?t.P(e,n,Ge(r)?!!r.capture:!!r,s):_n(t,e,n,!0,r,s)}function yr(t,e,n,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)yr(t,e[l],n,r,s);else r=Ge(r)?!!r.capture:!!r,n=oe(n),t&&t[De]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=er(l=t.g[e],n,r,s))&&(Et(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete t.g[e],t.h--))):t&&(t=Fr(t))&&(e=t.g[e.toString()],t=-1,e&&(t=er(e,n,r,s)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[De])Xn(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fr(e))?(Xn(n,t),0==n.h&&(n.src=null,e[rn]=null)):Et(t)}}}function Xr(t){return t in kn?kn[t]:kn[t]="on"+t}function di(t,e){if(t.fa)t=!0;else{e=new ue(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pn(t),t=n.call(r,e)}return t}function Fr(t){return(t=t[rn])instanceof on?t:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(t){return"function"==typeof t?t:(t[Ke]||(t[Ke]=function(e){return t.handleEvent(e)}),t[Ke])}function Se(){ze.call(this),this.i=new on(this),this.S=this,this.J=null}function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var s=e;$t(e=new Gt(r,t),s)}if(s=!0,n)for(var l=n.length-1;0<=l;l--){var u=e.g=n[l];s=mt(u,r,!0,e)&&s}if(s=mt(u=e.g=t,r,!0,e)&&s,s=mt(u,r,!1,e)&&s,n)for(l=0;l<n.length;l++)s=mt(u=e.g=n[l],r,!1,e)&&s}function mt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.fa&&u.capture==n){var p=u.listener,m=u.la||u.src;u.ia&&Xn(t.i,u),s=!1!==p.call(m,r)&&s}}return s&&!r.defaultPrevented}Re(Se,ze),Se.prototype[De]=!0,Se.prototype.removeEventListener=function(t,e,n,r){yr(this,t,e,n,r)},Se.prototype.N=function(){if(Se.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Et(n[r]);delete t.g[e],t.h--}}this.J=null},Se.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Se.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Mt=ve.JSON.stringify;function te(){var t=Ut;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var V=new class jn{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Q,t=>t.reset());class Q{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function j(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function le(t){ve.setTimeout(()=>{throw t},0)}let ke,Xe=!1,Ut=new class B{constructor(){this.h=this.g=null}add(e,n){const r=V.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Ct=()=>{const t=ve.Promise.resolve(void 0);ke=()=>{t.then(Cn)}};var Cn=()=>{for(var t;t=te();){try{t.h.call(t.g)}catch(n){le(n)}var e=V;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xe=!1};function Zt(t,e){Se.call(this),this.h=t||1,this.g=e||ve,this.j=Ve(this.qb,this),this.l=Date.now()}function Hn(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function ei(t,e,n){if("function"==typeof t)n&&(t=Ve(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ve(t.handleEvent,t)}return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function _a(t){t.g=ei(()=>{t.g=null,t.i&&(t.i=!1,_a(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Re(Zt,Se),(J=Zt.prototype).ga=!1,J.T=null,J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(Hn(this),this.start()))}},J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.N=function(){Zt.$.N.call(this),Hn(this),delete this.g};class kc extends ze{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(t){ze.call(this),this.h=t,this.g={}}Re(hi,ze);var ms=[];function Vi(t,e,n,r){Array.isArray(n)||(n&&(ms[0]=n.toString()),n=ms);for(var s=0;s<n.length;s++){var l=Bn(e,n[s],r||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function Bi(t){fn(t.g,function(e,n){this.g.hasOwnProperty(n)&&pn(e)},t),t.g={}}function un(){this.g=!0}function ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ti(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<s.length;u++)s[u]=""}}}return Mt(n)}catch{return e}}(t,n)+(r?" "+r:"")})}hi.prototype.N=function(){hi.$.N.call(this),Bi(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},un.prototype.Ea=function(){this.g=!1},un.prototype.info=function(){};var ti={},mo=null;function Ys(){return mo=mo||new Se}function ya(t){Gt.call(this,ti.Ta,t)}function _s(t){const e=Ys();Je(e,new ya(e))}function va(t,e){Gt.call(this,ti.STAT_EVENT,t),this.stat=e}function Dr(t){const e=Ys();Je(e,new va(e,t))}function jo(t,e){Gt.call(this,ti.Ua,t),this.size=e}function ks(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}ti.Ta="serverreachability",Re(ya,Gt),ti.STAT_EVENT="statevent",Re(va,Gt),ti.Ua="timingevent",Re(jo,Gt);var Qs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ha={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ba(){}function Hr(){}ba.prototype.h=null;var Uo,ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ns(){Gt.call(this,"d")}function Ci(){Gt.call(this,"c")}function Ii(){}function ys(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hi(this),this.P=_o,this.V=new Zt(t=Ye?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}Re(ns,Gt),Re(Ci,Gt),Re(Ii,ba),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},Uo=new Ii;var _o=45e3,Ea={},zr={};function yo(t,e,n){t.L=1,t.v=Zn(rs(e)),t.s=n,t.S=!0,za(t,null)}function za(t,e){t.G=Date.now(),Sr(t),t.A=rs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),bo(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vs,t.g=Vs(t.l,n?e:null,!t.s),0<t.O&&(t.M=new kc(Ve(t.Pa,t,t.g),t.O)),Vi(t.U,t.g,"readystatechange",t.nb),e=t.I?yt(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_s(),function po(t,e,n,r,s,l){t.info(function(){if(t.g)if(l)for(var u="",p=l.split("&"),m=0;m<p.length;m++){var w=p[m].split("=");if(1<w.length){var S=w[0];w=w[1];var N=S.split("_");u=2<=N.length&&"type"==N[1]?u+(S+"=")+w+"&":u+(S+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Ul(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Wa(t,e,n){let s,r=!0;for(;!t.J&&t.C<n.length;){if(s=qa(t,n),s==zr){4==e&&(t.o=4,Dr(14),r=!1),ts(t.j,t.m,null,"[Incomplete Response]");break}if(s==Ea){t.o=4,Dr(15),ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ts(t.j,t.m,s,null),pr(t,s)}Ul(t)&&s!=zr&&s!=Ea&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Dr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ds(e),e.M=!0,Dr(11))):(ts(t.j,t.m,n,"[Invalid Chunked Response]"),ln(t),vo(t))}function qa(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zr:(n=Number(e.substring(n,r)),isNaN(n)?Ea:(r+=1)+n>e.length?zr:(e=e.slice(r,r+n),t.C=r+n,e))}function Sr(t){t.Y=Date.now()+t.P,Ka(t,t.P)}function Ka(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ks(Ve(t.lb,t),e)}function $o(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}function vo(t){0==t.l.H||t.J||si(t.l,t)}function ln(t){$o(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Hn(t.V),Bi(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pr(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ss(n.i,t)))if(!t.K&&ss(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Do(n),el(n)}Wo(n),Dr(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=ks(Ve(n.ib,n),6e3));if(1>=Eo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else no(n,11)}else if((t.K||n.g==t)&&Do(n),!nn(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let w=s[e];if(n.V=w[0],w=w[1],2==n.H)if("c"==w[0]){n.K=w[1],n.pa=w[2];const S=w[3];null!=S&&(n.ra=S,n.l.info("VER="+n.ra));const N=w[4];null!=N&&(n.Ga=N,n.l.info("SVER="+n.Ga));const $=w[5];null!=$&&"number"==typeof $&&0<$&&(n.L=r=1.5*$,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const q=t.g;if(q){const me=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(me){var l=r.i;l.g||-1==me.indexOf("spdy")&&-1==me.indexOf("quic")&&-1==me.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(gn(l,l.h),l.h=null))}if(r.F){const Pe=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(r.Da=Pe,Pt(r.I,r.F,Pe))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=nl(r,r.J?r.pa:null,r.Y),u.K){$l(r.i,u);var p=u,m=r.L;m&&p.setTimeout(m),p.B&&($o(p),Sr(p)),r.g=u}else as(r);0<n.j.length&&zo(n)}else"stop"!=w[0]&&"close"!=w[0]||no(n,7);else 3==n.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?no(n,7):Kl(n):"noop"!=w[0]&&n.h&&n.h.Aa(w),n.A=0)}_s()}catch{}}function ni(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(it(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function wa(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(it(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Tr(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(it(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,l=0;l<s;l++)e.call(void 0,r[l],n&&n[l],t)}(J=ys.prototype).setTimeout=function(t){this.P=t},J.nb=function(t){t=t.target;const e=this.M;e&&3==Es(t)?e.l():this.Pa(t)},J.Pa=function(t){try{if(t==this.g)e:{const S=Es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Ye||this.g&&(this.h.h||this.g.ja()||Yn(this.g)))){this.J||4!=S||7==e||_s(),$o(this);var n=this.g.da();this.ca=n;t:if(Ul(this)){var r=Yn(this.g);t="";var s=r.length,l=4==Es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),vo(this);var u="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function Ns(t,e,n,r,s,l,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.W,S,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(p)){var w=p;break t}}w=null}if(!(n=w)){this.i=!1,this.o=3,Dr(12),ln(this),vo(this);break e}ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,n)}this.S?(Wa(this,S,u),Ye&&this.i&&3==S&&(Vi(this.U,this.V,"tick",this.mb),this.V.start())):(ts(this.j,this.m,u,null),pr(this,u)),4==S&&ln(this),this.i&&!this.J&&(4==S?si(this.l,this):(this.i=!1,Sr(this)))}else(function Ca(t){const e={};t=(t.g&&2<=Es(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(nn(t[r]))continue;var n=j(t[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[s]||[];e[s]=l,l.push(n)}!function Kt(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),ln(this),vo(this)}}}catch{}},J.mb=function(){if(this.g){var t=Es(this.g),e=this.g.ja();this.C<e.length&&($o(this),Wa(this,t,e),this.i&&4!=t&&Sr(this))}},J.cancel=function(){this.J=!0,ln(this)},J.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function go(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_s(),Dr(17)),ln(this),this.o=2,vo(this)):Ka(this,this.Y-t)};var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ui(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ui){this.h=t.h,$i(this,t.j),this.s=t.s,this.g=t.g,Un(this,t.m),this.l=t.l;var e=t.i,n=new Hi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wt(this,n),this.o=t.o}else t&&(e=String(t).match(Js))?(this.h=!1,$i(this,e[1]||"",!0),this.s=or(e[2]||""),this.g=or(e[3]||"",!0),Un(this,e[4]),this.l=or(e[5]||"",!0),wt(this,e[6]||"",!0),this.o=or(e[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}function rs(t){return new Ui(t)}function $i(t,e,n){t.j=n?or(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Un(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wt(t,e,n){e instanceof Hi?(t.i=e,function ri(t,e){e&&!t.j&&(fi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(pi(this,r),bo(this,s,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ai(e,Xs)),t.i=new Hi(e,t.h))}function Pt(t,e,n){t.i.set(e,n)}function Zn(t){return Pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function or(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ai(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ui.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ai(e,bs,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ai(e,bs,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ai(n,"/"==n.charAt(0)?Gi:ur,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ai(n,en)),t.join("")};var bs=/[#\/\?@]/g,ur=/[#\?:]/g,Gi=/[#\?]/g,Xs=/[#\?@]/g,en=/#/g;function Hi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Za(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var l=t[n].substring(0,r);s=t[n].substring(r+1)}else l=t[n];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pi(t,e){fi(t),e=is(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ir(t,e){return fi(t),e=is(t,e),t.g.has(e)}function bo(t,e,n){pi(t,e),0<n.length&&(t.i=null,t.g.set(is(t,e),pt(n)),t.h+=n.length)}function is(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ya(t){this.l=t||Fs,t=ve.PerformanceNavigationTiming?0<(t=ve.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=Hi.prototype).add=function(t,e){fi(this),this.i=null,t=is(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},J.forEach=function(t,e){fi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)},J.ta=function(){fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let l=0;l<s.length;l++)n.push(e[r])}return n},J.Z=function(t){fi(this);let e=[];if("string"==typeof t)ir(this,t)&&(e=e.concat(this.g.get(is(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},J.set=function(t,e){return fi(this),this.i=null,ir(this,t=is(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},J.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const l=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=l;""!==u[r]&&(s+="="+encodeURIComponent(String(u[r]))),t.push(s)}}return this.i=t.join("&")};var Fs=10;function zi(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Eo(t){return t.h?1:t.g?t.g.size:0}function ss(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function gn(t,e){t.g?t.g.add(e):t.h=e}function $l(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Da(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return pt(t.i)}Ya.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Gl=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function ii(){this.g=new Gl}function Ta(t,e,n){const r=n||"";try{ni(t,function(s,l){let u=s;Ge(s)&&(u=Mt(s)),e.push(r+l+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function os(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function vr(t){this.l=t.fc||null,this.j=t.ob||!1}function Hl(t,e){Se.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Pr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(vr,ba),vr.prototype.g=function(){return new Hl(this.l,this.j)},vr.prototype.i=function(t){return function(){return t}}({}),Re(Hl,Se);var Pr=0;function Mr(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Nr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wi(t)}function Wi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(J=Hl.prototype).open=function(t,e){if(this.readyState!=Pr)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wi(this)},J.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nr(this)),this.readyState=Pr},J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mr(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nr(this):Wi(this),3==this.readyState&&Mr(this)}},J.Za=function(t){this.g&&(this.response=this.responseText=t,Nr(this))},J.Ya=function(t){this.g&&(this.response=t,Nr(this))},J.ka=function(){this.g&&Nr(this)},J.setRequestHeader=function(t,e){this.v.append(t,e)},J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qr=ve.JSON.parse;function Pn(t){Se.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ho,this.L=this.M=!1}Re(Pn,Se);var Ho="",Qa=/^https?$/i,zl=["POST","PUT"];function Ja(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xa(t),Ls(t)}function Xa(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}function eo(t){if(t.h&&typeof Ue<"u"&&(!t.C[1]||4!=Es(t)||2!=t.da()))if(t.v&&4==Es(t))ei(t.La,0,t);else if(Je(t,"readystatechange"),4==Es(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var s=String(t.I).match(Js)[1]||null;!s&&ve.self&&ve.self.location&&(s=ve.self.location.protocol.slice(0,-1)),r=!Qa.test(s?s.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var l=2<Es(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",Xa(t)}}finally{Ls(t)}}}function Ls(t,e){if(t.g){Fc(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function Fc(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}function Es(t){return t.g?t.g.readyState:0}function Yn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ho:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lc(t){let e="";return fn(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ql(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lc(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pt(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vc(t){this.Ga=0,this.j=[],this.l=new un,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Ya(t&&t.concurrentRequestLimit),this.Ja=new ii,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kl(t){if(tl(t),3==t.H){var e=t.W++,n=rs(t.I);if(Pt(n,"SID",t.K),Pt(n,"RID",e),Pt(n,"TYPE","terminate"),qi(t,n),(e=new ys(t,t.l,e)).L=2,e.v=Zn(rs(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&((new Image).src=e.v,n=!0),n||(e.g=Vs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sr(e)}Sa(t)}function el(t){t.g&&(Ds(t),t.g.cancel(),t.g=null)}function tl(t){el(t),t.u&&(ve.clearTimeout(t.u),t.u=null),Do(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ve.clearTimeout(t.m),t.m=null)}function zo(t){if(!zi(t.i)&&!t.m){t.m=!0;var e=t.Na;ke||Ct(),Xe||(ke(),Xe=!0),Ut.add(e,t),t.C=0}}function Aa(t,e){var n;n=e?e.m:t.W++;const r=rs(t.I);Pt(r,"SID",t.K),Pt(r,"RID",n),Pt(r,"AID",t.V),qi(t,r),t.o&&t.s&&ql(r,t.o,t.s),n=new ys(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ws(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gn(t.i,n),yo(n,r,e)}function qi(t,e){t.na&&fn(t.na,function(n,r){Pt(e,r,n)}),t.h&&ni({},function(n,r){Pt(e,r,n)})}function ws(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ve(t.h.Va,t.h,t):null;e:{var s=t.j;let l=-1;for(;;){const u=["count="+n];-1==l?0<n?(l=s[0].g,u.push("ofs="+l)):l=0:u.push("ofs="+l);let p=!0;for(let m=0;m<n;m++){let w=s[m].g;const S=s[m].map;if(w-=l,0>w)l=Math.max(0,s[m].g-100),p=!1;else try{Ta(S,u,"req"+w+"_")}catch{r&&r(S)}}if(p){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function as(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ke||Ct(),Xe||(ke(),Xe=!0),Ut.add(e,t),t.A=0}}function Wo(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ks(Ve(t.Ma,t),to(t,t.A)),t.A++,0))}function Ds(t){null!=t.B&&(ve.clearTimeout(t.B),t.B=null)}function Rr(t){t.g=new ys(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=rs(t.wa);Pt(e,"RID","rpc"),Pt(e,"SID",t.K),Pt(e,"AID",t.V),Pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pt(e,"TO",t.qa),Pt(e,"TYPE","xmlhttp"),qi(t,e),t.o&&t.s&&ql(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Zn(rs(e)),n.s=null,n.S=!0,za(n,t)}function Do(t){null!=t.v&&(ve.clearTimeout(t.v),t.v=null)}function si(t,e){var n=null;if(t.g==e){Do(t),Ds(t),t.g=null;var r=2}else{if(!ss(t.i,e))return;n=e.F,$l(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;Je(r=Ys(),new jo(r,n)),zo(t)}else as(t);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function Bc(t,e){return!(Eo(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ks(Ve(t.Na,t,e),to(t,t.C)),t.C++,0)))}(t,e)||2==r&&Wo(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:no(t,5);break;case 4:no(t,10);break;case 3:no(t,6);break;default:no(t,2)}}function to(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function no(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ve(t.pb,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||$i(n,"https"),Zn(n)),function wo(t,e){const n=new un;if(ve.Image){const r=new Image;r.onload=ye(os,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ye(os,n,r,"TestLoadImage: error",!1,e),r.onabort=ye(os,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ye(os,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dr(2);t.H=0,t.h&&t.h.za(e),Sa(t),tl(t)}function Sa(t){if(t.H=0,t.ma=[],t.h){const e=Da(t.i);(0!=e.length||0!=t.j.length)&&(Vt(t.ma,e),Vt(t.ma,t.j),t.i.i.length=0,pt(t.j),t.j.length=0),t.h.ya()}}function nl(t,e,n){var r=n instanceof Ui?rs(n):new Ui(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Un(r,r.m);else{var s=ve.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var l=new Ui(null);r&&$i(l,r),e&&(l.g=e),s&&Un(l,s),n&&(l.l=n),r=l}return e=t.Da,(n=t.F)&&e&&Pt(r,n,e),Pt(r,"VER",t.ra),qi(t,r),r}function Vs(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(n&&t.Ha&&!t.va?new vr({ob:!0}):t.va)).Oa(t.J),e}function rl(){}function Ki(){if(Ne&&!(10<=Number(sn)))throw Error("Environmental error: no available transport.")}function Cr(t,e){Se.call(this),this.g=new Vc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Bs(this)}function ls(t){ns.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Zl(){Ci.call(this),this.status=1}function Bs(t){this.g=t}function Kr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cs(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=t.g[3],u=(e=t.g[0])+(l^(n=t.g[1])&((s=t.g[2])^l))+r[0]+3614090360&4294967295;u=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=(n=(s=(l=(e=n+(u<<7&4294967295|u>>>25))+((u=l+(s^e&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^l&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^s&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^n&(s^l))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^l&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^s&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^n&(s^l))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^l&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^s&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^n&(s^l))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^l&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^s&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^l&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=l+(n^s&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^n&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(l^e&(s^l))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=l+(n^s&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^n&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(l^e&(s^l))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=l+(n^s&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^n&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(l^e&(s^l))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=l+(n^s&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^n&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(l^e&(s^l))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^s^l)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^s^l)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^s^l)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^l^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^s^l)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(s^(n|~l))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=l+(n^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(l^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(n|~l))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=l+(n^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(l^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(n|~l))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=l+(n^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(l^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((l=(e=n+((u=e+(s^(n|~l))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=l+(n^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=l+((u=s+(e^(l|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+l&4294967295}function $n(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var l=0|t[s];r&&l==e||(n[s]=l,r=!1)}this.g=n}(J=Pn.prototype).Oa=function(t){this.M=t},J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Uo.g(),this.C=function jl(t){return t.h||(t.h=t.i())}(this.u?this.u:Uo),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){return void Ja(this,l)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())n.set(l,r.get(l))}r=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),s=ve.FormData&&t instanceof ve.FormData,!(0<=qe(zl,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of n)this.g.setRequestHeader(l,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fc(this),0<this.B&&((this.L=function Wl(t){return Ne&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=ei(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){Ja(this,l)}},J.ua=function(){typeof Ue<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))},J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),Ls(this))},J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ls(this,!0)),Pn.$.N.call(this)},J.La=function(){this.s||(this.G||this.v||this.l?eo(this):this.kb())},J.kb=function(){eo(this)},J.isActive=function(){return!!this.g},J.da=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qr(e)}},J.Ia=function(){return this.m},J.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=Vc.prototype).ra=8,J.H=1,J.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ys(this,this.l,t);let l=this.s;if(this.U&&(l?(l=yt(l),$t(l,this.U)):l=this.U),null!==this.o||this.O||(s.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ws(this,s,e),Pt(n=rs(this.I),"RID",t),Pt(n,"CVER",22),this.F&&Pt(n,"X-HTTP-Session-Id",this.F),qi(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Lc(l)))+"&"+e:this.o&&ql(n,this.o,l)),gn(this.i,s),this.bb&&Pt(n,"TYPE","init"),this.P?(Pt(n,"$req",e),Pt(n,"SID","null"),s.aa=!0,yo(s,n,null)):yo(s,n,e),this.H=2}}else 3==this.H&&(t?Aa(this,t):0==this.j.length||zi(this.i)||Aa(this))},J.Ma=function(){if(this.u=null,Rr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ks(Ve(this.jb,this),t)}},J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dr(10),el(this),Rr(this))},J.ib=function(){null!=this.v&&(this.v=null,el(this),Wo(this),Dr(19))},J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dr(2)):(this.l.info("Failed to ping google.com"),Dr(1))},J.isActive=function(){return!!this.h&&this.h.isActive(this)},(J=rl.prototype).Ba=function(){},J.Aa=function(){},J.za=function(){},J.ya=function(){},J.isActive=function(){return!0},J.Va=function(){},Ki.prototype.g=function(t,e){return new Cr(t,e)},Re(Cr,Se),Cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nl(t,null,t.Y),zo(t)},Cr.prototype.close=function(){Kl(this.g)},Cr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Mt(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&zo(e)},Cr.prototype.N=function(){this.g.h=null,delete this.j,Kl(this.g),delete this.g,Cr.$.N.call(this)},Re(ls,ns),Re(Zl,Ci),Re(Bs,rl),Bs.prototype.Ba=function(){Je(this.g,"a")},Bs.prototype.Aa=function(t){Je(this.g,new ls(t))},Bs.prototype.za=function(t){Je(this.g,new Zl)},Bs.prototype.ya=function(){Je(this.g,"b")},Re(Kr,function qo(){this.blockSize=-1}),Kr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,l=0;l<e;){if(0==s)for(;l<=n;)cs(this,t,l),l+=this.blockSize;if("string"==typeof t){for(;l<e;)if(r[s++]=t.charCodeAt(l++),s==this.blockSize){cs(this,r),s=0;break}}else for(;l<e;)if(r[s++]=t[l++],s==this.blockSize){cs(this,r),s=0;break}}this.h=s,this.i+=e},Kr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ju={};function Ko(t){return-128<=t&&128>t?function _e(t,e){var n=Ju;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $n([0|e],0>e?-1:0)}):new $n([0|t],0>t?-1:0)}function kr(t){if(isNaN(t)||!isFinite(t))return Zo;if(0>t)return Fn(kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ro;return new $n(e,0)}var ro=4294967296,Zo=Ko(0),Yo=Ko(1),il=Ko(16777216);function us(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function gi(t){return-1==t.h}function Fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $n(n,~t.h).add(Yo)}function sl(t,e){return t.add(Fn(e))}function Co(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function io(t,e){this.g=t,this.h=e}function v(t,e){if(us(e))throw Error("division by zero");if(us(t))return new io(Zo,Zo);if(gi(t))return e=v(Fn(t),e),new io(Fn(e.g),Fn(e.h));if(gi(e))return e=v(t,Fn(e)),new io(Fn(e.g),e.h);if(30<t.g.length){if(gi(t)||gi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yo,r=e;0>=r.X(t);)n=O(n),r=O(r);var s=W(n,1),l=W(r,1);for(r=W(r,2),n=W(n,2);!us(r);){var u=l.add(r);0>=u.X(t)&&(s=s.add(n),l=u),r=W(r,1),n=W(n,1)}return e=sl(t,s.R(e)),new io(s,e)}for(s=Zo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(l=kr(n)).R(e);gi(u)||0<u.X(t);)u=(l=kr(n-=r)).R(e);us(l)&&(l=Yo),s=s.add(l),t=sl(t,u)}return new io(s,t)}function O(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $n(n,t.h)}function W(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],l=0;l<r;l++)s[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new $n(s,t.h)}(J=$n.prototype).ea=function(){if(gi(this))return-Fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ro+r)*e,e*=ro}return t},J.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(us(this))return"0";if(gi(this))return"-"+Fn(this).toString(t);for(var e=kr(Math.pow(t,6)),n=this,r="";;){var s=v(n,e).g,l=((0<(n=sl(n,s.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(us(n=s))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},J.X=function(t){return gi(t=sl(this,t))?-1:us(t)?0:1},J.abs=function(){return gi(this)?Fn(this):this},J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var l=r+(65535&this.D(s))+(65535&t.D(s)),u=(l>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=u>>>16,n[s]=(u&=65535)<<16|(l&=65535)}return new $n(n,-2147483648&n[n.length-1]?-1:0)},J.R=function(t){if(us(this)||us(t))return Zo;if(gi(this))return gi(t)?Fn(this).R(Fn(t)):Fn(Fn(this).R(t));if(gi(t))return Fn(this.R(Fn(t)));if(0>this.X(il)&&0>t.X(il))return kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.D(r)>>>16,u=65535&this.D(r),p=t.D(s)>>>16,m=65535&t.D(s);n[2*r+2*s]+=u*m,Co(n,2*r+2*s),n[2*r+2*s+1]+=l*m,Co(n,2*r+2*s+1),n[2*r+2*s+1]+=u*p,Co(n,2*r+2*s+1),n[2*r+2*s+2]+=l*p,Co(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $n(n,0)},J.gb=function(t){return v(this,t).h},J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $n(n,this.h&t.h)},J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $n(n,this.h|t.h)},J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $n(n,this.h^t.h)},Ki.prototype.createWebChannel=Ki.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Ha.COMPLETE="complete",Hr.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Se.prototype.listen=Se.prototype.O,Pn.prototype.listenOnce=Pn.prototype.P,Pn.prototype.getLastError=Pn.prototype.Sa,Pn.prototype.getLastErrorCode=Pn.prototype.Ia,Pn.prototype.getStatus=Pn.prototype.da,Pn.prototype.getResponseJson=Pn.prototype.Wa,Pn.prototype.getResponseText=Pn.prototype.ja,Pn.prototype.send=Pn.prototype.ha,Pn.prototype.setWithCredentials=Pn.prototype.Oa,Kr.prototype.digest=Kr.prototype.l,Kr.prototype.reset=Kr.prototype.reset,Kr.prototype.update=Kr.prototype.j,$n.prototype.add=$n.prototype.add,$n.prototype.multiply=$n.prototype.R,$n.prototype.modulo=$n.prototype.gb,$n.prototype.compare=$n.prototype.X,$n.prototype.toNumber=$n.prototype.ea,$n.prototype.toString=$n.prototype.toString,$n.prototype.getBits=$n.prototype.D,$n.fromNumber=kr,$n.fromString=function To(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Fn(To(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=kr(Math.pow(e,8)),r=Zo,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),e);8>l?(l=kr(Math.pow(e,l)),r=r.R(l).add(kr(u))):r=(r=r.R(n)).add(kr(u))}return r};var gr,Si,ds,Ri,js,Jn,Io,Ma,mi,jc,Yl,Qo,sr,Xu,Ql,Jl,so,ed,td,fh,ph,Xl,ol,Jt,Uc,$c,Gc,nd,Qe,Mn,qc,rd,Zr,M=X.createWebChannelTransport=function(){return new Ki},G=X.getStatEventTarget=function(){return Ys()},re=X.ErrorCode=Qs,Be=X.EventType=Ha,ut=X.Event=ti,mn=X.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},En=(X.FetchXmlHttpFactory=vr,X.WebChannel=Hr),vn=X.XhrIo=Pn,dr=X.Md5=Kr,Sn=X.Integer=$n;const nc="@firebase/firestore";class Tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let Oi="10.3.1";const ar=new Ie.Yd("@firebase/firestore");function Ao(){return ar.logLevel}function rt(t,...e){if(ar.logLevel<=Ie.in.DEBUG){const n=e.map(Cs);ar.debug(`Firestore (${Oi}): ${t}`,...n)}}function br(t,...e){if(ar.logLevel<=Ie.in.ERROR){const n=e.map(Cs);ar.error(`Firestore (${Oi}): ${t}`,...n)}}function tr(t,...e){if(ar.logLevel<=Ie.in.WARN){const n=e.map(Cs);ar.warn(`Firestore (${Oi}): ${t}`,...n)}}function Cs(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function kt(t="Unexpected state"){const e=`FIRESTORE (${Oi}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Lt(t,e){t||kt()}function Dt(t,e){return t}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends pe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class rc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class id{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class mh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let s=this.i;const l=w=>this.i!==s?(s=this.i,n(w)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const w=u;e.enqueueRetryable((0,H.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},m=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>m(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?m(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt("string"==typeof r.accessToken),new rc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Tn(e)}}class E{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new E(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=l=>{null!=l.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lt("string"==typeof n.token),this.R=n.token,new b(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class he{static V(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=z(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[l]%62))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Fe(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new It(0,0))}static max(){return new _t(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ht{constructor(e,n,r){void 0===n?n=0:n>e.length&&kt(),void 0===r?r=e.length-n:r>e.length-n&&kt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ht.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ht?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const l=e.get(s),u=n.get(s);if(l<u)return-1;if(l>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class an extends Ht{construct(e,n,r){return new an(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new an(n)}static emptyPath(){return new an([])}}const ll=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Ht{construct(e,n,r){return new hr(e,n,r)}static isValidIdentifier(e){return ll.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const l=()=>{if(0===r.length)throw new tt(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const p=e[s];if("\\"===p){if(s+1===e.length)throw new tt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new tt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else"`"===p?(u=!u,s++):"."!==p||u?(r+=p,s++):(l(),s++)}if(l(),u)throw new tt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(n)}static emptyPath(){return new hr([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(an.fromString(e))}static fromName(e){return new vt(an.fromString(e).popFirst(5))}static empty(){return new vt(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return an.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new an(e.slice()))}}function _h(t){return new hs(t.readTime,t.key,-1)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(_t.min(),vt.empty(),-1)}static max(){return new hs(_t.max(),vt.empty(),-1)}}function sd(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=vt.comparator(t.documentKey,e.documentKey),0!==n?n:Oe(t.largestBatchId,e.largestBatchId))}const nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ic{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Us(t){return(gr=gr||(0,H.Z)(function*(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==nm)throw e;rt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let s=0,l=0,u=!1;e.forEach(p=>{++s,p.next(()=>{++l,u&&l===s&&n()},m=>r(m))}),u=!0,l===s&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(s=>s?Ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,l)=>{r.push(n.call(this,s,l))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,s)=>{const l=e.length,u=new Array(l);let p=0;for(let m=0;m<l;m++){const w=m;n(e[w]).next(S=>{u[w]=S,++p,p===l&&r(u)},S=>s(S))}})}static doWhile(e,n){return new Ee((r,s)=>{const l=()=>{!0===e()?n().next(()=>{l()},s):r()};l()})}}function dl(t){return"IndexedDbTransactionError"===t.name}let Yi=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return t.ae=-1,t})();function xa(t){return null==t}function ad(t){return 0===t&&1/t==-1/0}function pl(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class A{constructor(e,n){this.comparator=e,this.root=n||U.EMPTY}insert(e,n){return new A(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,U.BLACK,null,null))}remove(e){return new A(this.comparator,this.root.remove(e,this.comparator).copy(null,null,U.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P(this.root,e,this.comparator,!1)}getReverseIterator(){return new P(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P(this.root,e,this.comparator,!0)}}class P{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class U{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??U.RED,this.left=s??U.EMPTY,this.right=l??U.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,l){return new U(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===l?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return U.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return U.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,U.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,U.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const e=this.left.check();if(e!==this.right.check())throw kt();return e+(this.isRed()?0:1)}}U.EMPTY=null,U.RED=!0,U.BLACK=!1,U.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(e,n,r,s,l){return this}insert(e,n,r){return new U(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Z{constructor(e){this.comparator=e,this.data=new A(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ge(this.data.getIterator())}getIteratorFrom(e){return new ge(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Z)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Z(this.comparator);return n.data=e,n}}class ge{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $e{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new $e([])}unionWith(e){let n=new Z(hr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $e(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fe(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ct("Invalid base64 string: "+l):l}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cn(t){if(Lt(!!t),"string"==typeof t){let e=0;const n=Wt.exec(t);if(Lt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nr(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function Nn(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _i(t){const e=t.mapValue.fields.__previous_value__;return Nn(e)?_i(e):e}function Xt(t){const e=cn(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}class uo{constructor(e,n,r,s,l,u,p,m,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=w}}class Er{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Er("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Er&&e.projectId===this.projectId&&e.database===this.database}}const Br={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nn(t)?4:Ov(t)?9007199254740991:10:kt()}function Hs(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xt(t).isEqual(Xt(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=cn(s.timestampValue),p=cn(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return l=e,nr(t.bytesValue).isEqual(nr(l.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return bn(s.geoPointValue.latitude)===bn(l.geoPointValue.latitude)&&bn(s.geoPointValue.longitude)===bn(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return bn(s.integerValue)===bn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=bn(s.doubleValue),p=bn(l.doubleValue);return u===p?ad(u)===ad(p):isNaN(u)&&isNaN(p)}return!1}(t,e);case 9:return Fe(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:return function(s,l){const u=s.mapValue.fields||{},p=l.mapValue.fields||{};if(pl(u)!==pl(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===p[m]||!Hs(u[m],p[m])))return!1;return!0}(t,e);default:return kt()}var l}function Th(t,e){return void 0!==(t.values||[]).find(n=>Hs(n,e))}function ru(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(l,u){const p=bn(l.integerValue||l.doubleValue),m=bn(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(t,e);case 3:return Av(t.timestampValue,e.timestampValue);case 4:return Av(Xt(t),Xt(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(l,u){const p=nr(l),m=nr(u);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const p=l.split("/"),m=u.split("/");for(let w=0;w<p.length&&w<m.length;w++){const S=Oe(p[w],m[w]);if(0!==S)return S}return Oe(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const p=Oe(bn(l.latitude),bn(u.latitude));return 0!==p?p:Oe(bn(l.longitude),bn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,u){const p=l.values||[],m=u.values||[];for(let w=0;w<p.length&&w<m.length;++w){const S=ru(p[w],m[w]);if(S)return S}return Oe(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===Br.mapValue&&u===Br.mapValue)return 0;if(l===Br.mapValue)return 1;if(u===Br.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),w=u.fields||{},S=Object.keys(w);m.sort(),S.sort();for(let N=0;N<m.length&&N<S.length;++N){const $=Oe(m[N],S[N]);if(0!==$)return $;const q=ru(p[m[N]],w[S[N]]);if(0!==q)return q}return Oe(m.length,S.length)}(t.mapValue,e.mapValue);default:throw kt()}}function Av(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Oe(t,e);const n=cn(t),r=cn(e),s=Oe(n.seconds,r.seconds);return 0!==s?s:Oe(n.nanos,r.nanos)}function Ch(t){return Is(t)}function Is(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?nr(t.bytesValue).toBase64():"referenceValue"in t?vt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const l of n.values||[])s?s=!1:r+=",",r+=Is(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${Is(n.fields[u])}`;return s+"}"}(t.mapValue):kt()}function Mo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sv(t){return!!t&&"integerValue"in t}function hd(t){return!!t&&"arrayValue"in t}function Mv(t){return!!t&&"nullValue"in t}function Rv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function Ih(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ih(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ih(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ov(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(n)}setAll(e){let n=hr.emptyPath(),r={},s=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,r,s),r={},s=[],n=p.popLast()}u?r[p.lastSegment()]=Ih(u):s.push(p.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,s)}delete(e){const n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new li(Ih(this.value))}}function Pv(t){const e=[];return Gs(t.fields,(n,r)=>{const s=new hr([n]);if(sp(r)){const l=Pv(r.mapValue).fields;if(0===l.length)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new $e(e)}class fr{constructor(e,n,r,s,l,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new fr(e,0,_t.min(),_t.min(),_t.min(),li.empty(),0)}static newFoundDocument(e,n,r,s){return new fr(e,1,n,_t.min(),r,s,0)}static newNoDocument(e,n){return new fr(e,2,n,_t.min(),_t.min(),li.empty(),0)}static newUnknownDocument(e,n){return new fr(e,3,n,_t.min(),_t.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,n){this.position=e,this.inclusive=n}}function um(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const l=e[s],u=t.position[s];if(r=l.field.isKeyField()?vt.comparator(vt.fromName(u.referenceValue),n.key):ru(u,n.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function op(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}class gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class kv{}class Gn extends kv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Fw(e,n,r):"array-contains"===n?new Uv(e,r):"in"===n?new Lw(e,r):"not-in"===n?new $v(e,r):"array-contains-any"===n?new rA(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ap(e,r):new Bv(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ru(n,this.value)):null!==n&&ea(this.value)===ea(n)&&this.matchesComparison(ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends kv{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new qn(e,n)}matches(e){return Pa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return null!==e?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Pa(t){return"and"===t.op}function Fv(t){return function hm(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}(t)&&Pa(t)}function fm(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+Ch(t.value);if(Fv(t))return t.filters.map(e=>fm(e)).join(",");{const e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function kw(t,e){return t instanceof Gn?(r=t,(s=e)instanceof Gn&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)):t instanceof qn?function(r,s){return s instanceof qn&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((l,u,p)=>l&&kw(u,s.filters[p]),!0)}(t,e):void kt();var r,s}function Vv(t){return t instanceof Gn?`${(n=t).field.canonicalString()} ${n.op} ${Ch(n.value)}`:t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(Vv).join(" ,")+"}"}(t):"Filter";var n}class Fw extends Gn{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class ap extends Gn{constructor(e,n){super(e,"in",n),this.keys=jv(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bv extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=jv(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jv(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class Uv extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hd(n)&&Th(n.arrayValue,this.value)}}class Lw extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Th(this.value.arrayValue,n)}}class $v extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Th(this.value.arrayValue,n)}}class rA extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Th(this.value.arrayValue,r))}}class Vw{constructor(e,n=null,r=[],s=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=p,this.he=null}}function pm(t,e=null,n=[],r=[],s=null,l=null,u=null){return new Vw(t,e,n,r,s,l,u)}function ml(t){const e=Dt(t);if(null===e.he){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(l=r).field.canonicalString()+l.dir;var l}).join(","),xa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ch(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ch(r)).join(",")),e.he=n}return e.he}function lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nv(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!op(t.startAt,e.startAt)&&op(t.endAt,e.endAt)}function gm(t){return vt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class lc{constructor(e,n=null,r=[],s=[],l=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=m,this.Pe=null,this.Ie=null,this.de=null}}function Sh(t){return new lc(t)}function Gv(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function pd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iu(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function cp(t){return null!==t.collectionGroup}function su(t){const e=Dt(t);if(null===e.Pe){e.Pe=[];const n=iu(e),r=pd(e);if(null!==n&&null===r)n.isKeyField()||e.Pe.push(new gl(n)),e.Pe.push(new gl(hr.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.Pe.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new gl(hr.keyField(),l))}}}return e.Pe}function fs(t){const e=Dt(t);return e.Ie||(e.Ie=function ou(t,e){if("F"===t.limitType)return pm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>new gl(s.field,"desc"===s.dir?"asc":"desc"));const n=t.endAt?new ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ac(t.startAt.position,t.startAt.inclusive):null;return pm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,su(t))),e.Ie}function up(t,e){e.getFirstInequalityField(),iu(t);const n=t.filters.concat([e]);return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mh(t,e,n){return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cc(t,e){return lp(fs(t),fs(e))&&t.limitType===e.limitType}function Rh(t){return`${ml(fs(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Vv(s)).join(", ")}]`),xa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ch(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ch(s)).join(",")),`Target(${r})`}(fs(t))}; limitType=${t.limitType})`}function Oh(t,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):vt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,s){for(const l of su(r))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(t,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(t,e)&&(s=e,!((r=t).startAt&&!function(u,p,m){const w=um(u,p,m);return u.inclusive?w<=0:w<0}(r.startAt,su(r),s)||r.endAt&&!function(u,p,m){const w=um(u,p,m);return u.inclusive?w>=0:w>0}(r.endAt,su(r),s)));var r,s}function zv(t){return(e,n)=>{let r=!1;for(const s of su(t)){const l=Wv(s,e,n);if(0!==l)return l;r=r||s.field.isKeyField()}return 0}}function Wv(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(l,u,p){const m=u.data.field(l),w=p.data.field(l);return null!==m&&null!==w?ru(m,w):kt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt()}}class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[s,l]of r)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return I(this.inner)}size(){return this.innerSize}}const $w=new A(vt.comparator);function zs(){return $w}const qv=new A(vt.comparator);function gd(...t){let e=qv;for(const n of t)e=e.insert(n.key,n);return e}function Kv(t){let e=qv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Na(){return au()}function As(){return au()}function au(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zv=new A(vt.comparator),mm=new Z(vt.comparator);function Yt(...t){let e=mm;for(const n of t)e=e.add(n);return e}const xh=new Z(Oe);function _m(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function Yv(t){return{integerValue:""+t}}function ym(t,e){return function yh(t){return"number"==typeof t&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Yv(e):_m(t,e)}class hp{constructor(){this._=void 0}}function Qv(t,e,n){return t instanceof md?function(s,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Nn(l)&&(l=_i(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(n,e):t instanceof lu?fp(t,e):t instanceof yl?Jv(t,e):function(s,l){const u=vm(s,l),p=Xv(u)+Xv(s.Te);return Sv(u)&&Sv(s.Te)?Yv(p):_m(s.serializer,p)}(t,e)}function Gw(t,e,n){return t instanceof lu?fp(t,e):t instanceof yl?Jv(t,e):n}function vm(t,e){return t instanceof ka?Sv(r=e)||(l=r)&&"doubleValue"in l?e:{integerValue:0}:null;var r,l}class md extends hp{}class lu extends hp{constructor(e){super(),this.elements=e}}function fp(t,e){const n=e0(e);for(const r of t.elements)n.some(s=>Hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends hp{constructor(e){super(),this.elements=e}}function Jv(t,e){let n=e0(e);for(const r of t.elements)n=n.filter(s=>!Hs(s,r));return{arrayValue:{values:n}}}class ka extends hp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Xv(t){return bn(t.integerValue||t.doubleValue)}function e0(t){return hd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class n0{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ph{}function pp(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uc(t.key,lr.none()):new yd(t.key,t.data,lr.none());{const n=t.data,r=li.empty();let s=new Z(hr.comparator);for(let l of e.fields)if(!s.has(l)){let u=n.field(l);null===u&&l.length>1&&(l=l.popLast(),u=n.field(l)),null===u?r.delete(l):r.set(l,u),s=s.add(l)}return new vl(t.key,r,new $e(s.toArray()),lr.none())}}function gp(t,e,n){t instanceof yd?function(s,l,u){const p=s.value.clone(),m=bm(s.fieldTransforms,l,u.transformResults);p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,n):t instanceof vl?function(s,l,u){if(!cu(s.precondition,l))return void l.convertToUnknownDocument(u.version);const p=bm(s.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(s0(s)),m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Nh(t,e,n,r){return t instanceof yd?function(l,u,p,m){if(!cu(l.precondition,u))return p;const w=l.value.clone(),S=kh(l.fieldTransforms,m,u);return w.setAll(S),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(t,e,n,r):t instanceof vl?function(l,u,p,m){if(!cu(l.precondition,u))return p;const w=kh(l.fieldTransforms,m,u),S=u.data;return S.setAll(s0(l)),S.setAll(w),u.convertToFoundDocument(u.version,S).setHasLocalMutations(),null===p?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(N=>N.field))}(t,e,n,r):(p=n,cu(t.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p);var u,p}function Hw(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),l=vm(r.transform,s||null);null!=l&&(null===n&&(n=li.empty()),n.set(r.field,l))}return n||null}function r0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===s||r&&s&&Fe(r,s,(l,u)=>function t0(t,e){return t.field.isEqual(e.field)&&(s=e.transform,(r=t.transform)instanceof lu&&s instanceof lu||r instanceof yl&&s instanceof yl?Fe(r.elements,s.elements,Hs):r instanceof ka&&s instanceof ka?Hs(r.Te,s.Te):r instanceof md&&s instanceof md);var r,s}(l,u))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,s}class yd extends Ph{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vl extends Ph{constructor(e,n,r,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function s0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bm(t,e,n){const r=new Map;Lt(t.length===n.length);for(let s=0;s<n.length;s++){const l=t[s],u=l.transform,p=e.data.field(l.field);r.set(l.field,Gw(u,p,n[s]))}return r}function kh(t,e,n){const r=new Map;for(const s of t){const l=s.transform,u=n.data.field(s.field);r.set(s.field,Qv(l,u,e))}return r}class uc extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fh extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Em{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&gp(l,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=As();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=n.has(s.key)?null:p;const m=pp(u,p);null!==m&&r.set(s.key,m),u.isValidDocument()||u.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Fe(this.mutations,e.mutations,(n,r)=>r0(n,r))&&Fe(this.baseMutations,e.baseMutations,(n,r)=>r0(n,r))}}class wm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Lt(e.mutations.length===r.length);let s=Zv;const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new wm(e,n,r,s)}}class Lh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uu{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yr,zn;function zw(t){if(void 0===t)return br("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Yr.OK:return xe.OK;case Yr.CANCELLED:return xe.CANCELLED;case Yr.UNKNOWN:return xe.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return xe.INTERNAL;case Yr.UNAVAILABLE:return xe.UNAVAILABLE;case Yr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Yr.NOT_FOUND:return xe.NOT_FOUND;case Yr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Yr.ABORTED:return xe.ABORTED;case Yr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Yr.DATA_LOSS:return xe.DATA_LOSS;default:return kt()}}(zn=Yr||(Yr={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";const c0=new Sn([4294967295,4294967295],0);function Dm(t){const e=function l0(){return new TextEncoder}().encode(t),n=new dr;return n.update(e),new Uint8Array(n.digest())}function Tm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sn([n,r],0),new Sn([s,l],0)]}class Vh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(r<0)throw new vd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Sn.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Sn.fromNumber(r)));return 1===s.compare(c0)&&(s=new Sn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const n=Dm(e),[r,s]=Tm(n);for(let l=0;l<this.hashCount;l++){const u=this.Ve(r,s,l);if(!this.me(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Vh(l,s,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.Ae)return;const n=Dm(e),[r,s]=Tm(n);for(let l=0;l<this.hashCount;l++){const u=this.Ve(r,s,l);this.fe(u)}}fe(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dc{constructor(e,n,r,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dc(_t.min(),s,new A(Oe),zs(),Yt())}}class bl{constructor(e,n,r,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bl(r,n,Yt(),Yt(),Yt())}}class Bh{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class mp{constructor(e,n){this.targetId=e,this.ye=n}}class jh{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cm{constructor(){this.we=0,this.Se=u0(),this.be=Tt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Yt(),n=Yt(),r=Yt();return this.Se.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:kt()}}),new bl(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=u0()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Im{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=zs(),this.Ue=bd(),this.We=new A(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){const n=e.targetId,r=e.ye.count,s=this.et(n);if(s){const l=s.target;if(gm(l))if(0===r){const u=new vt(l.path);this.je(n,u,fr.newNoDocument(u,_t.min()))}else Lt(1===r);else{const u=this.tt(n);if(u!==r){const p=this.nt(e),m=p?this.rt(p,e,u):1;0!==m&&(this.Ze(n),this.We=this.We.insert(n,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=n;let u,p;try{u=nr(r).toUint8Array()}catch(m){if(m instanceof ct)return tr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Vh(u,s,l)}catch(m){return tr(m instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return 0===p.Ae?null:p}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(l=>{const u=this.Qe.st(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.je(n,l,null),s++)}),s}_t(e){const n=new Map;this.Ke.forEach((l,u)=>{const p=this.et(u);if(p){if(l.current&&gm(p.target)){const m=new vt(p.target.path);null!==this.$e.get(m)||this.ut(u,m)||this.je(u,m,fr.newNoDocument(m,e))}l.Fe&&(n.set(u,l.xe()),l.Oe())}});let r=Yt();this.Ue.forEach((l,u)=>{let p=!0;u.forEachWhile(m=>{const w=this.et(m);return!w||"TargetPurposeLimboResolution"===w.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.$e.forEach((l,u)=>u.setReadTime(e));const s=new dc(e,n,this.We,this.$e,r);return this.$e=zs(),this.Ue=bd(),this.We=new A(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Cm,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Z(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=null!==this.et(e);return n||rt("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Cm),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function bd(){return new A(vt.comparator)}function u0(){return new A(vt.comparator)}const d0={asc:"ASCENDING",desc:"DESCENDING"},Ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qw={and:"AND",or:"OR"};class Kw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _p(t,e){return t.useProto3Json||xa(e)?e:{value:e}}function hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uh(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Am(t,e){return hu(t,e.toTimestamp())}function wr(t){return Lt(!!t),_t.fromTimestamp(function(n){const r=cn(n);return new It(r.seconds,r.nanos)}(t))}function Sm(t,e){return(r=t,new an(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function h0(t){const e=an.fromString(t);return Lt(v0(e)),e}function yp(t,e){return Sm(t.databaseId,e.path)}function Fa(t,e){const n=h0(e);if(n.get(1)!==t.databaseId.projectId)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(Gh(n))}function $h(t,e){return Sm(t.databaseId,e)}function La(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gh(t){return Lt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vp(t,e,n){return{name:yp(t,e),fields:n.value.mapValue.fields}}function m0(t,e){return{documents:[$h(t,e.path)]}}function Om(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$h(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$h(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(m){if(0!==m.length)return Qw(qn.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(m){if(0!==m.length)return m.map(w=>{return{field:fu((N=w).field),direction:Yw(N.dir)};var N})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=_p(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n;var m}function _0(t){let e=function f0(t){const e=h0(t);return 4===e.length?an.emptyPath():Gh(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Lt(1===r);const S=n.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let l=[];n.where&&(l=function(N){const $=wd(N);return $ instanceof qn&&Fv($)?$.getFilters():[$]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map($=>{return new gl(Hh((me=$).field),function(Me){switch(Me){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let p=null;n.limit&&(p=function(N){let $;return $="object"==typeof N?N.value:N,xa($)?null:$}(n.limit));let m=null;var N;n.startAt&&(m=new ac((N=n.startAt).values||[],!!N.before));let w=null;return n.endAt&&(w=function(N){return new ac(N.values||[],!N.before)}(n.endAt)),function Uw(t,e,n,r,s,l,u,p){return new lc(t,e,n,r,s,l,u,p)}(e,s,u,l,p,"F",m,w)}function wd(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hh(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hh(n.unaryFilter.field);return Gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Hh(n.unaryFilter.field);return Gn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Hh(n.unaryFilter.field);return Gn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return kt()}}(t):void 0!==t.fieldFilter?Gn.create(Hh((n=t).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return qn.create(n.compositeFilter.filters.map(r=>wd(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return kt()}}(n.compositeFilter.op))}(t):kt();var n}function Yw(t){return d0[t]}function iA(t){return Ww[t]}function sA(t){return qw[t]}function fu(t){return{fieldPath:t.canonicalString()}}function Hh(t){return hr.fromServerFormat(t.fieldPath)}function Qw(t){return t instanceof Gn?function(n){if("=="===n.op){if(Rv(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Rv(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:iA(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(s=>Qw(s));return 1===r.length?r[0]:{compositeFilter:{op:sA(n.op),filters:r}}}(t):kt()}function y0(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function v0(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class El{constructor(e,n,r,s,l=_t.min(),u=_t.min(),p=Tt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new El(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class b0{constructor(e){this.ht=e}}function E0(t){const e=_0({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mh(e,e.limit,"L"):e}class pu{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(bn(e.integerValue));else if("doubleValue"in e){const r=bn(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),ad(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),"string"==typeof r?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(nr(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?Ov(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):kt()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const s of Object.keys(r))this.ft(s,n),this.Tt(r[s],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const s of r)this.Tt(s,n)}wt(e,n){this.At(n,37),vt.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}pu.Ct=new pu;class rr{constructor(){this.an=new gu}addToCollectionParentIndex(e,n){return this.an.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(hs.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class gu{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Z(an.comparator),l=!s.has(r);return this.index[n]=s.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Z(an.comparator)).toArray()}}new Uint8Array(0);class Ss{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class Dl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Dl(0)}static Ln(){return new Dl(-1)}}class oD{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class O0{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(null!==r&&Nh(r.mutation,s,$e.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Yt()){const s=Na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(l=>{let u=gd();return l.forEach((p,m)=>{u=u.insert(p,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Yt()))}populateOverlays(e,n,r){const s=[];return r.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,s){let l=zs();const u=au(),p=au();return n.forEach((m,w)=>{const S=r.get(w.key);s.has(w.key)&&(void 0===S||S.mutation instanceof vl)?l=l.insert(w.key,w):void 0!==S?(u.set(w.key,S.mutation.getFieldMask()),Nh(S.mutation,w,S.mutation.getFieldMask(),It.now())):u.set(w.key,$e.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((w,S)=>u.set(w,S)),n.forEach((w,S)=>{var N;return p.set(w,new aA(S,null!==(N=u.get(w))&&void 0!==N?N:null))}),p))}recalculateAndSaveOverlays(e,n){const r=au();let s=new A((u,p)=>u-p),l=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(m=>{const w=n.get(m);if(null===w)return;let S=r.get(m)||$e.empty();S=p.applyToLocalView(w,S),r.set(m,S);const N=(s.get(p.batchId)||Yt()).add(m);s=s.insert(p.batchId,N)})}).next(()=>{const u=[],p=s.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),w=m.key,S=m.value,N=As();S.forEach($=>{if(!l.has($)){const q=pp(n.get($),r.get($));null!==q&&N.set($,q),l=l.add($)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,N))}return Ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return vt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):cp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s);var u}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-l.size):Ee.resolve(Na());let p=-1,m=l;return u.next(w=>Ee.forEach(w,(S,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),l.get(S)?Ee.resolve():this.remoteDocumentCache.getEntry(e,S).next($=>{m=m.insert(S,$)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,m,w,Yt())).next(S=>({batchId:p,changes:Kv(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let s=gd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const l=n.collectionGroup;let u=gd();return this.indexManager.getCollectionParents(e,l).next(p=>Ee.forEach(p,m=>{const w=(N=n,$=m.child(l),new lc($,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,$;return this.getDocumentsMatchingCollectionQuery(e,w,r,s).next(S=>{S.forEach((N,$)=>{u=u.insert(N,$)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,s))).next(u=>{l.forEach((m,w)=>{const S=w.getKey();null===u.get(S)&&(u=u.insert(S,fr.newInvalidDocument(S)))});let p=gd();return u.forEach((m,w)=>{const S=l.get(m);void 0!==S&&Nh(S.mutation,w,$e.empty(),It.now()),Oh(n,w)&&(p=p.insert(m,w))}),p})}}class cD{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,{id:(s=n).id,version:s.version,createTime:wr(s.createTime)}),Ee.resolve();var s}getNamedQuery(e,n){return Ee.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,{name:(s=n).name,query:E0(s.bundledQuery),readTime:wr(s.readTime)}),Ee.resolve();var s}}class lA{constructor(){this.overlays=new A(vt.comparator),this.Pr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return Ee.forEach(n,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,l)=>{this.It(e,n,l)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Pr.get(r);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Pr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),l=n.length+1,u=new vt(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,w=m.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===l&&m.largestBatchId>r&&s.set(m.getKey(),m)}return Ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let l=new A((w,S)=>w-S);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>r){let S=l.get(w.largestBatchId);null===S&&(S=Na(),l=l.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const p=Na(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,S)=>p.set(w,S)),!(p.size()>=s)););return Ee.resolve(p)}It(e,n,r){const s=this.overlays.get(r.key);if(null!==s){const u=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Lh(n,r));let l=this.Pr.get(n);void 0===l&&(l=Yt(),this.Pr.set(n,l)),this.Pr.set(n,l.add(r.key))}}class x0{constructor(){this.Ir=new Z(Qr.dr),this.Tr=new Z(Qr.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Qr(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Qr(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new vt(new an([])),r=new Qr(n,e),s=new Qr(n,e+1),l=[];return this.Tr.forEachInRange([r,s],u=>{this.Rr(u),l.push(u.key)}),l}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new vt(new an([])),r=new Qr(n,e),s=new Qr(n,e+1);let l=Yt();return this.Tr.forEachInRange([r,s],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Qr(e,0),r=this.Ir.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Qr{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return vt.comparator(e.key,n.key)||Oe(e.yr,n.yr)}static Er(e,n){return Oe(e.yr,n.yr)||vt.comparator(e.key,n.key)}}class uD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Z(Qr.dr)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,s){const l=this.wr;this.wr++;const u=new Em(l,n,r,s);this.mutationQueue.push(u);for(const p of s)this.Sr=this.Sr.add(new Qr(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ee.resolve(u)}lookupMutationBatch(e,n){return Ee.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const s=this.Dr(n+1),l=s<0?0:s;return Ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qr(n,0),s=new Qr(n,Number.POSITIVE_INFINITY),l=[];return this.Sr.forEachInRange([r,s],u=>{const p=this.br(u.yr);l.push(p)}),Ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Z(Oe);return n.forEach(s=>{const l=new Qr(s,0),u=new Qr(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([l,u],p=>{r=r.add(p.yr)})}),Ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let l=r;vt.isDocumentKey(l)||(l=l.child(""));const u=new Qr(new vt(l),0);let p=new Z(Oe);return this.Sr.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===s&&(p=p.add(m.yr)),!0)},u),Ee.resolve(this.Cr(p))}Cr(e){const n=[];return e.forEach(r=>{const s=this.br(r);null!==s&&n.push(s)}),n}removeMutationBatch(e,n){Lt(0===this.vr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return Ee.forEach(n.mutations,s=>{const l=new Qr(s.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Qr(n,0),s=this.Sr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return Ee.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $m{constructor(e){this.Fr=e,this.docs=new A(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),l=s?s.size:0,u=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():fr.newInvalidDocument(s))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let l=zs();const u=n.path,p=new vt(u.child("")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:w,value:{document:S}}=m.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||sd(_h(S),r)<=0||(s.has(S.key)||Oh(n,S))&&(l=l.insert(S.key,S.mutableCopy()))}return Ee.resolve(l)}getAllFromCollectionGroup(e,n,r,s){kt()}Mr(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gm(this)}getSize(e){return Ee.resolve(this.size)}}class Gm extends oD{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}class Ad{constructor(e){this.persistence=e,this.Or=new ta(n=>ml(n),lp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Nr=0,this.Br=new x0,this.targetCount=0,this.Lr=Dl.Bn()}forEachTarget(e,n){return this.Or.forEach((r,s)=>n(s)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),Ee.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Qn(n),Ee.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let s=0;const l=[];return this.Or.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.Or.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Ee.waitFor(l).next(()=>s)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),Ee.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.Br.containsKey(n))}}class Yh{constructor(e,n){this.kr={},this.overlays={},this.qr=new Yi(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Ad(this),this.indexManager=new rr,this.remoteDocumentCache=new $m(r=>this.referenceDelegate.$r(r)),this.serializer=new b0(n),this.Ur=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new uD(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){rt("MemoryPersistence","Starting transaction:",e);const s=new Hm(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(l=>this.referenceDelegate.Gr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}zr(e,n){return Ee.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Hm extends ic{constructor(e){super(),this.currentSequenceNumber=e}}class _c{constructor(e){this.persistence=e,this.jr=new x0,this.Hr=null}static Jr(e){return new _c(e)}get Yr(){if(this.Hr)return this.Hr;throw kt()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.Yr.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Yr,r=>{const s=vt.fromPath(r);return this.Zr(e,s).next(l=>{l||n.removeEntry(s,_t.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return Ee.or([()=>Ee.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}class zm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=s}static $i(e,n){let r=Yt(),s=Yt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new zm(e,n.fromCache,r,s)}}class P0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N0{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,s){const l={result:null};return this.Hi(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Ji(e,n,s,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new P0;return this.Yi(e,n,u).next(p=>{if(l.result=p,this.Wi)return this.Zi(e,n,u,p.size)})}).next(()=>l.result)}Zi(e,n,r,s){return r.documentReadCount<this.Gi?(Ao()<=Ie.in.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Ee.resolve()):(Ao()<=Ie.in.DEBUG&&rt("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(Ao()<=Ie.in.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):Ee.resolve())}Hi(e,n){if(Gv(n))return Ee.resolve(null);let r=fs(n);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==n.limit&&1===s&&(n=Mh(n,null,"F"),r=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Yt(...l);return this.ji.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(m=>{const w=this.Xi(n,p);return this.es(n,w,u,m.readTime)?this.Hi(e,Mh(n,null,"F")):this.ts(e,w,n,m)}))})))}Ji(e,n,r,s){return Gv(n)||s.isEqual(_t.min())?Ee.resolve(null):this.ji.getDocuments(e,r).next(l=>{const u=this.Xi(n,l);return this.es(n,u,r,s)?Ee.resolve(null):(Ao()<=Ie.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_l(n)),this.ts(e,u,n,function ul(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_t.fromTimestamp(1e9===r?new It(n+1,0):new It(n,r));return new hs(s,vt.empty(),e)}(s,-1)).next(p=>p))})}Xi(e,n){let r=new Z(zv(e));return n.forEach((s,l)=>{Oh(e,l)&&(r=r.add(l))}),r}es(e,n,r,s){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Yi(e,n,r){return Ao()<=Ie.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ji.getDocumentsMatchingQuery(e,n,hs.min(),r)}ts(e,n,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}class dD{constructor(e,n,r,s){this.persistence=e,this.ns=n,this.serializer=s,this.rs=new A(Oe),this.ss=new ta(l=>ml(l),lp),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O0(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function Wm(t,e){return(Si=Si||(0,H.Z)(function*(n,r){const s=Dt(n);return yield s.persistence.runTransaction("Handle user change","readonly",l=>{let u;return s.mutationQueue.getAllMutationBatches(l).next(p=>(u=p,s.us(r),s.mutationQueue.getAllMutationBatches(l))).next(p=>{const m=[],w=[];let S=Yt();for(const N of u){m.push(N.batchId);for(const $ of N.mutations)S=S.add($.key)}for(const N of p){w.push(N.batchId);for(const $ of N.mutations)S=S.add($.key)}return s.localDocuments.getDocuments(l,S).next(N=>({cs:N,removedBatchIds:m,addedBatchIds:w}))})})})).apply(this,arguments)}function k0(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Vp(t,e){const n=Dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Od(t,e,n){return(ds=ds||(0,H.Z)(function*(r,s,l){const u=Dt(r),p=u.rs.get(s),m=l?"readwrite":"readwrite-primary";try{l||(yield u.persistence.runTransaction("Release target",m,w=>u.persistence.referenceDelegate.removeTarget(w,p)))}catch(w){if(!dl(w))throw w;rt("LocalStore",`Failed to update sequence numbers for target ${s}: ${w}`)}u.rs=u.rs.remove(s),u.ss.delete(p.target)})).apply(this,arguments)}function Jh(t,e,n){const r=Dt(t);let s=_t.min(),l=Yt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,w,S){const N=Dt(m),$=N.ss.get(S);return void 0!==$?Ee.resolve(N.rs.get($)):N.Kr.getTargetData(w,S)}(r,u,fs(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(u,p.targetId).next(m=>{l=m})}).next(()=>r.ns.getDocumentsMatchingQuery(u,e,n?s:_t.min(),n?l:Yt())).next(p=>(function L0(t,e,n){let r=t.os.get(e)||_t.min();n.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.os.set(e,r)}(r,function Hv(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),p),{documents:p,Ps:l})))}class Zm{constructor(){this.activeTargetIds=function dp(){return xh}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B0{constructor(){this.ro=new Zm,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Zm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gD{so(e){}shutdown(){}}class j0{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tf=null;function Up(){return null===tf?tf=268435456+Math.round(2147483648*Math.random()):tf++,"0x"+tf.toString(16)}const Ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uA{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Pi="WebChannelConnection";class U0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${s}/databases/${l}`,this.wo="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${l}`}get So(){return!1}bo(n,r,s,l,u){const p=Up(),m=this.Do(n,r);rt("RestConnection",`Sending RPC '${n}' ${p}:`,m,s);const w={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(w,l,u),this.vo(n,m,w,s).then(S=>(rt("RestConnection",`Received RPC '${n}' ${p}: `,S),S),S=>{throw tr("RestConnection",`RPC '${n}' ${p} failed with error: `,S,"url: ",m,"request:",s),S})}Fo(n,r,s,l,u,p){return this.bo(n,r,s,l,u)}Co(n,r,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Oi,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>n[u]=l),s&&s.headers.forEach((l,u)=>n[u]=l)}Do(n,r){return`${this.po}/v1/${r}:${Ym[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const l=Up();return new Promise((u,p)=>{const m=new vn;m.setWithCredentials(!0),m.listenOnce(Be.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case re.NO_ERROR:const S=m.getResponseJson();rt(Pi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(S)),u(S);break;case re.TIMEOUT:rt(Pi,`RPC '${e}' ${l} timed out`),p(new tt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case re.HTTP_ERROR:const N=m.getStatus();if(rt(Pi,`RPC '${e}' ${l} failed with status:`,N,"response text:",m.getResponseText()),N>0){let $=m.getResponseJson();Array.isArray($)&&($=$[0]);const q=$?.error;if(q&&q.status&&q.message){const me=function(Me){const nt=Me.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(nt)>=0?nt:xe.UNKNOWN}(q.status);p(new tt(me,q.message))}else p(new tt(xe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new tt(xe.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{rt(Pi,`RPC '${e}' ${l} completed.`)}});const w=JSON.stringify(s);rt(Pi,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",w,r,15)})}Mo(e,n,r){const s=Up(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=M(),p=G(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Co(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const S=l.join("");rt(Pi,`Creating RPC '${e}' stream ${s}: ${S}`,m);const N=u.createWebChannel(S,m);let $=!1,q=!1;const me=new uA({ho:Me=>{q?rt(Pi,`Not sending because RPC '${e}' stream ${s} is closed:`,Me):($||(rt(Pi,`Opening RPC '${e}' stream ${s} transport.`),N.open(),$=!0),rt(Pi,`RPC '${e}' stream ${s} sending:`,Me),N.send(Me))},Po:()=>N.close()}),Pe=(Me,nt,ht)=>{Me.listen(nt,gt=>{try{ht(gt)}catch(st){setTimeout(()=>{throw st},0)}})};return Pe(N,En.EventType.OPEN,()=>{q||rt(Pi,`RPC '${e}' stream ${s} transport opened.`)}),Pe(N,En.EventType.CLOSE,()=>{q||(q=!0,rt(Pi,`RPC '${e}' stream ${s} transport closed`),me.mo())}),Pe(N,En.EventType.ERROR,Me=>{q||(q=!0,tr(Pi,`RPC '${e}' stream ${s} transport errored:`,Me),me.mo(new tt(xe.UNAVAILABLE,"The operation could not be completed")))}),Pe(N,En.EventType.MESSAGE,Me=>{var nt;if(!q){const ht=Me.data[0];Lt(!!ht);const st=ht.error||(null===(nt=ht[0])||void 0===nt?void 0:nt.error);if(st){rt(Pi,`RPC '${e}' stream ${s} received error:`,st);const ft=st.status;let At=function(Gr){const _r=Yr[Gr];if(void 0!==_r)return zw(_r)}(ft),Dn=st.message;void 0===At&&(At=xe.INTERNAL,Dn="Unknown error status: "+ft+" with message "+st.message),q=!0,me.mo(new tt(At,Dn)),N.close()}else rt(Pi,`RPC '${e}' stream ${s} received:`,ht),me.fo(ht)}}),Pe(p,ut.STAT_EVENT,Me=>{Me.stat===mn.PROXY?rt(Pi,`RPC '${e}' stream ${s} detected buffering proxy`):Me.stat===mn.NOPROXY&&rt(Pi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{me.Vo()},0),me}}function $p(){return typeof document<"u"?document:null}function xd(t){return new Kw(t,!0)}class Qm{constructor(e,n,r=1e3,s=1.5,l=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=s,this.No=l,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,n-r);s>0&&rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Jm{constructor(e,n,r,s,l,u,p,m){this._i=e,this.Uo=r,this.Wo=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Qm(e,n)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,H.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,H.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,n){var r=this;return(0,H.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):n&&n.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(n)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===n&&this.__(r,s)},r=>{e(()=>{const s=new tt(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,H.Z)(function*(){e.state=0,e.start()}))}a_(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mD extends Jm{constructor(e,n,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=l}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=function g0(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:kt(),s=e.targetChange.targetIds||[],l=function(w,S){return w.useProto3Json?(Lt(void 0===S||"string"==typeof S),Tt.fromBase64String(S||"")):(Lt(void 0===S||S instanceof Uint8Array),Tt.fromUint8Array(S||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(w){const S=void 0===w.code?xe.UNKNOWN:zw(w.code);return new tt(S,w.message||"")}(u);n=new jh(r,s,l,p||null)}else if("documentChange"in e){const r=e.documentChange,s=Fa(t,r.document.name),l=wr(r.document.updateTime),u=r.document.createTime?wr(r.document.createTime):_t.min(),p=new li({mapValue:{fields:r.document.fields}}),m=fr.newFoundDocument(s,l,u,p);n=new Bh(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,s=Fa(t,r.document),l=r.readTime?wr(r.readTime):_t.min(),u=fr.newNoDocument(s,l);n=new Bh([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,s=Fa(t,r.document);n=new Bh([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return kt();{const r=e.filter,{count:s=0,unchangedNames:l}=r,u=new uu(s,l);n=new mp(r.targetId,u)}}var w;return n}(this.serializer,e),r=function(l){if(!("targetChange"in l))return _t.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?wr(u.readTime):_t.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=La(this.serializer),n.addTarget=function(l,u){let p;const m=u.target;if(p=gm(m)?{documents:m0(l,m)}:{query:Om(l,m)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Uh(l,u.resumeToken);const w=_p(l,u.expectedCount);null!==w&&(p.expectedCount=w)}else if(u.snapshotVersion.compareTo(_t.min())>0){p.readTime=hu(l,u.snapshotVersion.toTimestamp());const w=_p(l,u.expectedCount);null!==w&&(p.expectedCount=w)}return p}(this.serializer,e);const r=function hc(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=La(this.serializer),n.removeTarget=e,this.n_(n)}}class _D extends Jm{constructor(e,n,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=l,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=function Zw(t,e){return t&&t.length>0?(Lt(void 0!==e),t.map(n=>function(s,l){let u=wr(s.updateTime?s.updateTime:l);return u.isEqual(_t.min())&&(u=wr(l)),new n0(u,s.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.T_(r,n)}return Lt(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=La(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ed(t,e){let n;if(e instanceof yd)n={update:vp(t,e.key,e.value)};else if(e instanceof uc)n={delete:yp(t,e.key)};else if(e instanceof vl)n={update:vp(t,e.key,e.data),updateMask:y0(e.fieldMask)};else{if(!(e instanceof Fh))return kt();n={verify:yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const p=u.transform;if(p instanceof md)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ka)return{fieldPath:u.field.canonicalString(),increment:p.Te};throw kt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Am(t,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:kt()),n;var l}(this.serializer,r))};this.n_(n)}}class dA extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,n,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(xe.UNKNOWN,s.toString())})}Fo(e,n,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Fo(e,n,r,l,u,s)).catch(l=>{throw"FirebaseError"===l.name?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(xe.UNKNOWN,l.toString())})}terminate(){this.R_=!0}}class H0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(br(n),this.p_=!1):rt("OnlineStateTracker",n)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class sa{constructor(e,n,r,s,l){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=l,this.x_.so(p=>{r.enqueueAndForget((0,H.Z)(function*(){var m;Tu(u)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield function(S){return(m=m||(0,H.Z)(function*(N){const $=Dt(N);$.F_.add(4),yield Pd($),$.O_.set("Unknown"),$.F_.delete(4),yield Du($)})).apply(this,arguments)}(u))}))}),this.O_=new H0(r,s)}}function Du(t){return(Ri=Ri||(0,H.Z)(function*(e){if(Tu(e))for(const n of e.M_)yield n(!0)})).apply(this,arguments)}function Pd(t){return(js=js||(0,H.Z)(function*(e){for(const n of e.M_)yield n(!1)})).apply(this,arguments)}function Xm(t,e){const n=Dt(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),e_(n)?Gp(n):la(n).Yo()&&rf(n,e))}function nf(t,e){const n=Dt(t),r=la(n);n.v_.delete(e),r.Yo()&&oa(n,e),0===n.v_.size&&(r.Yo()?r.e_():Tu(n)&&n.O_.set("Unknown"))}function rf(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}la(t).l_(e)}function oa(t,e){t.N_.Le(e),la(t).h_(e)}function Gp(t){t.N_=new Im({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),la(t).start(),t.O_.y_()}function e_(t){return Tu(t)&&!la(t).Jo()&&t.v_.size>0}function Tu(t){return 0===Dt(t).F_.size}function yi(t){t.N_=void 0}function yD(t){return(Jn=Jn||(0,H.Z)(function*(e){e.v_.forEach((n,r)=>{rf(e,n)})})).apply(this,arguments)}function t_(t,e){return(Io=Io||(0,H.Z)(function*(n,r){yi(n),e_(n)?(n.O_.b_(r),Gp(n)):n.O_.set("Unknown")})).apply(this,arguments)}function vD(t,e,n){return(Ma=Ma||(0,H.Z)(function*(r,s,l){if(r.O_.set("Online"),s instanceof jh&&2===s.state&&s.cause)try{var u;yield function(m,w){return(u=u||(0,H.Z)(function*(S,N){const $=N.cause;for(const q of N.targetIds)S.v_.has(q)&&(yield S.remoteSyncer.rejectListen(q,$),S.v_.delete(q),S.N_.removeTarget(q))})).apply(this,arguments)}(r,s)}catch(p){rt("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),p),yield Hp(r,p)}else if(s instanceof Bh?r.N_.Ge(s):s instanceof mp?r.N_.Xe(s):r.N_.He(s),!l.isEqual(_t.min()))try{const p=yield k0(r.localStore);l.compareTo(p)>=0&&(yield function(w,S){const N=w.N_._t(S);return N.targetChanges.forEach(($,q)=>{if($.resumeToken.approximateByteSize()>0){const me=w.v_.get(q);me&&w.v_.set(q,me.withResumeToken($.resumeToken,S))}}),N.targetMismatches.forEach(($,q)=>{const me=w.v_.get($);if(!me)return;w.v_.set($,me.withResumeToken(Tt.EMPTY_BYTE_STRING,me.snapshotVersion)),oa(w,$);const Pe=new El(me.target,$,q,me.sequenceNumber);rf(w,Pe)}),w.remoteSyncer.applyRemoteEvent(N)}(r,l))}catch(p){rt("RemoteStore","Failed to raise snapshot:",p),yield Hp(r,p)}})).apply(this,arguments)}function Hp(t,e,n){return(mi=mi||(0,H.Z)(function*(r,s,l){if(!dl(s))throw s;r.F_.add(1),yield Pd(r),r.O_.set("Offline"),l||(l=()=>k0(r.localStore)),r.asyncQueue.enqueueRetryable((0,H.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield l(),r.F_.delete(1),yield Du(r)}))})).apply(this,arguments)}function zp(t,e){return e().catch(n=>Hp(t,n,e))}function Cu(t){return(jc=jc||(0,H.Z)(function*(e){const n=Dt(e),r=vc(n);let s=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;for(;z0(n);)try{const l=yield Vp(n.localStore,s);if(null===l){0===n.C_.length&&r.e_();break}s=l.batchId,bD(n,l)}catch(l){yield Hp(n,l)}n_(n)&&r_(n)})).apply(this,arguments)}function z0(t){return Tu(t)&&t.C_.length<10}function bD(t,e){t.C_.push(e);const n=vc(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function n_(t){return Tu(t)&&!vc(t).Jo()&&t.C_.length>0}function r_(t){vc(t).start()}function ED(t){return(Yl=Yl||(0,H.Z)(function*(e){vc(e).A_()})).apply(this,arguments)}function wD(t){return(Qo=Qo||(0,H.Z)(function*(e){const n=vc(e);for(const r of e.C_)n.d_(r.mutations)})).apply(this,arguments)}function W0(t,e,n){return(sr=sr||(0,H.Z)(function*(r,s,l){const u=r.C_.shift(),p=wm.from(u,s,l);yield zp(r,()=>r.remoteSyncer.applySuccessfulWrite(p)),yield Cu(r)})).apply(this,arguments)}function q0(t,e){return(Xu=Xu||(0,H.Z)(function*(n,r){var s;r&&vc(n).I_&&(yield function(u,p){return(s=s||(0,H.Z)(function*(m,w){if(function a0(t){switch(t){default:return kt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}(N=w.code)&&N!==xe.ABORTED){const S=m.C_.shift();vc(m).Xo(),yield zp(m,()=>m.remoteSyncer.rejectFailedWrite(S.batchId,w)),yield Cu(m)}var N})).apply(this,arguments)}(n,r)),n_(n)&&r_(n)})).apply(this,arguments)}function Iu(t,e){return(Ql=Ql||(0,H.Z)(function*(n,r){const s=Dt(n);s.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const l=Tu(s);s.F_.add(3),yield Pd(s),l&&s.O_.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(r),s.F_.delete(3),yield Du(s)})).apply(this,arguments)}function la(t){var e;return t.B_||(t.B_=function(r,s,l){const u=Dt(r);return u.V_(),new mD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(t.datastore,t.asyncQueue,{Io:yD.bind(null,t),Eo:t_.bind(null,t),c_:vD.bind(null,t)}),t.M_.push(function(n){return(e=e||(0,H.Z)(function*(r){r?(t.B_.Xo(),e_(t)?Gp(t):t.O_.set("Unknown")):(yield t.B_.stop(),yi(t))})).apply(this,arguments)})),t.B_}function vc(t){var e;return t.L_||(t.L_=function(r,s,l){const u=Dt(r);return u.V_(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(t.datastore,t.asyncQueue,{Io:ED.bind(null,t),Eo:q0.bind(null,t),E_:wD.bind(null,t),T_:W0.bind(null,t)}),t.M_.push(function(n){return(e=e||(0,H.Z)(function*(r){r?(t.L_.Xo(),yield Cu(t)):(yield t.L_.stop(),t.C_.length>0&&(rt("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})).apply(this,arguments)})),t.L_}class i_{constructor(e,n,r,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,l){const u=Date.now()+r,p=new i_(e,n,u,s,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(t,e){if(br("AsyncQueue",`${e}: ${t}`),dl(t))return new tt(xe.UNAVAILABLE,`${e}: ${t}`);throw t}class bc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=gd(),this.sortedSet=new A(this.comparator)}static emptySet(e){return new bc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Nd{constructor(){this.k_=new A(vt.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(n,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(n):1===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):kt():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Su{constructor(e,n,r,s,l,u,p,m,w){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(e,n,r,s,l){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new Su(e,n,bc.emptySet(n),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class hA{constructor(){this.Q_=void 0,this.listeners=[]}}class s_{constructor(){this.queries=new ta(e=>Rh(e),cc),this.onlineState="Unknown",this.K_=new Set}}function K0(t,e){const n=Dt(t);let r=!1;for(const s of e){const u=n.queries.get(s.query);if(u){for(const p of u.listeners)p.W_(s)&&(r=!0);u.Q_=s}}r&&o_(n)}function Z0(t,e,n){const r=Dt(t),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(n);r.queries.delete(e)}function o_(t){t.K_.forEach(e=>{e.next()})}class a_{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class J0{constructor(e){this.key=e}}class CD{constructor(e){this.key=e}}class ID{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Yt(),this.mutatedKeys=Yt(),this.ua=zv(e),this.ca=new bc(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Nd,s=n?n.ca:this.ca;let l=n?n.mutatedKeys:this.mutatedKeys,u=s,p=!1;const m="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,w="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,N)=>{const $=s.get(S),q=Oh(this.query,N)?N:null,me=!!$&&this.mutatedKeys.has($.key),Pe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Me=!1;$&&q?$.data.isEqual(q.data)?me!==Pe&&(r.track({type:3,doc:q}),Me=!0):this.Ia($,q)||(r.track({type:2,doc:q}),Me=!0,(m&&this.ua(q,m)>0||w&&this.ua(q,w)<0)&&(p=!0)):!$&&q?(r.track({type:0,doc:q}),Me=!0):$&&!q&&(r.track({type:1,doc:$}),Me=!0,(m||w)&&(p=!0)),Me&&(q?(u=u.add(q),l=Pe?l.add(S):l.delete(S)):(u=u.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{ca:u,Pa:r,es:p,mutatedKeys:l}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const l=e.Pa.q_();l.sort((w,S)=>function($,q){const me=Pe=>{switch(Pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return me($)-me(q)}(w.type,S.type)||this.ua(w.doc,S.doc)),this.da(r);const u=n?this.Ta():[],p=0===this.aa.size&&this.current?1:0,m=p!==this._a;return this._a=p,0!==l.length||m?{snapshot:new Su(this.query,e.ca,s,l,e.mutatedKeys,0===p,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:u}:{Ea:u}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Nd,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Yt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new CD(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new J0(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Yt();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Su.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class X0{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eb{constructor(e){this.key=e,this.ma=!1}}class fA{constructor(e,n,r,s,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.fa={},this.ga=new ta(p=>Rh(p),cc),this.pa=new Map,this.ya=new Set,this.wa=new A(vt.comparator),this.Sa=new Map,this.ba=new x0,this.Da={},this.Ca=new Map,this.va=Dl.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Wp(t,e){return(td=td||(0,H.Z)(function*(n,r){const s=function p_(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sb.bind(null,e),e.fa.c_=K0.bind(null,e.eventManager),e.fa.xa=Z0.bind(null,e.eventManager),e}(n);let l,u;const p=s.ga.get(r);if(p)l=p.targetId,s.sharedClientState.addLocalQueryTarget(l),u=p.view.Va();else{const m=yield function yc(t,e){const n=Dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Kr.getTargetData(r,e).next(l=>l?(s=l,Ee.resolve(s)):n.Kr.allocateTargetId(r).next(u=>(s=new El(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.rs.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}(s.localStore,fs(r)),w=s.sharedClientState.addLocalQueryTarget(m.targetId);l=m.targetId,u=yield function tb(t,e,n,r,s){return(fh=fh||(0,H.Z)(function*(l,u,p,m,w){l.Ma=(Me,nt,ht)=>{var gt;return function(ft,At,Dn,Vn){return(gt=gt||(0,H.Z)(function*(Gr,_r,gs,Bo){let Li=_r.view.ha(gs);Li.es&&(Li=yield Jh(Gr.localStore,_r.query,!1).then(({documents:fo})=>_r.view.ha(fo,Li)));const Qu=Bo&&Bo.targetChanges.get(_r.targetId),Nc=_r.view.applyChanges(Li,Gr.isPrimaryClient,Qu);return Dc(Gr,_r.targetId,Nc.Ea),Nc.snapshot})).apply(this,arguments)}(l,Me,nt,ht)};const S=yield Jh(l.localStore,u,!0),N=new ID(u,S.Ps),$=N.ha(S.documents),q=bl.createSynthesizedTargetChangeForCurrentChange(p,m&&"Offline"!==l.onlineState,w),me=N.applyChanges($,l.isPrimaryClient,q);Dc(l,p,me.Ea);const Pe=new X0(u,p,N);return l.ga.set(u,Pe),l.pa.has(p)?l.pa.get(p).push(u):l.pa.set(p,[u]),me.snapshot})).apply(this,arguments)}(s,r,l,"current"===w,m.resumeToken),s.isPrimaryClient&&Xm(s.remoteStore,m)}return u})).apply(this,arguments)}function nb(t,e){return(ph=ph||(0,H.Z)(function*(n,r){const s=Dt(n),l=s.ga.get(r),u=s.pa.get(l.targetId);if(u.length>1)return s.pa.set(l.targetId,u.filter(p=>!cc(p,r))),void s.ga.delete(r);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Od(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),nf(s.remoteStore,l.targetId),Fd(s,l.targetId)}).catch(Us))):(Fd(s,l.targetId),yield Od(s.localStore,l.targetId,!0))})).apply(this,arguments)}function ib(t,e){return(ol=ol||(0,H.Z)(function*(n,r){const s=Dt(n);try{const l=yield function cA(t,e){const n=Dt(t),r=e.snapshotVersion;let s=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n._s.newChangeBuffer({trackRemovals:!0});s=n.rs;const p=[];e.targetChanges.forEach((S,N)=>{const $=s.get(N);if(!$)return;p.push(n.Kr.removeMatchingKeys(l,S.removedDocuments,N).next(()=>n.Kr.addMatchingKeys(l,S.addedDocuments,N)));let q=$.withSequenceNumber(l.currentSequenceNumber);var Pe,Me,nt;null!==e.targetMismatches.get(N)?q=q.withResumeToken(Tt.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,r)),s=s.insert(N,q),Me=q,nt=S,(0===(Pe=$).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-Pe.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&p.push(n.Kr.updateTargetData(l,q))});let m=zs(),w=Yt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(l,S))}),p.push(function F0(t,e,n){let r=Yt(),s=Yt();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=zs();return n.forEach((p,m)=>{const w=l.get(p);m.isFoundDocument()!==w.isFoundDocument()&&(s=s.add(p)),m.isNoDocument()&&m.version.isEqual(_t.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):rt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",m.version)}),{ls:u,hs:s}})}(l,u,e.documentUpdates).next(S=>{m=S.ls,w=S.hs})),!r.isEqual(_t.min())){const S=n.Kr.getLastRemoteSnapshotVersion(l).next(N=>n.Kr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(S)}return Ee.waitFor(p).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,w)).next(()=>m)}).then(l=>(n.rs=s,l))}(s.localStore,r);r.targetChanges.forEach((u,p)=>{const m=s.Sa.get(p);m&&(Lt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.ma=!0:u.modifiedDocuments.size>0?Lt(m.ma):u.removedDocuments.size>0&&(Lt(m.ma),m.ma=!1))}),yield Va(s,l,r)}catch(l){yield Us(l)}})).apply(this,arguments)}function l_(t,e,n){const r=Dt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const s=[];r.ga.forEach((l,u)=>{const p=u.view.U_(e);p.snapshot&&s.push(p.snapshot)}),function(u,p){const m=Dt(u);m.onlineState=p;let w=!1;m.queries.forEach((S,N)=>{for(const $ of N.listeners)$.U_(p)&&(w=!0)}),w&&o_(m)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sb(t,e,n){return(Jt=Jt||(0,H.Z)(function*(r,s,l){const u=Dt(r);u.sharedClientState.updateQueryState(s,"rejected",l);const p=u.Sa.get(s),m=p&&p.key;if(m){let w=new A(vt.comparator);w=w.insert(m,fr.newNoDocument(m,_t.min()));const S=Yt().add(m),N=new dc(_t.min(),new Map,new A(Oe),w,S);yield ib(u,N),u.wa=u.wa.remove(m),u.Sa.delete(s),Mu(u)}else yield Od(u.localStore,s,!1).then(()=>Fd(u,s,l)).catch(Us)})).apply(this,arguments)}function wn(t,e){return(Uc=Uc||(0,H.Z)(function*(n,r){const s=Dt(n),l=r.batch.batchId;try{const u=yield function hD(t,e){const n=Dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=n._s.newChangeBuffer({trackRemovals:!0});return function(p,m,w,S){const N=w.batch,$=N.keys();let q=Ee.resolve();return $.forEach(me=>{q=q.next(()=>S.getEntry(m,me)).next(Pe=>{const Me=w.docVersions.get(me);Lt(null!==Me),Pe.version.compareTo(Me)<0&&(N.applyToRemoteDocument(Pe,w),Pe.isValidDocument()&&(Pe.setReadTime(w.commitVersion),S.addEntry(Pe)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(m,N))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let m=Yt();for(let w=0;w<p.mutationResults.length;++w)p.mutationResults[w].transformResults.length>0&&(m=m.add(p.batch.mutations[w].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}(s.localStore,r);qp(s,l,null),wc(s,l),s.sharedClientState.updateMutationState(l,"acknowledged"),yield Va(s,u)}catch(u){yield Us(u)}})).apply(this,arguments)}function ob(t,e,n){return($c=$c||(0,H.Z)(function*(r,s,l){const u=Dt(r);try{const p=yield function(w,S){const N=Dt(w);return N.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let q;return N.mutationQueue.lookupMutationBatch($,S).next(me=>(Lt(null!==me),q=me.keys(),N.mutationQueue.removeMutationBatch($,me))).next(()=>N.mutationQueue.performConsistencyCheck($)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId($,q,S)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,q)).next(()=>N.localDocuments.getDocuments($,q))})}(u.localStore,s);qp(u,s,l),wc(u,s),u.sharedClientState.updateMutationState(s,"rejected",l),yield Va(u,p)}catch(p){yield Us(p)}})).apply(this,arguments)}function wc(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function qp(t,e,n){const r=Dt(t);let s=r.Da[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function Fd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||sf(t,r)})}function sf(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(nf(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Mu(t))}function Dc(t,e,n){for(const r of n)r instanceof J0?(t.ba.addReference(r.key,e),c_(t,r)):r instanceof CD?(rt("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||sf(t,r.key)):kt()}function c_(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(rt("SyncEngine","New document in limbo: "+n),t.ya.add(r),Mu(t))}function Mu(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new vt(an.fromString(e)),r=t.va.next();t.Sa.set(r,new eb(n)),t.wa=t.wa.insert(n,r),Xm(t.remoteStore,new El(fs(Sh(n.path)),r,"TargetPurposeLimboResolution",Yi.ae))}}function Va(t,e,n){return(Gc=Gc||(0,H.Z)(function*(r,s,l){var u;const p=Dt(r),m=[],w=[],S=[];p.ga.isEmpty()||(p.ga.forEach((N,$)=>{S.push(p.Ma($,s,l).then(q=>{if((q||l)&&p.isPrimaryClient&&p.sharedClientState.updateQueryState($.targetId,q?.fromCache?"not-current":"current"),q){m.push(q);const me=zm.$i($.targetId,q);w.push(me)}}))}),yield Promise.all(S),p.fa.c_(m),yield function($,q){return(u=u||(0,H.Z)(function*(me,Pe){const Me=Dt(me);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Ee.forEach(Pe,ht=>Ee.forEach(ht.Qi,gt=>Me.persistence.referenceDelegate.addReference(nt,ht.targetId,gt)).next(()=>Ee.forEach(ht.Ki,gt=>Me.persistence.referenceDelegate.removeReference(nt,ht.targetId,gt)))))}catch(nt){if(!dl(nt))throw nt;rt("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of Pe){const ht=nt.targetId;if(!nt.fromCache){const gt=Me.rs.get(ht),ft=gt.withLastLimboFreeSnapshotVersion(gt.snapshotVersion);Me.rs=Me.rs.insert(ht,ft)}}})).apply(this,arguments)}(p.localStore,w))})).apply(this,arguments)}function u_(t,e){return(nd=nd||(0,H.Z)(function*(n,r){const s=Dt(n);if(!s.currentUser.isEqual(r)){rt("SyncEngine","User change. New user:",r.toKey());const l=yield Wm(s.localStore,r);s.currentUser=r,(p=s).Ca.forEach(w=>{w.forEach(S=>{S.reject(new tt(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Ca.clear(),s.sharedClientState.handleUserChange(r,l.removedBatchIds,l.addedBatchIds),yield Va(s,l.cs)}var p})).apply(this,arguments)}function d_(t,e){const n=Dt(t),r=n.Sa.get(e);if(r&&r.ma)return Yt().add(r.key);{let s=Yt();const l=n.pa.get(e);if(!l)return s;for(const u of l){const p=n.ga.get(u);s=s.unionWith(p.view.la)}return s}}function g_(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wn.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ob.bind(null,e),e}class af{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,H.Z)(function*(){n.serializer=xd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Lp(t,e,n,r){return new dD(t,e,n,r)}(this.persistence,new N0,e.initialUser,this.serializer)}createPersistence(e){return new Yh(_c.Jr,this.serializer)}createSharedClientState(e){return new B0}terminate(){var e=this;return(0,H.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ld{initialize(e,n){var r=this;return(0,H.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>l_(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=u_.bind(null,r.syncEngine),yield function aa(t,e){return(Jl=Jl||(0,H.Z)(function*(n,r){const s=Dt(n);r?(s.F_.delete(2),yield Du(s)):r||(s.F_.add(2),yield Pd(s),s.O_.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new s_}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=new U0(e.databaseInfo);return new dA(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,s=this.datastore,l=e.asyncQueue,u=n=>l_(this.syncEngine,n,0),p=j0.C()?new j0:new gD,new sa(r,s,l,u,p);var r,s,l,u,p}createSyncEngine(e,n){return function(s,l,u,p,m,w,S){const N=new fA(s,l,u,p,m,w);return S&&(N.Fa=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(r){return(e=e||(0,H.Z)(function*(s){const l=Dt(s);rt("RemoteStore","RemoteStore shutting down."),l.F_.add(5),yield Pd(l),l.x_.shutdown(),l.O_.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class m_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class xD{constructor(e,n,r,s){var u,l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=he.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(p){return(u=u||(0,H.Z)(function*(m){rt("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m})).apply(this,arguments)}),this.appCheckCredentials.start(r,p=>(rt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,H.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,H.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const s=Au(r,"Failed to shutdown persistence");n.reject(s)}})),n.promise}}function Kp(t,e){return(Qe=Qe||(0,H.Z)(function*(n,r){var s;n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const l=yield n.getConfiguration();yield r.initialize(l);let u=l.initialUser;n.setCredentialChangeListener(function(p){return(s=s||(0,H.Z)(function*(m){u.isEqual(m)||(yield Wm(r.localStore,m),u=m)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function Zp(t,e){return(Mn=Mn||(0,H.Z)(function*(n,r){n.asyncQueue.verifyOperationInProgress();const s=yield function y_(t){return(qc=qc||(0,H.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kp(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function mb(t){return"FirebaseError"===t.name?t.code===xe.FAILED_PRECONDITION||t.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;tr("Error using user provided cache. Falling back to memory cache: "+r),yield Kp(e,new af)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(e,new af);return e._offlineComponents})).apply(this,arguments)}(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield n.getConfiguration();yield r.initialize(s,l),n.setCredentialChangeListener(u=>Iu(r.remoteStore,u)),n.setAppCheckTokenChangeListener((u,p)=>Iu(r.remoteStore,p)),n._onlineComponents=r})).apply(this,arguments)}function Vd(t){return(rd=rd||(0,H.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zp(e,e._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),yield Zp(e,new Ld))),e._onlineComponents})).apply(this,arguments)}function Ms(t){return(Zr=Zr||(0,H.Z)(function*(e){const n=yield Vd(e),r=n.eventManager;return r.onListen=Wp.bind(null,n.syncEngine),r.onUnlisten=nb.bind(null,n.syncEngine),r})).apply(this,arguments)}function E_(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function(l,u,p,m,w){const S=new m_({next:$=>{u.enqueueAndForget(()=>function kd(t,e){return(ed=ed||(0,H.Z)(function*(n,r){const s=Dt(n),l=r.query;let u=!1;const p=s.queries.get(l);if(p){const m=p.listeners.indexOf(r);m>=0&&(p.listeners.splice(m,1),u=0===p.listeners.length)}if(u)return s.queries.delete(l),s.onUnlisten(l)})).apply(this,arguments)}(l,N)),$.fromCache&&"server"===m.source?w.reject(new tt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve($)},error:$=>w.reject($)}),N=new a_(p,S,{includeMetadataChanges:!0,Z_:!0});return function Ec(t,e){return(so=so||(0,H.Z)(function*(n,r){const s=Dt(n),l=r.query;let u=!1,p=s.queries.get(l);if(p||(u=!0,p=new hA),u)try{p.Q_=yield s.onListen(l)}catch(m){const w=Au(m,`Initialization of query '${_l(r.query)}' failed`);return void r.onError(w)}s.queries.set(l,p),p.listeners.push(r),r.U_(s.onlineState),p.Q_&&r.W_(p.Q_)&&o_(s)})).apply(this,arguments)}(l,N)}(yield Ms(t),t.asyncQueue,e,n,r)})),r.promise}function D_(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Qp=new Map;function ca(t,e,n){if(!n)throw new tt(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ib(t){if(!vt.isDocumentKey(t))throw new tt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jp(t){if(vt.isDocumentKey(t))throw new tt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":kt()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new tt(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class lf{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ND(t,e,n,r){if(!0===e&&!0===r)throw new tt(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=D_(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lf(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new id;switch(r.type){case"firstParty":return new T(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qp.get(n);r&&(rt("ComponentProvider","Removing Datastore"),Qp.delete(n),r.terminate())}(this),Promise.resolve()}}class ci{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class ui{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class Ba extends ci{constructor(e,n,r){super(e,n,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new vt(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function jd(t,e,...n){if(t=(0,pe.m9)(t),ca("collection","path",e),t instanceof Il){const r=an.fromString(e,...n);return Jp(r),new Ba(t,null,r)}{if(!(t instanceof ui||t instanceof Ba))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(an.fromString(e,...n));return Jp(r),new Ba(t.firestore,null,r)}}function cf(t,e,...n){if(t=(0,pe.m9)(t),1===arguments.length&&(e=he.V()),ca("doc","path",e),t instanceof Il){const r=an.fromString(e,...n);return Ib(r),new ui(t,null,new vt(r))}{if(!(t instanceof ui||t instanceof Ba))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(an.fromString(e,...n));return Ib(r),new ui(t.firestore,t instanceof Ba?t.converter:null,new vt(r))}}class Mb{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Qm(this,"async_queue_retry"),this.ou=()=>{const n=$p();n&&rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=$p();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Lr;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,H.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!dl(n))throw n;rt("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,br("INTERNAL UNHANDLED ERROR: ",function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),p}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const s=i_.createAndSchedule(this,e,n,r,l=>this.cu(l));return this.tu.push(s),s}_u(){this.nu&&kt()}verifyOperationInProgress(){}lu(){var e=this;return(0,H.Z)(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class mr extends Il{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Mb,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ob(this),this._firestoreClient.terminate()}}function Rb(t,e){const n="object"==typeof t?t:(0,se.Mq)(),r="string"==typeof t?t:e||"(default)",s=(0,se.qX)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=(0,pe.P0)("firestore");l&&function Sb(t,e,n,r={}){var s;const l=(t=Ln(t,Il))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==u&&tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),r.mockUserToken){let p,m;if("string"==typeof r.mockUserToken)p=r.mockUserToken,m=Tn.MOCK_USER;else{p=(0,pe.Sg)(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new tt(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Tn(w)}t._authCredentials=new mh(new rc(p,m))}}(s,...l)}return s}function Ir(t){return t._firestoreClient||Ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ob(t){var e,n,r;const s=t._freezeSettings(),l=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new uo(t._databaseId,m,t._persistenceKey,(S=s).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,D_(S.experimentalLongPollingOptions),S.useFetchStreams));var m,S;t._firestoreClient=new xD(t._authCredentials,t._appCheckCredentials,t._queue,l),null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(Tt.fromBase64String(e))}catch(n){throw new tt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ou(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new tt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nb{constructor(e){this._methodName=e}}class eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}const kb=/^__.*__$/;class Fb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new yd(e,this.data,n,this.fieldTransforms)}}function jD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt()}}class hf{constructor(e,n,r,s,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===l&&this.du(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.Vu(e),s}mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.du(),s}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Sl(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(jD(this.Tu)&&kb.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Vb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}wu(e,n,r,s=!1){return new hf({Tu:e,methodName:n,yu:r,path:hr.emptyPath(),Ru:!1,pu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new Vb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $d(t,e,n,r,s,l={}){const u=t.wu(l.merge||l.mergeFields?2:0,e,n,s);Cc("Data must be an object, but it was:",u,r);const p=tg(r,u);let m,w;if(l.merge)m=new $e(u.fieldMask),w=u.fieldTransforms;else if(l.mergeFields){const S=[];for(const N of l.mergeFields){const $=Ua(e,N,n);if(!u.contains($))throw new tt(xe.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);Pu(S,$)||S.push($)}m=new $e(S),w=u.fieldTransforms.filter(N=>m.covers(N.field))}else m=null,w=u.fieldTransforms;return new Fb(new li(p),m,w)}function Ni(t,e){if(xu(t=(0,pe.m9)(t)))return Cc("Unsupported field value:",e,t),tg(t,e);if(t instanceof Nb)return function(r,s){if(!jD(s.Tu))throw s.gu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,s){const l=[];let u=0;for(const p of r){let m=Ni(p,s.fu(u));null==m&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,s){if(null===(r=(0,pe.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ym(s.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=It.fromDate(r);return{timestampValue:hu(s.serializer,l)}}if(r instanceof It){const l=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hu(s.serializer,l)}}if(r instanceof eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ou)return{bytesValue:Uh(s.serializer,r._byteString)};if(r instanceof ui){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.gu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sm(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.gu(`Unsupported field value: ${Xp(r)}`)}(t,e)}function tg(t,e){const n={};return I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,s)=>{const l=Ni(s,e.Au(r));null!=l&&(n[r]=l)}),{mapValue:{fields:n}}}function xu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof It||t instanceof eg||t instanceof Ou||t instanceof ui||t instanceof Nb)}function Cc(t,e,n){if(!xu(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const r=Xp(n);throw e.gu("an object"===r?t+" a custom object":t+" "+r)}var s}function Ua(t,e,n){if((e=(0,pe.m9)(e))instanceof Ud)return e._internalPath;if("string"==typeof e)return Al(t,e);throw Sl("Field path arguments must be of type string or ",t,!1,void 0,n)}const Gd=new RegExp("[~\\*/\\[\\]]");function Al(t,e,n){if(e.search(Gd)>=0)throw Sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw Sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sl(t,e,n,r,s){const l=r&&!r.isEmpty(),u=void 0!==s;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${s}`),m+=")"),new tt(xe.INVALID_ARGUMENT,p+t+m)}function Pu(t,e){return t.some(n=>n.isEqual(e))}class Ic{constructor(e,n,r,s,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Hd extends Ic{data(){return super.data()}}function yf(t,e){return"string"==typeof e?Al(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}class ng{}class I_ extends ng{}class zd extends I_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zd(e,n,r)}_apply(e){const n=this._parse(e);return vf(e._query,n),new ci(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=ff(e.firestore);return function(l,u,p,m,w,S,N){let $;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new tt(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){sg(N,S);const q=[];for(const me of N)q.push(Wd(m,l,me));$={arrayValue:{values:q}}}else $=Wd(m,l,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||sg(N,S),$=function _f(t,e,n,r=!1){return Ni(n,t.wu(r?4:3,e))}(p,"where",N,"in"===S||"not-in"===S);return Gn.create(w,S,$)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nu extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(s,l){let u=s;const p=l.getFlattenedFilters();for(const m of p)vf(u,m),u=up(u,m)}(e._query,n),new ci(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class A_ extends I_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A_(e,n)}_apply(e){const n=function(s,l,u){if(null!==s.startAt)throw new tt(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new tt(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new gl(l,u);return function(w,S){if(null===pd(w)){const N=iu(w);null!==N&&R_(0,N,S.field)}}(s,p),p}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new lc(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Wd(t,e,n){if("string"==typeof(n=(0,pe.m9)(n))){if(""===n)throw new tt(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cp(e)&&-1!==n.indexOf("/"))throw new tt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(an.fromString(n));if(!vt.isDocumentKey(r))throw new tt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mo(t,new vt(r))}if(n instanceof ui)return Mo(t,n._key);throw new tt(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function sg(t,e){if(!Array.isArray(t)||0===t.length)throw new tt(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vf(t,e){if(e.isInequality()){const r=iu(t),s=e.field;if(null!==r&&!r.isEqual(s))throw new tt(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const l=pd(t);null!==l&&R_(0,s,l)}const n=function(s,l){for(const u of s)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new tt(xe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function R_(t,e,n){if(!n.isEqual(e))throw new tt(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class $b{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(s,l)=>{r[s]=this.convertValue(l,n)}),r}convertGeoPoint(e){return new eg(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_i(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xt(e));default:return null}}convertTimestamp(e){const n=cn(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=an.fromString(e);Lt(v0(r));const s=new Er(r.get(1),r.get(3)),l=new vt(r.popFirst(5));return s.isEqual(n)||br(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ml extends Ic{constructor(e,n,r,s,l,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class x_ extends Ml{data(e={}){return super.data(e)}}class Kd{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $a(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new x_(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new x_(s._firestore,s._userDataWriter,p.doc.key,p.doc,new $a(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>l||3!==p.type).map(p=>{const m=new x_(s._firestore,s._userDataWriter,p.doc.key,p.doc,new $a(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,S=-1;return 0!==p.type&&(w=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),S=u.indexOf(p.doc.key)),{type:zD(p.type),doc:m,oldIndex:w,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}class Rl extends $b{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,n)}}function ag(t,e,n){t=Ln(t,ui);const r=Ln(t.firestore,mr),s=function O_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function bf(t,e){return function(r,s){const l=new Lr;return r.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function rb(t,e,n){return(Xl=Xl||(0,H.Z)(function*(r,s,l){const u=g_(r);try{const p=yield function(w,S){const N=Dt(w),$=It.now(),q=S.reduce((Me,nt)=>Me.add(nt.key),Yt());let me,Pe;return N.persistence.runTransaction("Locally write mutations","readwrite",Me=>{let nt=zs(),ht=Yt();return N._s.getEntries(Me,q).next(gt=>{nt=gt,nt.forEach((st,ft)=>{ft.isValidDocument()||(ht=ht.add(st))})}).next(()=>N.localDocuments.getOverlayedDocuments(Me,nt)).next(gt=>{me=gt;const st=[];for(const ft of S){const At=Hw(ft,me.get(ft.key).overlayedDocument);null!=At&&st.push(new vl(ft.key,At,Pv(At.value.mapValue),lr.exists(!0)))}return N.mutationQueue.addMutationBatch(Me,$,st,S)}).next(gt=>{Pe=gt;const st=gt.applyToLocalDocumentSet(me,ht);return N.documentOverlayCache.saveOverlays(Me,gt.batchId,st)})}).then(()=>({batchId:Pe.batchId,changes:Kv(me)}))}(u.localStore,s);u.sharedClientState.addPendingMutation(p.batchId),function(w,S,N){let $=w.Da[w.currentUser.toKey()];$||($=new A(Oe)),$=$.insert(S,N),w.Da[w.currentUser.toKey()]=$}(u,p.batchId,l),yield Va(u,p.changes),yield Cu(u.remoteStore)}catch(p){const m=Au(p,"Failed to persist write");l.reject(m)}})).apply(this,arguments)}(yield function v_(t){return Vd(t).then(e=>e.syncEngine)}(r),s,l)})),l.promise}(Ir(t),e)}(r,[$d(ff(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,lr.none())])}!function(e,n=!0){Oi=se.Jn,(0,se.Xd)(new de.wA("firestore",(r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),p=new mr(new _(r.getProvider("auth-internal")),new R(r.getProvider("app-check-internal")),function(w,S){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new tt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Er(w.options.projectId,S)}(u,s),u);return l=Object.assign({useFetchStreams:n},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),(0,se.KN)(nc,"4.1.3",e),(0,se.KN)(nc,"4.1.3","esm2017")}();var h=k(5879);let V_=(()=>{var t;class e{constructor(){this.userName=""}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Jr=k(8645),tn=k(6814);const B_=["progressBar"],pT=["progressBarCover"];function j_(t,e){1&t&&(h.TgZ(0,"i",9),h._uU(1,"info_outline"),h.qZA())}function jA(t,e){1&t&&(h.TgZ(0,"i",9),h._uU(1,"info_outline"),h.qZA())}function UA(t,e){1&t&&(h.TgZ(0,"i",9),h._uU(1,"warning_outline"),h.qZA())}function gT(t,e){1&t&&(h.TgZ(0,"i",9),h._uU(1,"error_outline"),h.qZA())}function mT(t,e){1&t&&(h.TgZ(0,"i",9),h._uU(1,"done"),h.qZA())}function n1(t,e){if(1&t&&(h.TgZ(0,"span",7),h.YNc(1,j_,2,0,"i",8),h.YNc(2,jA,2,0,"i",8),h.YNc(3,UA,2,0,"i",8),h.YNc(4,gT,2,0,"i",8),h.YNc(5,mT,2,0,"i",8),h.qZA()),2&t){const n=h.oxw();h.Q6J("ngSwitch",n.toast.type),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.info),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.default),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.warning),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.error),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.success)}}function _T(t,e){1&t&&h._UZ(0,"i",14)}function vi(t,e){1&t&&h._UZ(0,"i",14)}function r1(t,e){1&t&&h._UZ(0,"i",15)}function yT(t,e){1&t&&h._UZ(0,"i",16)}function vT(t,e){1&t&&h._UZ(0,"i",17)}function i1(t,e){if(1&t&&(h.TgZ(0,"span",7),h.YNc(1,_T,1,0,"i",10),h.YNc(2,vi,1,0,"i",10),h.YNc(3,r1,1,0,"i",11),h.YNc(4,yT,1,0,"i",12),h.YNc(5,vT,1,0,"i",13),h.qZA()),2&t){const n=h.oxw();h.Q6J("ngSwitch",n.toast.type),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.info),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.default),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.warning),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.error),h.xp6(1),h.Q6J("ngSwitchCase",n.ToastType.success)}}function bT(t,e){if(1&t&&h._UZ(0,"div",18,19),2&t){const n=h.oxw();h.Gre("progress-bar progress-bar--",n.ToastType[n.toast.type],"")}}function s1(t,e){if(1&t&&h._UZ(0,"div",null,20),2&t){const n=h.oxw();h.Gre("progress-bar-cover toast--",n.ToastType[n.toast.type],""),h.Udp("animation-duration",n.autoClose+"ms")("animation-play-state",n.running?"running":"paused")}}function o1(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"lib-toastify-toast",1),h.NdJ("dismissEvent",function(){const l=h.CHM(n).$implicit,u=h.oxw();return h.KtG(u.dismiss(l))}),h.qZA()}if(2&t){const n=e.$implicit,r=h.oxw();h.Tol(r.getClass(n)),h.Q6J("autoClose",r.autoClose)("toast",n)("hideProgressBar",r.hideProgressBar)("pauseOnHover",r.pauseOnHover)("pauseOnVisibilityChange",r.pauseOnVisibilityChange)("closeOnClick",r.closeOnClick)("iconLibrary",r.iconLibrary)}}let Qd=0;class Df{constructor(e,n){this.message=e,this.type=n,this.time=(new Date).getTime(),this.id=Qd++,this.$resetToast=new Jr.x}}var Ol=function(t){return t[t.info=0]="info",t[t.success=1]="success",t[t.warning=2]="warning",t[t.error=3]="error",t[t.default=4]="default",t}(Ol||{});let lg=(()=>{class t{constructor(){this.toastAddedEvent=new h.vpe,this.dismissAllEvent=new h.vpe}dismissAll(){this.dismissAllEvent.emit()}info(n){const r=new Df(n,Ol.info);this.toastAddedEvent.emit(r)}success(n){const r=new Df(n,Ol.success);this.toastAddedEvent.emit(r)}warn(n){const r=new Df(n,Ol.warning);this.toastAddedEvent.emit(r)}error(n){const r=new Df(n,Ol.error);this.toastAddedEvent.emit(r)}default(n){const r=new Df(n,Ol.default);this.toastAddedEvent.emit(r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ET=(()=>{class t{constructor(n,r){this._cd=n,this._zone=r,this.autoClose=5e3,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.dismissEvent=new h.vpe,this.ToastType=Ol,this.running=!1}ngOnInit(){this.autoCloseRemaining=this.autoClose,this.startTime=this.toast.time,this.toast.$resetToast.subscribe(()=>this.resetToastTimer()),this.handleVisibilityChange&&"visible"===document.visibilityState&&this.startCloseTimer(),this.triggerProgressBarAnimation()}triggerProgressBarAnimation(){void 0!==this._progressBarAnimation&&cancelAnimationFrame(this._progressBarAnimation);const n=()=>{if(this.running){const s=100-Math.max(0,this.expectedAutoDismissTime-(new Date).getTime())/this.autoClose*100;if(this.progressBarCover.nativeElement.style.width=s+"%",s<=0)return}this._progressBarAnimation=requestAnimationFrame(n)};this._progressBarAnimation=requestAnimationFrame(n)}ngOnDestroy(){var n,r;this._progressBarAnimation&&(cancelAnimationFrame(this._progressBarAnimation),this._progressBarAnimation=void 0),this.clearTimerTimeout(),null===(n=this.toast.$resetToast)||void 0===n||n.complete(),this.toast.$resetToast=null,null===(r=this._$updateTimer)||void 0===r||r.complete(),this._$updateTimer=null}startCloseTimer(){this.running||!this.autoClose||(this.running=!0,this.expectedAutoDismissTime=(new Date).getTime()+this.autoCloseRemaining,this.autoDismissTimeout=this._zone.runOutsideAngular(()=>setTimeout(()=>{this._zone.run(()=>{this.dismissEvent.emit(),this._cd.markForCheck()})},this.autoCloseRemaining)))}pauseCloseTimer(){this.running=!1,this.clearTimerTimeout(),this.pauseTime=(new Date).getTime(),this.autoCloseRemaining=this.autoClose-(this.pauseTime-this.startTime)}resetToastTimer(){this.clearTimerTimeout(),this.running=!1,this.startTime=(new Date).getTime(),this.autoCloseRemaining=this.autoClose,this.startCloseTimer()}clearTimerTimeout(){void 0!==this.autoDismissTimeout&&(this.expectedAutoDismissTime=void 0,clearTimeout(this.autoDismissTimeout))}handleDismissButtonAction(){this.closeOnClick||(this.clearTimerTimeout(),this.dismissEvent.emit())}handleHostClick(){this.closeOnClick&&(this.clearTimerTimeout(),this.dismissEvent.emit())}handleMouseEnter(){this.pauseOnHover&&this.pauseCloseTimer()}handleMouseLeave(){this.pauseOnHover&&(this.startCloseTimer(),this.startTime=(new Date).getTime()+(this.startTime-this.pauseTime))}handleVisibilityChange(){this.pauseOnVisibilityChange&&("visible"!==document.visibilityState?(this.pauseCloseTimer(),this._cd.detectChanges()):this.startCloseTimer())}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(h.sBO),h.Y36(h.R0b))},t.\u0275cmp=h.Xpm({type:t,selectors:[["lib-toastify-toast"]],viewQuery:function(n,r){if(1&n&&(h.Gf(B_,5),h.Gf(pT,5)),2&n){let s;h.iGM(s=h.CRH())&&(r.progressBar=s.first),h.iGM(s=h.CRH())&&(r.progressBarCover=s.first)}},hostBindings:function(n,r){1&n&&h.NdJ("click",function(){return r.handleHostClick()})("mouseenter",function(){return r.handleMouseEnter()})("mouseleave",function(){return r.handleMouseLeave()})("visibilitychange",function(){return r.handleVisibilityChange()},!1,h.evT)},inputs:{autoClose:"autoClose",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",toast:"toast",iconLibrary:"iconLibrary"},outputs:{dismissEvent:"dismissEvent"},decls:11,vars:8,consts:[["role","alert",1,"toast-body"],[1,"icon-container"],[3,"ngSwitch",4,"ngIf"],[1,"toast-container"],["type","button","aria-label","close",3,"click"],["style","opacity: 1;",3,"class",4,"ngIf"],[3,"class","animation-duration","animation-play-state",4,"ngIf"],[3,"ngSwitch"],["class","material-icons",4,"ngSwitchCase"],[1,"material-icons"],["class","fa fa-info",4,"ngSwitchCase"],["class","fa fa-exclamation-triangle",4,"ngSwitchCase"],["class","fa fa-exclamation",4,"ngSwitchCase"],["class","fa fa-check",4,"ngSwitchCase"],[1,"fa","fa-info"],[1,"fa","fa-exclamation-triangle"],[1,"fa","fa-exclamation"],[1,"fa","fa-check"],[2,"opacity","1"],["progressBar",""],["progressBarCover",""]],template:function(n,r){1&n&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,n1,6,6,"span",2),h.YNc(3,i1,6,6,"span",2),h.qZA(),h.TgZ(4,"div",3)(5,"span"),h._uU(6),h.qZA()()(),h.TgZ(7,"button",4),h.NdJ("click",function(){return r.handleDismissButtonAction()}),h._uU(8,"\u2716"),h.qZA(),h.YNc(9,bT,2,3,"div",5),h.YNc(10,s1,2,7,"div",6)),2&n&&(h.xp6(2),h.Q6J("ngIf","material"==r.iconLibrary),h.xp6(1),h.Q6J("ngIf","font-awesome"==r.iconLibrary),h.xp6(3),h.Oqu(r.toast.message),h.xp6(1),h.Gre("close-button close-button--",r.ToastType[r.toast.type],""),h.xp6(2),h.Q6J("ngIf",!r.hideProgressBar),h.xp6(1),h.Q6J("ngIf",!r.hideProgressBar))},dependencies:[tn.O5,tn.RF,tn.n9],styles:[".toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.toast--rtl[_ngcontent-%COMP%]{direction:rtl}.toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.toast--info[_ngcontent-%COMP%]{background:#3498db}.toast--success[_ngcontent-%COMP%]{background:#07bc0c}.toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.toast--error[_ngcontent-%COMP%]{background:#e74c3c}.toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.toast[_ngcontent-%COMP%]{margin-bottom:0}}.close-button[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:14px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;align-self:flex-start}.close-button--default[_ngcontent-%COMP%]{color:#000;opacity:.3}.close-button[_ngcontent-%COMP%]:focus, .close-button[_ngcontent-%COMP%]:hover{opacity:1}.progress-bar-cover[_ngcontent-%COMP%]{right:0;z-index:100;direction:rtl}.progress-bar[_ngcontent-%COMP%], .progress-bar-cover[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;transform-origin:left}.progress-bar[_ngcontent-%COMP%]{left:0;z-index:99;opacity:.7;background-color:hsla(0,0%,100%,.7)}.progress-bar--controlled[_ngcontent-%COMP%]{transition:transform .2s}.progress-bar--rtl[_ngcontent-%COMP%]{right:0;left:auto;transform-origin:right}.progress-bar--default[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55)}.icon-container[_ngcontent-%COMP%], .toast-body[_ngcontent-%COMP%]{vertical-align:middle}.icon-container[_ngcontent-%COMP%]{display:inline-block;width:25px}.icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;display:inline-block;text-align:center;width:20px}.icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle}.fa[_ngcontent-%COMP%], .material-icons[_ngcontent-%COMP%]{font-size:18px}.toast-container[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 25px);vertical-align:middle}"]}),t})(),a1=(()=>{class t{constructor(n,r){this._toastService=n,this._cd=r,this.transitionDurations=400,this.position="top-right",this.transition="bounce",this.autoClose=5e3,this.hideProgressBar=!1,this.pauseOnHover=!0,this.pauseOnVisibilityChange=!0,this.closeOnClick=!0,this.newestOnTop=!1,this.preventDuplicates=!1,this.iconLibrary="none",this.ToastType=Ol,this.toasts=new Array,this.toastTransitionDict={}}ngOnChanges(){this._cd.markForCheck()}dismiss(n){this.toastTransitionDict[n.id]=Tf.exiting,setTimeout(()=>{const r=this.toasts.indexOf(n);this.toasts.splice(r,1),this._cd.markForCheck()},this.transitionDurations)}getClass(n){let r=`toast toast--${Ol[n.type]} `;const s=this.toastTransitionDict[n.id];return s===Tf.entering?r+=`${this.transition}-enter ${this.transition}-enter--${this.position}`:s===Tf.exiting&&(r+=`${this.transition}-exit ${this.transition}-exit--${this.position}`),r}ngOnInit(){this._toastService.dismissAllEvent.subscribe(()=>{this.toasts=new Array,this._cd.markForCheck()}),this._toastService.toastAddedEvent.subscribe(n=>this.handleToastAddedEvent(n))}handleToastAddedEvent(n){if(!0===this.preventDuplicates){const r=this.toasts.find(s=>s.message===n.message);if(r)return r.$resetToast.next(),void this._cd.markForCheck()}this.toastTransitionDict[n.id]=Tf.entering,setTimeout(()=>{this.toastTransitionDict[n.id]=Tf.noTransition,this._cd.markForCheck()},this.transitionDurations),this.newestOnTop?this.toasts.unshift(n):this.toasts.push(n),this._cd.markForCheck()}}return t.\u0275fac=function(n){return new(n||t)(h.Y36(lg),h.Y36(h.sBO))},t.\u0275cmp=h.Xpm({type:t,selectors:[["lib-toastify-toast-container"]],inputs:{position:"position",transition:"transition",autoClose:"autoClose",hideProgressBar:"hideProgressBar",pauseOnHover:"pauseOnHover",pauseOnVisibilityChange:"pauseOnVisibilityChange",closeOnClick:"closeOnClick",newestOnTop:"newestOnTop",preventDuplicates:"preventDuplicates",iconLibrary:"iconLibrary"},features:[h.TTD],decls:2,vars:4,consts:[["style","animation-fill-mode: both; animation-duration: 0.75s",3,"class","autoClose","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary","dismissEvent",4,"ngFor","ngForOf"],[2,"animation-fill-mode","both","animation-duration","0.75s",3,"autoClose","toast","hideProgressBar","pauseOnHover","pauseOnVisibilityChange","closeOnClick","iconLibrary","dismissEvent"]],template:function(n,r){1&n&&(h.TgZ(0,"div"),h.YNc(1,o1,1,9,"lib-toastify-toast",0),h.qZA()),2&n&&(h.Gre("toast-container toast-container--",r.position,""),h.xp6(1),h.Q6J("ngForOf",r.toasts))},dependencies:[ET,tn.sg],styles:[".toast-container[_ngcontent-%COMP%]{z-index:9999;-webkit-transform:translateZ(9999px);position:fixed;padding:4px;width:320px;box-sizing:border-box;color:#fff}.toast-container--top-left[_ngcontent-%COMP%]{top:1em;left:1em}.toast-container--top-center[_ngcontent-%COMP%]{top:1em;left:50%;margin-left:-160px}.toast-container--top-right[_ngcontent-%COMP%]{top:1em;right:1em}.toast-container--bottom-left[_ngcontent-%COMP%]{bottom:1em;left:1em}.toast-container--bottom-center[_ngcontent-%COMP%]{bottom:1em;left:50%;margin-left:-160px}.toast-container--bottom-right[_ngcontent-%COMP%]{bottom:1em;right:1em}@media only screen and (max-width:480px){.toast-container[_ngcontent-%COMP%]{width:100vw;padding:0;left:0;margin:0}.toast-container--top-center[_ngcontent-%COMP%], .toast-container--top-left[_ngcontent-%COMP%], .toast-container--top-right[_ngcontent-%COMP%]{top:0}.toast-container--bottom-center[_ngcontent-%COMP%], .toast-container--bottom-left[_ngcontent-%COMP%], .toast-container--bottom-right[_ngcontent-%COMP%]{bottom:0}.toast-container--rtl[_ngcontent-%COMP%]{right:0;left:auto}}.toast[_ngcontent-%COMP%]{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:flex;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.toast--rtl[_ngcontent-%COMP%]{direction:rtl}.toast--default[_ngcontent-%COMP%]{background:#fff;color:#aaa}.toast--info[_ngcontent-%COMP%]{background:#3498db}.toast--success[_ngcontent-%COMP%]{background:#07bc0c}.toast--warning[_ngcontent-%COMP%]{background:#f1c40f}.toast--error[_ngcontent-%COMP%]{background:#e74c3c}.toast-body[_ngcontent-%COMP%]{margin:auto 0;flex:1}@media only screen and (max-width:480px){.toast[_ngcontent-%COMP%]{margin-bottom:0}}@keyframes _ngcontent-%COMP%_bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes _ngcontent-%COMP%_bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes _ngcontent-%COMP%_bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes _ngcontent-%COMP%_bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes _ngcontent-%COMP%_bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.bounce-enter--bottom-left[_ngcontent-%COMP%], .bounce-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceInLeft}.bounce-enter--bottom-right[_ngcontent-%COMP%], .bounce-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceInRight}.bounce-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceInDown}.bounce-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceInUp}.bounce-exit--bottom-left[_ngcontent-%COMP%], .bounce-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceOutLeft}.bounce-exit--bottom-right[_ngcontent-%COMP%], .bounce-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceOutRight}.bounce-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceOutUp}.bounce-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bounceOutDown}@keyframes _ngcontent-%COMP%_zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes _ngcontent-%COMP%_zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.zoom-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_zoomIn}.zoom-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_zoomOut}@keyframes _ngcontent-%COMP%_flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes _ngcontent-%COMP%_flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.flip-enter[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_flipIn}.flip-exit[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_flipOut}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes _ngcontent-%COMP%_slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes _ngcontent-%COMP%_slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes _ngcontent-%COMP%_slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.slide-enter--bottom-left[_ngcontent-%COMP%], .slide-enter--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideInLeft}.slide-enter--bottom-right[_ngcontent-%COMP%], .slide-enter--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideInRight}.slide-enter--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideInDown}.slide-enter--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideInUp}.slide-exit--bottom-left[_ngcontent-%COMP%], .slide-exit--top-left[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideOutLeft}.slide-exit--bottom-right[_ngcontent-%COMP%], .slide-exit--top-right[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideOutRight}.slide-exit--top-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideOutUp}.slide-exit--bottom-center[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideOutDown}"],changeDetection:0}),t})();var Tf=function(t){return t[t.entering=0]="entering",t[t.noTransition=1]="noTransition",t[t.exiting=2]="exiting",t}(Tf||{});let U_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[tn.ez]]}),t})();var xl=k(2096),Ji=k(5592),$_=k(2459),G_=k(3019),ho=k(3093),bi=k(4664),Ei=k(7398),l1=k(4552);class c1 extends Jr.x{constructor(e=1/0,n=1/0,r=l1.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:u}=this;n||(r.push(e),!s&&r.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,l=s.slice();for(let u=0;u<l.length&&!e.closed;u+=r?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,l=(s?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!s){const u=n.now();let p=0;for(let m=1;m<r.length&&r[m]<=u;m+=2)p=m;p&&r.splice(0,p+1)}}}var wT=k(3020);function u1(t,e,n){let r,s=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:n}=t):r=t??1/0,(0,wT.B)({connector:()=>new c1(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var DT=k(1374),Ac=k(4674);function cg(t,e){return(0,Ac.m)(e)?(0,bi.w)(()=>t,e):(0,bi.w)(()=>t)}var W_,q_,m1,_1,y1,ku=k(5137),da=k(2181),Cf=k(2793),Fu=k(6304);k(4097);const Z_=new Map,E1={activated:!1,tokenObservers:[]},kT={initialized:!1,enabled:!1};function jr(t){return Z_.get(t)||Object.assign({},E1)}function dg(){return kT}const Y_="https://content-firebaseappcheck.googleapis.com/v1",BT="exchangeDebugToken",Q_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class D1{constructor(e,n,r,s,l){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,H.Z)(function*(){n.stop();try{n.pending=new pe.BH,yield function T1(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new pe.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const ki=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hg(t){if(!jr(t).activated)throw ki.create("use-before-activation",{appName:t.name})}function Sf(t,e){return(W_=W_||(0,H.Z)(function*({url:n,body:r},s){const l={"Content-Type":"application/json"},u=s.getImmediate({optional:!0});if(u){const q=yield u.getHeartbeatsHeader();q&&(l["X-Firebase-Client"]=q)}const p={method:"POST",body:JSON.stringify(r),headers:l};let m,w;try{m=yield fetch(n,p)}catch(q){throw ki.create("fetch-network-error",{originalErrorMessage:q?.message})}if(200!==m.status)throw ki.create("fetch-status-error",{httpStatus:m.status});try{w=yield m.json()}catch(q){throw ki.create("fetch-parse-error",{originalErrorMessage:q?.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const N=1e3*Number(S[1]),$=Date.now();return{token:w.token,expireTimeMillis:$+N,issuedAtTimeMillis:$}})).apply(this,arguments)}function I1(t,e){const{projectId:n,appId:r,apiKey:s}=t.options;return{url:`${Y_}/projects/${n}/apps/${r}:${BT}?key=${s}`,body:{debug_token:e}}}const Xd="firebase-app-check-database",$A=1,Vu="firebase-app-check-store";let Mf=null;function A1(t,e){return(q_=q_||(0,H.Z)(function*(n,r){const l=(yield function J_(){return Mf||(Mf=new Promise((t,e)=>{try{const n=indexedDB.open(Xd,$A);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(ki.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vu,{keyPath:"compositeKey"})}}catch(n){e(ki.create("storage-open",{originalErrorMessage:n?.message}))}}),Mf)}()).transaction(Vu,"readwrite"),p=l.objectStore(Vu).put({compositeKey:n,value:r});return new Promise((m,w)=>{p.onsuccess=S=>{m()},l.onerror=S=>{var N;w(ki.create("storage-set",{originalErrorMessage:null===(N=S.target.error)||void 0===N?void 0:N.message}))}})})).apply(this,arguments)}const Sc=new Ie.Yd("@firebase/app-check");function ps(t,e){return(0,pe.hl)()?function eh(t,e){return A1(function S1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Sc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gg(){return dg().enabled}function mg(){return(m1=m1||(0,H.Z)(function*(){const t=dg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M1={error:"UNKNOWN_ERROR"};function R1(t){return pe.US.encodeString(JSON.stringify(t),!1)}function Rf(t){return(_1=_1||(0,H.Z)(function*(e,n=!1){const r=e.app;hg(r);const s=jr(r);let u,l=s.token;if(l&&!th(l)&&(s.token=void 0,l=void 0),!l){const w=yield s.cachedTokenPromise;w&&(th(w)?l=w:yield ps(r,void 0))}if(!n&&l&&th(l))return{token:l.token};let m,p=!1;if(gg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Sf(I1(r,yield mg()),e.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const w=yield s.exchangeTokenPromise;return yield ps(r,w),s.token=w,{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),l=yield jr(r).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Sc.warn(w.message):Sc.error(w),u=w}return l?u?m=th(l)?{token:l.token,internalError:u}:P1(u):(m={token:l.token},s.token=l,yield ps(r,l)):m=P1(u),p&&function x1(t,e){const n=jr(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,m),m})).apply(this,arguments)}function ty(t,e){const n=jr(t),r=n.tokenObservers.filter(s=>s.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function O1(t){const{app:e}=t,n=jr(e);let r=n.tokenRefresher;r||(r=function Of(t){const{app:e}=t;return new D1((0,H.Z)(function*(){let r;if(r=jr(e).token?yield Rf(t,!0):yield Rf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=jr(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Q_.RETRIAL_MIN_WAIT,Q_.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function th(t){return t.expireTimeMillis-Date.now()>0}function P1(t){return{token:R1(M1),error:t}}class _g{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=jr(this.app);for(const n of e)ty(this.app,n.next);return Promise.resolve()}}const $1="app-check-internal";!function XT(){(0,se.Xd)(new de.wA("app-check",t=>function N1(t,e){return new _g(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($1).initialize()})),(0,se.Xd)(new de.wA($1,t=>function k1(t){return{getToken:e=>Rf(t,e),getLimitedUseToken:()=>function X_(t){return(y1=y1||(0,H.Z)(function*(e){const n=e.app;hg(n);const{provider:r}=jr(n);if(gg()){const s=yield mg(),{token:l}=yield Sf(I1(n,s),e.heartbeatServiceProvider);return{token:l}}{const{token:s}=yield r.getToken();return{token:s}}})).apply(this,arguments)}(t),addTokenListener:e=>function ey(t,e,n,r){const{app:s}=t,l=jr(s);if(l.tokenObservers=[...l.tokenObservers,{next:n,error:r,type:e}],l.token&&th(l.token)){const p=l.token;Promise.resolve().then(()=>{n({token:p.token}),O1(t)}).catch(()=>{})}l.cachedTokenPromise.then(()=>O1(t))}(t,"INTERNAL",e),removeTokenListener:e=>ty(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,se.KN)("@firebase/app-check","0.8.0")}();class eC{constructor(){return(0,Cf.vb)("app-check")}}typeof window<"u"&&window,k(120);const cC=new h.OlP("angularfire2.auth.use-emulator"),uC=new h.OlP("angularfire2.auth.settings"),oy=new h.OlP("angularfire2.auth.tenant-id"),dC=new h.OlP("angularfire2.auth.langugage-code"),W1=new h.OlP("angularfire2.auth.use-device-language"),hC=new h.OlP("angularfire.auth.persistence");let q1=(()=>{class t{constructor(n,r,s,l,u,p,m,w,S,N,$,q){const me=new Jr.x,Pe=(0,xl.of)(void 0).pipe((0,ho.Q)(u.outsideAngular),(0,bi.w)(()=>l.runOutsideAngular(()=>k.e(977).then(k.bind(k,8977)))),(0,Ei.U)(()=>(0,Fu.on)(n,l,r)),(0,Ei.U)(Me=>((t,e,n,r,s,l,u,p)=>(0,Fu.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const m=e.runOutsideAngular(()=>t.auth());if(n&&m.useEmulator(...n),r&&(m.tenantId=r),m.languageCode=s,l&&m.useDeviceLanguage(),u)for(const[w,S]of Object.entries(u))m.settings[w]=S;return p&&m.setPersistence(p),m},[n,r,s,l,u,p]))(Me,l,p,w,S,N,m,$)),u1({bufferSize:1,refCount:!1}));if((0,tn.PM)(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xl.of)(null);else{Pe.pipe((0,DT.P)()).subscribe();const nt=Pe.pipe((0,bi.w)(st=>st.getRedirectResult().then(ft=>ft,()=>null)),Cf.iC,u1({bufferSize:1,refCount:!1})),ht=Pe.pipe((0,bi.w)(st=>new Ji.y(ft=>({unsubscribe:l.runOutsideAngular(()=>st.onAuthStateChanged(At=>ft.next(At),At=>ft.error(At),()=>ft.complete()))})))),gt=Pe.pipe((0,bi.w)(st=>new Ji.y(ft=>({unsubscribe:l.runOutsideAngular(()=>st.onIdTokenChanged(At=>ft.next(At),At=>ft.error(At),()=>ft.complete()))}))));this.authState=nt.pipe(cg(ht),(0,ku.R)(u.outsideAngular),(0,ho.Q)(u.insideAngular)),this.user=nt.pipe(cg(gt),(0,ku.R)(u.outsideAngular),(0,ho.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,bi.w)(st=>st?(0,$_.D)(st.getIdToken()):(0,xl.of)(null))),this.idTokenResult=this.user.pipe((0,bi.w)(st=>st?(0,$_.D)(st.getIdTokenResult()):(0,xl.of)(null))),this.credential=(0,G_.T)(nt,me,this.authState.pipe((0,da.h)(st=>!st))).pipe((0,Ei.U)(st=>st?.user?st:null),(0,ku.R)(u.outsideAngular),(0,ho.Q)(u.insideAngular))}return(0,Fu.pX)(this,Pe,l,{spy:{apply:(Me,nt,ht)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&ht.then(gt=>me.next(gt))}}})}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Fu.Dh),h.LFG(Fu.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Cf.HU),h.LFG(cC,8),h.LFG(uC,8),h.LFG(oy,8),h.LFG(dC,8),h.LFG(W1,8),h.LFG(hC,8),h.LFG(eC,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),pC=(()=>{var t;class e{constructor(r){this.auth=r}login(r,s){var l=this;return(0,H.Z)(function*(){try{return yield l.auth.signInWithEmailAndPassword(r,s).catch(function(u){return u.code})}catch{return null}})()}register(r,s){var l=this;return(0,H.Z)(function*(){try{return yield l.auth.createUserWithEmailAndPassword(r,s).catch(function(u){return u.code})}catch{return null}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(q1))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var gC=k(7453),ju=k(4829),ay=k(9940),Uu=k(8251),ly=k(7400),K1=k(2714);let cy=(()=>{var t;class e{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq))},t.\u0275dir=h.lG2({type:t}),e})(),$u=(()=>{var t;class e extends cy{}return(t=e).\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(t)))(s||t)}}(),t.\u0275dir=h.lG2({type:t,features:[h.qOj]}),e})();const Po=new h.OlP("NgValueAccessor"),uy={provide:Po,useExisting:(0,h.Gpc)(()=>Gu),multi:!0},Y1=new h.OlP("CompositionEventMode");let Gu=(()=>{var t;class e extends cy{constructor(r,s,l){super(r,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dy(){const t=(0,tn.q)()?(0,tn.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Y1,8))},t.\u0275dir=h.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[h._Bn([uy]),h.qOj]}),e})();const wi=new h.OlP("NgValidators"),Rc=new h.OlP("NgAsyncValidators");function gy(t){return null!=t}function Tg(t){return(0,h.QGY)(t)?(0,$_.D)(t):t}function my(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function _y(t,e){return e.map(n=>n(t))}function yy(t){return t.map(e=>function tE(t){return!t.validate}(e)?e:n=>e.validate(n))}function vy(t){return null!=t?function nE(t){if(!t)return null;const e=t.filter(gy);return 0==e.length?null:function(n){return my(_y(n,e))}}(yy(t)):null}function by(t){return null!=t?function rE(t){if(!t)return null;const e=t.filter(gy);return 0==e.length?null:function(n){return function mC(...t){const e=(0,ay.jO)(t),{args:n,keys:r}=(0,gC.D)(t),s=new Ji.y(l=>{const{length:u}=n;if(!u)return void l.complete();const p=new Array(u);let m=u,w=u;for(let S=0;S<u;S++){let N=!1;(0,ju.Xf)(n[S]).subscribe((0,Uu.x)(l,$=>{N||(N=!0,w--),p[S]=$},()=>m--,void 0,()=>{(!m||!N)&&(w||l.next(r?(0,K1.n)(r,p):p),l.complete())}))}});return e?s.pipe((0,ly.Z)(e)):s}(_y(n,e).map(Tg)).pipe((0,Ei.U)(my))}}(yy(t)):null}function Ey(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Dy(t){return t?Array.isArray(t)?t:[t]:[]}function Cg(t,e){return Array.isArray(t)?t.includes(e):t===e}function bC(t,e){const n=Dy(e);return Dy(t).forEach(s=>{Cg(n,s)||n.push(s)}),n}function iE(t,e){return Dy(e).filter(n=>!Cg(t,n))}class sE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=by(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rs extends sE{get formDirective(){return null}get path(){return null}}class Pl extends sE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ty{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cy=(()=>{var t;class e extends Ty{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Pl,2))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[h.qOj]}),e})();const kf="VALID",Oc="INVALID",rh="PENDING",zu="DISABLED";function xc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uE{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kf}get invalid(){return this.status===Oc}get pending(){return this.status==rh}get disabled(){return this.status===zu}get enabled(){return this.status!==zu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iE(e,this._rawAsyncValidators))}hasValidator(e){return Cg(this._rawValidators,e)}hasAsyncValidator(e){return Cg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kf||this.status===rh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zu:kf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rh,this._hasOwnPendingAsyncValidator=!0;const n=Tg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?zu:this.errors?Oc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rh)?rh:this._anyControlsHaveStatus(Oc)?Oc:kf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function oS(t){return Array.isArray(t)?vy(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aS(t){return Array.isArray(t)?by(t):t||null}(this._rawAsyncValidators)}}const sh=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ag}),Ag="always";function Lf(t,e,n=Ag){(function Ry(t,e){const n=function vC(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ey(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function wy(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Ey(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();Vf(e._rawValidators,s),Vf(e._rawAsyncValidators,s)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function hE(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Og(t,e)})}(t,e),function pE(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function fE(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Og(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Mg(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Vf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Og(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ny(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ky(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Fy=class extends uE{constructor(e=null,n,r){super(function Ay(t){return(xc(t)?t.validators:t)||null}(n),function Sy(t,e){return(xc(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ky(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ny(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ny(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ky(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},VC={provide:Pl,useExisting:(0,h.Gpc)(()=>Vy)},vE=(()=>Promise.resolve())();let Vy=(()=>{var t;class e extends Pl{constructor(r,s,l,u,p,m){super(),this._changeDetectorRef=p,this.callSetDisabledState=m,this.control=new Fy,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function Py(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Gu?n=l:function xy(t){return Object.getPrototypeOf(t.constructor)===$u}(l)?r=l:s=l}),s||r||n||null}(0,u)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const s=r.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function xg(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){vE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const s=r.isDisabled.currentValue,l=0!==s&&(0,h.VuI)(s);vE.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Ff(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Rs,9),h.Y36(wi,10),h.Y36(Rc,10),h.Y36(Po,10),h.Y36(h.sBO,8),h.Y36(sh,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([VC]),h.qOj,h.TTD]}),e})(),BC=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),yS=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[BC]}),e})(),QC=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:sh,useValue:r.callSetDisabledState??Ag}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[yS]}),e})(),ES=(()=>{var t;class e{constructor(r,s){this.router=r,this.route=s,this.btnLabel="Quien Soy"}ngOnInit(){}btnClick(){this.route.url.subscribe(r=>{var{path:s}=r[0];"login"==s&&(this.router.navigateByUrl("/about-us"),this.btnLabel="Volver"),"about-us"==s&&(this.btnLabel="Quien Soy",this.router.navigateByUrl("/login"))})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ee.F0),h.Y36(ee.gz))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-nav-bar"]],decls:6,vars:1,consts:[[1,"navbar","navbar-dark","bg-dark","bg-gradient"],[1,"mx-4"],["src","../../../assets/img/joystick.png","alt","joystick",2,"width","75px","height","75px"],[1,"font-weight-bold","text-white"],["type","button",1,"bg-success","border","border-dark","border-3","m-3","p-2","rounded",3,"value","click"]],template:function(r,s){1&r&&(h.TgZ(0,"nav",0)(1,"div",1),h._UZ(2,"img",2),h.qZA(),h.TgZ(3,"h2",3),h._uU(4,"Bienvenido a la Sala de Juegos"),h.qZA(),h.TgZ(5,"input",4),h.NdJ("click",function(){return s.btnClick()}),h.qZA()()),2&r&&(h.xp6(5),h.s9C("value",s.btnLabel))}}),e})(),JC=(()=>{var t;class e{constructor(r,s,l,u){this.router=r,this.dataService=s,this.toastService=l,this.authService=u,this.user="",this.password="",this.login="Login",this.btnLabel="Entrar",this.btnLabel2="Registrarse",this.logLabel="\xbfAun no estas registrado?"}ngOnInit(){}loginAuth(){var s,r=this;this.authService.login(this.user,this.password).then(function(l){return(s=s||(0,H.Z)(function*(u){if("string"==typeof u||null==u)r.addErrorToast("Usuario o contrase\xf1a invalidos.");else{const p=cf(jd(Qy,"logs"));yield ag(p,{user:r.user,fecha:Date.now()}),r.enviarUserName(),r.router.navigateByUrl("/home")}})).apply(this,arguments)})}registerAuth(){var s,r=this;this.authService.register(this.user,this.password).then(function(l){return(s=s||(0,H.Z)(function*(u){if("string"==typeof u||null==u)r.addErrorToast("Error. Datos invalidos.");else{const p=cf(jd(Qy,"usuarios"));yield ag(p,{user:r.user,password:r.password});const m=cf(jd(Qy,"logs"));yield ag(m,{user:r.user,fecha:Date.now()}),r.enviarUserName(),r.router.navigateByUrl("/home")}})).apply(this,arguments)})}login_register(){"Login"!=this.login?(this.login="Login",this.btnLabel="Entrar",this.btnLabel2="Registrarse",this.logLabel="\xbfAun no estas registrado?"):(this.login="Registraci\xf3n",this.btnLabel="Registrarse",this.btnLabel2="Login",this.logLabel="\xbfYa estas registrado?")}login_reg(){var r=this;return(0,H.Z)(function*(){"Login"==r.login?r.loginAuth():r.registerAuth()})()}enviarUserName(){this.dataService.userName=this.user}autoLog(){this.user="valeriy@gmail.com",this.password="valeriy",this.loginAuth()}addErrorToast(r){this.toastService.error(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ee.F0),h.Y36(V_),h.Y36(lg),h.Y36(pC))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-login"]],decls:25,vars:7,consts:[[1,"bg-image",2,"background-image","url('../../../assets/img/Gaming-bg.jpg')","width","100vw","height","100vh"],[1,"d-flex","align-items-center","justify-content-center","p-5"],[1,"card","text-center","align-self-center",2,"width","400px","height","550px"],[1,"card-header"],[1,"card-body","p-5"],["type","text","placeholder","Usuario",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block","m-3",3,"value","click"],["type","button",1,"btn","btn-secondary","m-1",3,"value","click"],["type","button","value","Auto Login",1,"btn","btn-info","m-2",3,"click"],["position","bottom-right","transition","flip",3,"newestOnTop"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h._UZ(1,"app-nav-bar"),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),h._uU(6),h.qZA()(),h.TgZ(7,"div",4)(8,"h3"),h._uU(9,"Usuario:"),h.qZA(),h.TgZ(10,"input",5),h.NdJ("ngModelChange",function(u){return s.user=u}),h.qZA(),h._UZ(11,"br"),h.TgZ(12,"h3"),h._uU(13,"Contrase\xf1a:"),h.qZA(),h.TgZ(14,"input",6),h.NdJ("ngModelChange",function(u){return s.password=u}),h.qZA(),h._UZ(15,"br"),h.TgZ(16,"input",7),h.NdJ("click",function(){return s.login_reg()}),h.qZA(),h._UZ(17,"br"),h.TgZ(18,"label"),h._uU(19),h.qZA(),h.TgZ(20,"input",8),h.NdJ("click",function(){return s.login_register()}),h.qZA(),h._UZ(21,"br")(22,"br"),h.TgZ(23,"input",9),h.NdJ("click",function(){return s.autoLog()}),h.qZA()()()(),h._UZ(24,"lib-toastify-toast-container",10),h.qZA()),2&r&&(h.xp6(6),h.Oqu(s.login),h.xp6(4),h.Q6J("ngModel",s.user),h.xp6(4),h.Q6J("ngModel",s.password),h.xp6(2),h.s9C("value",s.btnLabel),h.xp6(3),h.Oqu(s.logLabel),h.xp6(1),h.s9C("value",s.btnLabel2),h.xp6(4),h.Q6J("newestOnTop",!0))},dependencies:[Gu,Cy,Vy,a1,ES]}),e})();const Qy=Rb((0,se.ZF)({apiKey:"AIzaSyC_n-zaJwwDOT_baENLRCAPjeEtItyobmI",authDomain:"tp-sala-juegos-b2d86.firebaseapp.com",projectId:"tp-sala-juegos-b2d86",storageBucket:"tp-sala-juegos-b2d86.appspot.com",messagingSenderId:"420853186094",appId:"1:420853186094:web:a65608cf7a38ffa03529bf"}));let eI=(()=>{var t;class e{constructor(){this.cartaActual="",this.puntaje=0,this.bandera=!1,this.btnLabel="Jugar",this.indexActual=-1,this.cartaImg="",this.cartas=["2","3","4","5","6","7","8","9","10","J","Q","K","A"]}JugarReiniciar(){0==this.bandera?(this.PrimeraCarta(),this.btnLabel="Reiniciar",this.bandera=!0):(this.cartaActual="",this.bandera=!1,this.btnLabel="Jugar",this.puntaje=0,this.indexActual=-1,this.cartaImg="")}AsignarImagen(r){var s=Math.floor(4*Math.random());this.cartaImg=`../../../assets/cards/${r}${s}.jpg`}Mayor(){if(this.indexActual>-1){do{var r=Math.floor(13*Math.random())}while(this.indexActual==r);this.indexActual<r&&(this.puntaje=this.puntaje+1),this.indexActual=r,this.cartaActual=this.cartas[r],this.AsignarImagen(this.cartas[r])}}Menor(){if(this.indexActual>-1){do{var r=Math.floor(13*Math.random())}while(this.indexActual==r);this.indexActual>r&&(this.puntaje=this.puntaje+1),this.indexActual=r,this.cartaActual=this.cartas[r],this.AsignarImagen(this.cartas[r])}}PrimeraCarta(){var r=Math.floor(13*Math.random());this.indexActual=r,this.cartaActual=this.cartas[r],this.AsignarImagen(this.cartas[r])}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-mayor-menor"]],decls:12,vars:3,consts:[[1,"container","d-flex","justify-content-center","align-items-center","flex-column"],[1,"card","m-2","p-1","bg-dark","text-white"],[1,"card","m-2","p-1","d-flex","flex-row"],["src","../../../assets/cards/deck.jpg","alt",""],["alt","",3,"src"],[1,"card","d-flex","flex-row"],["type","button","value","Mayor",1,"btn","btn-secondary","m-1",3,"click"],["type","button","value","Menor",1,"btn","btn-secondary","m-1",3,"click"],["type","button",1,"btn","btn-primary","m-1",3,"value","click"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"Mayor o Menor"),h.qZA(),h.TgZ(3,"div",1),h._uU(4),h.qZA(),h.TgZ(5,"div",2),h._UZ(6,"img",3)(7,"img",4),h.qZA(),h.TgZ(8,"div",5)(9,"input",6),h.NdJ("click",function(){return s.Mayor()}),h.qZA(),h.TgZ(10,"input",7),h.NdJ("click",function(){return s.Menor()}),h.qZA()(),h.TgZ(11,"input",8),h.NdJ("click",function(){return s.JugarReiniciar()}),h.qZA()()),2&r&&(h.xp6(4),h.hij("Puntaje: ",s.puntaje,""),h.xp6(3),h.s9C("src",s.cartaImg,h.LSH),h.xp6(4),h.s9C("value",s.btnLabel))},styles:[".container[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{background-color:#deb887}.btn[_ngcontent-%COMP%]:hover{background-color:green}"]}),e})(),wS=(()=>{var t;class e{constructor(){this.img="",this.btnLabel="Jugar",this.palabra="",this.letras="",this.pregunta="",this.equivocaciones=0,this.preguntas=["\xbfQue animal domestico es conocido por cazar ratones?","\xbfQue formacion geografica es alta y generalmente cubierta de nieve?","\xbfQue dispositivo usamos para hacer llamas y enviar mensajes?","\xbfQue postre suele ser frio y viene en una variedad de sabores?","\xbfQue estacion del a\xf1o sigue al verano?","\xbfQue objeto se utiliza para leer historias e informacion impresa?","\xbfQue vehiculo se utiliza para transportar mercancias en grandes cantidades?","\xbfQue dispositivo electronico se utiliza para navegar por internet y hacer tareas digitales?","\xbfQue vehiculo tiene dos ruedas y se impulsa pedaleando?","\xbfQue comida italiana es redonda, tiene masa, salsa y diferentes ingredientes?"],this.respuestas=["GATO","MONTA\xd1A","CELULAR","HELADO","OTO\xd1O","LIBRO","CAMION","COMPUTADORA","BICICLETA","PIZZA"]}Jugar(){"Jugar"==this.btnLabel?(this.img=`../../assets/ahorcado/${this.equivocaciones}.jpg`,this.btnLabel="Reiniciar",this.GenerarPalabra()):(this.img="",this.btnLabel="Jugar",this.letras="",this.pregunta="",this.equivocaciones=0)}GenerarPalabra(){var r=Math.floor(10*Math.random());this.palabra=this.respuestas[r],this.pregunta=this.preguntas[r];var s=this.palabra.length;do{this.letras=this.letras+"_",s--}while(s>0)}AgregarLetra(r){if("Reiniciar"==this.btnLabel)if(-1!=this.palabra.indexOf(r)){var s=0;do{-1!=(s=this.palabra.indexOf(r,s))?(this.letras=this.setCharAt(this.letras,s,r),s+=1):s=0}while(0!=s)}else this.equivocaciones<8&&-1!=this.letras.indexOf("_")&&(this.equivocaciones=this.equivocaciones+1,this.img=`../../assets/ahorcado/${this.equivocaciones}.jpg`,8==this.equivocaciones&&(this.pregunta="",this.letras=""))}setCharAt(r,s,l){return s>r.length-1?r:r.substring(0,s)+l+r.substring(s+1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-ahorcado"]],decls:40,vars:4,consts:[[1,"container","d-flex","align-items-center","justify-content-center","flex-column",2,"max-width","500px","max-height","500px"],["alt","",3,"src"],[1,"espacio"],[1,"card"],[1,"d-flex","justify-content-center","align-items-center"],["type","button","value","Q",1,"letra",3,"click"],["type","button","value","W",1,"letra",3,"click"],["type","button","value","E",1,"letra",3,"click"],["type","button","value","R",1,"letra",3,"click"],["type","button","value","T",1,"letra",3,"click"],["type","button","value","Y",1,"letra",3,"click"],["type","button","value","U",1,"letra",3,"click"],["type","button","value","I",1,"letra",3,"click"],["type","button","value","O",1,"letra",3,"click"],["type","button","value","P",1,"letra",3,"click"],["type","button","value","A",1,"letra",3,"click"],["type","button","value","S",1,"letra",3,"click"],["type","button","value","D",1,"letra",3,"click"],["type","button","value","F",1,"letra",3,"click"],["type","button","value","G",1,"letra",3,"click"],["type","button","value","H",1,"letra",3,"click"],["type","button","value","J",1,"letra",3,"click"],["type","button","value","K",1,"letra",3,"click"],["type","button","value","L",1,"letra",3,"click"],["type","button","value","\xd1",1,"letra",3,"click"],["type","button","value","Z",1,"letra",3,"click"],["type","button","value","X",1,"letra",3,"click"],["type","button","value","C",1,"letra",3,"click"],["type","button","value","V",1,"letra",3,"click"],["type","button","value","B",1,"letra",3,"click"],["type","button","value","N",1,"letra",3,"click"],["type","button","value","M",1,"letra",3,"click"],["type","button",1,"btn","btn-primary","m-2",3,"value","click"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"h2"),h._uU(2,"Ahorcado"),h.qZA(),h._UZ(3,"img",1),h.TgZ(4,"h3"),h._uU(5),h.qZA(),h.TgZ(6,"h2",2),h._uU(7),h.qZA(),h.TgZ(8,"div",3)(9,"div",4)(10,"input",5),h.NdJ("click",function(){return s.AgregarLetra("Q")}),h.qZA(),h.TgZ(11,"input",6),h.NdJ("click",function(){return s.AgregarLetra("W")}),h.qZA(),h.TgZ(12,"input",7),h.NdJ("click",function(){return s.AgregarLetra("E")}),h.qZA(),h.TgZ(13,"input",8),h.NdJ("click",function(){return s.AgregarLetra("R")}),h.qZA(),h.TgZ(14,"input",9),h.NdJ("click",function(){return s.AgregarLetra("T")}),h.qZA(),h.TgZ(15,"input",10),h.NdJ("click",function(){return s.AgregarLetra("Y")}),h.qZA(),h.TgZ(16,"input",11),h.NdJ("click",function(){return s.AgregarLetra("U")}),h.qZA(),h.TgZ(17,"input",12),h.NdJ("click",function(){return s.AgregarLetra("I")}),h.qZA(),h.TgZ(18,"input",13),h.NdJ("click",function(){return s.AgregarLetra("O")}),h.qZA(),h.TgZ(19,"input",14),h.NdJ("click",function(){return s.AgregarLetra("P")}),h.qZA()(),h.TgZ(20,"div",4)(21,"input",15),h.NdJ("click",function(){return s.AgregarLetra("A")}),h.qZA(),h.TgZ(22,"input",16),h.NdJ("click",function(){return s.AgregarLetra("S")}),h.qZA(),h.TgZ(23,"input",17),h.NdJ("click",function(){return s.AgregarLetra("D")}),h.qZA(),h.TgZ(24,"input",18),h.NdJ("click",function(){return s.AgregarLetra("F")}),h.qZA(),h.TgZ(25,"input",19),h.NdJ("click",function(){return s.AgregarLetra("G")}),h.qZA(),h.TgZ(26,"input",20),h.NdJ("click",function(){return s.AgregarLetra("H")}),h.qZA(),h.TgZ(27,"input",21),h.NdJ("click",function(){return s.AgregarLetra("J")}),h.qZA(),h.TgZ(28,"input",22),h.NdJ("click",function(){return s.AgregarLetra("K")}),h.qZA(),h.TgZ(29,"input",23),h.NdJ("click",function(){return s.AgregarLetra("L")}),h.qZA(),h.TgZ(30,"input",24),h.NdJ("click",function(){return s.AgregarLetra("\xd1")}),h.qZA()(),h.TgZ(31,"div",4)(32,"input",25),h.NdJ("click",function(){return s.AgregarLetra("Z")}),h.qZA(),h.TgZ(33,"input",26),h.NdJ("click",function(){return s.AgregarLetra("X")}),h.qZA(),h.TgZ(34,"input",27),h.NdJ("click",function(){return s.AgregarLetra("C")}),h.qZA(),h.TgZ(35,"input",28),h.NdJ("click",function(){return s.AgregarLetra("V")}),h.qZA(),h.TgZ(36,"input",29),h.NdJ("click",function(){return s.AgregarLetra("B")}),h.qZA(),h.TgZ(37,"input",30),h.NdJ("click",function(){return s.AgregarLetra("N")}),h.qZA(),h.TgZ(38,"input",31),h.NdJ("click",function(){return s.AgregarLetra("M")}),h.qZA()()(),h.TgZ(39,"input",32),h.NdJ("click",function(){return s.Jugar()}),h.qZA()()),2&r&&(h.xp6(3),h.s9C("src",s.img,h.LSH),h.xp6(2),h.Oqu(s.pregunta),h.xp6(2),h.Oqu(s.letras),h.xp6(32),h.s9C("value",s.btnLabel))},styles:[".espacio[_ngcontent-%COMP%]{letter-spacing:5px}.btn[_ngcontent-%COMP%]:hover{background-color:green}.container[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{background-color:#bafaf7}.letra[_ngcontent-%COMP%]{padding:4px;margin:4px}.letra[_ngcontent-%COMP%]:hover{background-color:#eaf5ac}"]}),e})();function tI(t,e){if(1&t&&(h.TgZ(0,"p",7),h._uU(1),h.qZA()),2&t){const n=e.$implicit;h.xp6(1),h.hij(" ",n," ")}}let Gf=(()=>{var t;class e{constructor(r){this.dataService=r,this.user="",this.nuevoMensaje="",this.fecha="",this.mostrar=!1,this.mensajes=[]}ngOnInit(){this.user=this.dataService.userName,this.getChat()}EnviarMensaje(){var r=this;return(0,H.Z)(function*(){const s=cf(jd(FE,"chat"));yield ag(s,{user:r.user,fecha:Date.now(),mensaje:r.nuevoMensaje});var l=r.user.split("@")[0];r.mensajes.push(`${r.crearHorario()} - ${l}: ${r.nuevoMensaje}`),r.nuevoMensaje=""})()}getChat(){var r=this;return(0,H.Z)(function*(){const s=function jb(t,e,...n){let r=[];e instanceof ng&&r.push(e),r=r.concat(n),function(l){const u=l.filter(m=>m instanceof Nu).length,p=l.filter(m=>m instanceof zd).length;if(u>1||u>0&&p>0)throw new tt(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}(jd(FE,"chat"),function CA(t,e="asc"){const n=e,r=yf("orderBy",t);return A_._create(r,n)}("fecha")),l=yield function zb(t){t=Ln(t,ci);const e=Ln(t.firestore,mr),n=Ir(e),r=new Rl(e);return function C_(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new tt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),E_(n,t._query).then(s=>new Kd(e,r,t,s))}(s);try{l.forEach(u=>{var p=u.get("user").split("@");p=p[0],r.mensajes.push(`${r.crearHorario(new Date(u.get("fecha")))} - ${p}: ${u.get("mensaje")}`)})}catch(u){console.log(u)}})()}crearHorario(r=new Date(Date.now())){var s=r.getHours(),l=r.getMinutes(),p=`${s}:${l}`;return l<10&&(p=`${s}:${"0"+l.toString()}`),p}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(V_))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-chat"]],decls:8,vars:2,consts:[[1,"container","d-flex","align-items-start","justify-content-center","bg-dark","flex-column",2,"height","80vh","width","400px","border","solid 2px yellow"],[1,"text-white","m-2"],["id","mensajes-container",1,"card-body","h-100","mensajes","bg-dark"],["class","text-white",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","m-2"],["type","text","placeholder","Escribe un mensaje...",1,"form-control",3,"ngModel","ngModelChange"],["type","button","value","Enviar",3,"click"],[1,"text-white"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2,"CHAT"),h.qZA(),h.TgZ(3,"div",2),h.YNc(4,tI,2,1,"p",3),h.qZA(),h.TgZ(5,"div",4)(6,"input",5),h.NdJ("ngModelChange",function(u){return s.nuevoMensaje=u}),h.qZA(),h.TgZ(7,"input",6),h.NdJ("click",function(){return s.EnviarMensaje()}),h.qZA()()()),2&r&&(h.xp6(4),h.Q6J("ngForOf",s.mensajes),h.xp6(2),h.Q6J("ngModel",s.nuevoMensaje))},dependencies:[tn.sg,Gu,Cy,Vy],styles:[".mensajes[_ngcontent-%COMP%]{overflow:scroll}"]}),e})();const FE=Rb((0,se.ZF)({apiKey:"AIzaSyC_n-zaJwwDOT_baENLRCAPjeEtItyobmI",authDomain:"tp-sala-juegos-b2d86.firebaseapp.com",projectId:"tp-sala-juegos-b2d86",storageBucket:"tp-sala-juegos-b2d86.appspot.com",messagingSenderId:"420853186094",appId:"1:420853186094:web:a65608cf7a38ffa03529bf"})),rI=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:JC},{path:"home",component:(()=>{var t;class e{constructor(r,s){this.router=r,this.dataService=s,this.user="",this.mostrarChat=!0}logOut(){var r=this;return(0,H.Z)(function*(){""!=r.user&&(r.user="",r.router.navigateByUrl("/login"))})()}ngOnInit(){this.user=this.dataService.userName,""==this.user&&this.router.navigateByUrl("/login")}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(ee.F0),h.Y36(V_))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-home"]],decls:18,vars:2,consts:[[1,"bg-image",2,"background-image","url('../../../assets/img/Gaming-bg.jpg')","width","100vw","height","100vh"],[1,"d-flex","align-items-center","justify-content-between","p-4"],["type","button","value","Chat",1,"btn","btn-primary","m-2","p-3",3,"click"],[1,"text-white"],["type","button","value","Salir",1,"btn","btn-primary","m-2","p-3",3,"click"],[1,"d-flex","flex-row","align-items-center","justify-content-center"],[3,"hidden"],[1,"container","d-flex","align-items-center","justify-content-center","p-2"],[1,"card","m-4","p-1"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"input",2),h.NdJ("click",function(){return s.mostrarChat=!s.mostrarChat}),h.qZA(),h.TgZ(3,"h2",3),h._uU(4),h.qZA(),h.TgZ(5,"input",4),h.NdJ("click",function(){return s.logOut()}),h.qZA()(),h.TgZ(6,"div",5)(7,"div",6),h._UZ(8,"app-chat"),h.qZA(),h.TgZ(9,"div",7)(10,"div",8),h._UZ(11,"app-ahorcado"),h.qZA(),h.TgZ(12,"div",8),h._UZ(13,"app-mayor-menor"),h.qZA(),h.TgZ(14,"div",8),h._uU(15," Preguntados "),h.qZA(),h.TgZ(16,"div",8),h._uU(17," Juego a Definir "),h.qZA()()()()),2&r&&(h.xp6(4),h.hij("Bienvenido ",s.user,"!"),h.xp6(3),h.Q6J("hidden",s.mostrarChat))},dependencies:[eI,wS,Gf]}),e})()},{path:"about-us",loadChildren:()=>k.e(93).then(k.bind(k,93)).then(t=>t.AboutUsModule)},{path:"**",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"h1"),h._uU(1,"Error 404, pagina no encontrada."),h.qZA())}}),e})()}];let iI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[ee.Bz.forRoot(rI),ee.Bz]}),e})(),Jy=(()=>{var t;class e{constructor(){this.title="sala-juegos"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[ee.lC]}),e})();var LE=k(6232),VE=k(1631),sI=k(4266);const oI=["addListener","removeListener"],aI=["addEventListener","removeEventListener"],lI=["on","off"];function Xi(t,e,n,r){if((0,Ac.m)(n)&&(r=n,n=void 0),r)return Xi(t,e,n).pipe((0,ly.Z)(r));const[s,l]=function Xy(t){return(0,Ac.m)(t.addEventListener)&&(0,Ac.m)(t.removeEventListener)}(t)?aI.map(u=>p=>t[u](e,p,n)):function cI(t){return(0,Ac.m)(t.addListener)&&(0,Ac.m)(t.removeListener)}(t)?oI.map(BE(t,e)):function jE(t){return(0,Ac.m)(t.on)&&(0,Ac.m)(t.off)}(t)?lI.map(BE(t,e)):[];if(!s&&(0,sI.z)(t))return(0,VE.z)(u=>Xi(u,e,n))((0,ju.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new Ji.y(u=>{const p=(...m)=>u.next(1<m.length?m:m[0]);return s(p),()=>l(p)})}function BE(t,e){return n=>r=>t[n](e,r)}var UE=k(6321),uI=k(671);const{isArray:CS}=Array;function xs(t){return 1===t.length&&CS(t[0])?t[0]:t}function nv(...t){const e=(0,ay.jO)(t),n=xs(t);return n.length?new Ji.y(r=>{let s=n.map(()=>[]),l=n.map(()=>!1);r.add(()=>{s=l=null});for(let u=0;!r.closed&&u<n.length;u++)(0,ju.Xf)(n[u]).subscribe((0,Uu.x)(r,p=>{if(s[u].push(p),s.every(m=>m.length)){const m=s.map(w=>w.shift());r.next(e?e(...m):m),s.some((w,S)=>!w.length&&l[S])&&r.complete()}},()=>{l[u]=!0,!s[u].length&&r.complete()}));return()=>{s=l=null}}):LE.E}var rv=k(5211),Ur=k(9773),Fi=k(8180),iv=k(9397),Bg=k(9360),sv=k(2737),HE=k(2420);function zE(...t){const e=(0,ay.jO)(t);return(0,Bg.e)((n,r)=>{const s=t.length,l=new Array(s);let u=t.map(()=>!1),p=!1;for(let m=0;m<s;m++)(0,ju.Xf)(t[m]).subscribe((0,Uu.x)(r,w=>{l[m]=w,!p&&!u[m]&&(u[m]=!0,(p=u.every(sv.y))&&(u=null))},HE.Z));n.subscribe((0,Uu.x)(r,m=>{if(p){const w=[m,...l];r.next(e?e(...w):w)}}))})}k(975),k(7921),k(3997),Math,Math,Math;const K=["*"],HR=["dialog"];function Kf(t){return"string"==typeof t}function Zf(t){return null!=t}function Qg(t){return(t||document.body).getBoundingClientRect()}const XS={animation:!0,transitionTimerDelayMs:5},FO=()=>{},{transitionTimerDelayMs:LO}=XS,_v=new Map,Vo=(t,e,n,r)=>{let s=r.context||{};const l=_v.get(e);if(l)switch(r.runningTransition){case"continue":return LE.E;case"stop":t.run(()=>l.transition$.complete()),s=Object.assign(l.context,s),_v.delete(e)}const u=n(e,r.animation,s)||FO;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>u()),(0,xl.of)(void 0).pipe(function NO(t){return e=>new Ji.y(n=>e.subscribe({next:u=>t.run(()=>n.next(u)),error:u=>t.run(()=>n.error(u)),complete:()=>t.run(()=>n.complete())}))}(t));const p=new Jr.x,m=new Jr.x,w=p.pipe(function dI(...t){return e=>(0,rv.z)(e,(0,xl.of)(...t))}(!0));_v.set(e,{transition$:p,complete:()=>{m.next(),m.complete()},context:s});const S=function kO(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const N=Xi(e,"transitionend").pipe((0,Ur.R)(w),(0,da.h)(({target:q})=>q===e));(function tv(...t){return 1===(t=xs(t)).length?(0,ju.Xf)(t[0]):new Ji.y(function GE(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push((0,ju.Xf)(t[r]).subscribe((0,Uu.x)(e,s=>{if(n){for(let l=0;l<n.length;l++)l!==r&&n[l].unsubscribe();n=null}e.next(s)})))}}(t))})(function ev(t=0,e,n=UE.P){let r=-1;return null!=e&&((0,uI.K)(e)?n=e:r=e),new Ji.y(s=>{let l=function $E(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;l<0&&(l=0);let u=0;return n.schedule(function(){s.closed||(s.next(u++),0<=r?this.schedule(void 0,r):s.complete())},l)})}(S+LO).pipe((0,Ur.R)(w)),N,m).pipe((0,Ur.R)(w)).subscribe(()=>{_v.delete(e),t.run(()=>{u(),p.next(),p.complete()})})}),p.asObservable()};let gw=(()=>{var t;class e{constructor(){this.animation=XS.animation}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),cM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),hM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),fM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();var Ar=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Ar||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const bM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function EM(t){const e=Array.from(t.querySelectorAll(bM)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let NM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),LM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();class ep{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let Fx=(()=>{var t;class e{constructor(r,s){this._el=r,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Fi.q)(1)).subscribe(()=>{Vo(this._zone,this._el.nativeElement,(r,s)=>{s&&Qg(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vo(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.SBq),h.Y36(h.R0b))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){2&r&&(h.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),h.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[h.jDz],decls:0,vars:0,template:function(r,s){},encapsulation:2}),e})();class VM{update(e){}close(e){}dismiss(e){}}const Lx=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Vx=["animation","backdropClass"];class Bx{_applyWindowOptions(e,n){Lx.forEach(r=>{Zf(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){Vx.forEach(r=>{Zf(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ur.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ur.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,s){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=s,this._closed=new Jr.x,this._dismissed=new Jr.x,this._hidden=new Jr.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,u)=>{this._resolve=l,this._reject=u}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function ZS(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,xl.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nv(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var QI=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(QI||{});let jx=(()=>{var t;class e{constructor(r,s,l){this._document=r,this._elRef=s,this._zone=l,this._closed$=new Jr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new Jr.x,this.hidden=new Jr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Kf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Fi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,s={animation:this.animation,runningTransition:"stop"},p=nv(Vo(this._zone,r,()=>r.classList.remove("show"),s),Vo(this._zone,this._dialogEl.nativeElement,()=>{},s));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const r={animation:this.animation,runningTransition:"continue"};nv(Vo(this._zone,this._elRef.nativeElement,(u,p)=>{p&&Qg(u),u.classList.add("show")},r),Vo(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{Xi(r,"keydown").pipe((0,Ur.R)(this._closed$),(0,da.h)(l=>l.which===Ar.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(QI.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;Xi(this._dialogEl.nativeElement,"mousedown").pipe((0,Ur.R)(this._closed$),(0,iv.b)(()=>s=!1),(0,bi.w)(()=>Xi(r,"mouseup").pipe((0,Ur.R)(this._closed$),(0,Fi.q)(1))),(0,da.h)(({target:l})=>r===l)).subscribe(()=>{s=!0}),Xi(r,"click").pipe((0,Ur.R)(this._closed$)).subscribe(({target:l})=>{r===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(QI.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const s=r.querySelector("[ngbAutofocus]"),l=EM(r)[0];(s||l||r).focus()}}_restoreFocus(){const r=this._document.body,s=this._elWithFocus;let l;l=s&&s.focus&&r.contains(s)?s:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vo(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(tn.K0),h.Y36(h.SBq),h.Y36(h.R0b))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(1&r&&h.Gf(HR,7),2&r){let l;h.iGM(l=h.CRH())&&(s._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){2&r&&(h.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),h.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),h.ekj("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[h.jDz],ngContentSelectors:K,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,s){1&r&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&r&&h.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),Ux=(()=>{var t;class e{constructor(r){this._document=r}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),s=this._document.body,l=s.style,{overflow:u,paddingRight:p}=l;if(r>0){const m=parseFloat(window.getComputedStyle(s).paddingRight);l.paddingRight=`${m+r}px`}return l.overflow="hidden",()=>{r>0&&(l.paddingRight=p),l.overflow=u}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(tn.K0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$x=(()=>{var t;class e{constructor(r,s,l,u,p,m,w){this._applicationRef=r,this._injector=s,this._environmentInjector=l,this._document=u,this._scrollBar=p,this._rendererFactory=m,this._ngZone=w,this._activeWindowCmptHasChanged=new Jr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const S=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const s=Xi(e,"focusin").pipe((0,Ur.R)(n),(0,Ei.U)(l=>l.target));Xi(e,"keydown").pipe((0,Ur.R)(n),(0,da.h)(l=>l.which===Ar.Tab),zE(s)).subscribe(([l,u])=>{const[p,m]=EM(e);(u===p||u===e)&&l.shiftKey&&(m.focus(),l.preventDefault()),u===m&&!l.shiftKey&&(p.focus(),l.preventDefault())}),r&&Xi(e,"click").pipe((0,Ur.R)(n),zE(s),(0,Ei.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,S.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(S.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,s,l){const u=l.container instanceof HTMLElement?l.container:Zf(l.container)?this._document.querySelector(l.container):this._document.body,p=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new VM,w=(r=l.injector||r).get(h.lqb,null)||this._environmentInjector,S=this._getContentRef(r,w,s,m,l);let N=!1!==l.backdrop?this._attachBackdrop(u):void 0,$=this._attachWindowComponent(u,S.nodes),q=new Bx($,S,N,l.beforeDismiss);return this._registerModalRef(q),this._registerWindowCmpt($),q.hidden.pipe((0,Fi.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(p.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=me=>{q.close(me)},m.dismiss=me=>{q.dismiss(me)},m.update=me=>{q.update(me)},q.update(l),1===this._modalRefs.length&&p.addClass(this._document.body,"modal-open"),N&&N.instance&&N.changeDetectorRef.detectChanges(),$.changeDetectorRef.detectChanges(),q}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(s=>s.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let s=(0,h.LMc)(Fx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_attachWindowComponent(r,s){let l=(0,h.LMc)(jx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:s});return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_getContentRef(r,s,l,u,p){return l?l instanceof h.Rgc?this._createFromTemplateRef(l,u):Kf(l)?this._createFromString(l):this._createFromComponent(r,s,l,u,p):new ep([])}_createFromTemplateRef(r,s){const u=r.createEmbeddedView({$implicit:s,close(p){s.close(p)},dismiss(p){s.dismiss(p)}});return this._applicationRef.attachView(u),new ep([u.rootNodes],u)}_createFromString(r){const s=this._document.createTextNode(`${r}`);return new ep([[s]])}_createFromComponent(r,s,l,u,p){const m=h.zs3.create({providers:[{provide:VM,useValue:u}],parent:r}),w=(0,h.LMc)(l,{environmentInjector:s,elementInjector:m}),S=w.location.nativeElement;return p.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new ep([[S]],w.hostView,w)}_setAriaHidden(r){const s=r.parentElement;s&&r!==this._document.body&&(Array.from(s.children).forEach(l=>{l!==r&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const s=()=>{const l=this._modalRefs.indexOf(r);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(s,s)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const s=this._windowCmpts.indexOf(r);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(h.lqb),h.LFG(tn.K0),h.LFG(Ux),h.LFG(h.FYo),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Gx=(()=>{var t;class e{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(gw))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Hx=(()=>{var t;class e{constructor(r,s,l){this._injector=r,this._modalStack=s,this._config=l}open(r,s={}){const l={...this._config,animation:this._config.animation,...s};return this._modalStack.open(this._injector,r,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(h.zs3),h.LFG($x),h.LFG(Gx))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),BM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[Hx]}),e})(),$M=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),YM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),JM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),XM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),eR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),tR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),nR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),rR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),iR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();new h.OlP("live announcer delay",{providedIn:"root",factory:function lP(){return 100}});let sR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})(),oR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();const uP=[lM,cM,hM,fM,NM,LM,BM,$M,oR,YM,JM,XM,eR,tR,nR,rR,iR,sR];let dP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[uP,lM,cM,hM,fM,NM,LM,BM,$M,oR,YM,JM,XM,eR,tR,nR,rR,iR,sR]}),e})();const hP={apiKey:"AIzaSyC_n-zaJwwDOT_baENLRCAPjeEtItyobmI",authDomain:"tp-sala-juegos-b2d86.firebaseapp.com",projectId:"tp-sala-juegos-b2d86",storageBucket:"tp-sala-juegos-b2d86.appspot.com",messagingSenderId:"420853186094",appId:"1:420853186094:web:a65608cf7a38ffa03529bf"};let fP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t,bootstrap:[Jy]}),t.\u0275inj=h.cJS({providers:[lg],imports:[C.b2,iI,dP,QC,U_,Fu.hO.initializeApp(hP)]}),e})();C.q6().bootstrapModule(fP).catch(t=>console.error(t))},5619:(bt,Ce,k)=>{k.d(Ce,{X:()=>ee});var C=k(8645);class ee extends C.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const ie=super._subscribe(se);return!ie.closed&&se.next(this._value),ie}getValue(){const{hasError:se,thrownError:ie,_value:ae}=this;if(se)throw ie;return this._throwIfClosed(),ae}next(se){super.next(this._value=se)}}},5592:(bt,Ce,k)=>{k.d(Ce,{y:()=>Ie});var C=k(305),ee=k(7394),H=k(4850),se=k(8407),ie=k(2653),ae=k(4674),de=k(1441);let Ie=(()=>{class J{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const it=new J;return it.source=this,it.operator=ve,it}subscribe(ve,it,Ge){const dt=function X(J){return J&&J instanceof C.Lv||function Y(J){return J&&(0,ae.m)(J.next)&&(0,ae.m)(J.error)&&(0,ae.m)(J.complete)}(J)&&(0,ee.Nn)(J)}(ve)?ve:new C.Hp(ve,it,Ge);return(0,de.x)(()=>{const{operator:He,source:Ft}=this;dt.add(He?He.call(dt,Ft):Ft?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(ve){try{return this._subscribe(ve)}catch(it){ve.error(it)}}forEach(ve,it){return new(it=pe(it))((Ge,dt)=>{const He=new C.Hp({next:Ft=>{try{ve(Ft)}catch(Ot){dt(Ot),He.unsubscribe()}},error:dt,complete:Ge});this.subscribe(He)})}_subscribe(ve){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(ve)}[H.L](){return this}pipe(...ve){return(0,se.U)(ve)(this)}toPromise(ve){return new(ve=pe(ve))((it,Ge)=>{let dt;this.subscribe(He=>dt=He,He=>Ge(He),()=>it(dt))})}}return J.create=Ue=>new J(Ue),J})();function pe(J){var Ue;return null!==(Ue=J??ie.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(bt,Ce,k)=>{k.d(Ce,{x:()=>de});var C=k(5592),ee=k(7394);const se=(0,k(2306).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(9039),ae=k(1441);let de=(()=>{class pe extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const J=new Ie(this,this);return J.operator=X,J}_throwIfClosed(){if(this.closed)throw new se}next(X){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(X)}})}error(X){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:J}=this;for(;J.length;)J.shift().error(X)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:J,isStopped:Ue,observers:ve}=this;return J||Ue?ee.Lc:(this.currentObservers=null,ve.push(X),new ee.w0(()=>{this.currentObservers=null,(0,ie.P)(ve,X)}))}_checkFinalizedStatuses(X){const{hasError:J,thrownError:Ue,isStopped:ve}=this;J?X.error(Ue):ve&&X.complete()}asObservable(){const X=new C.y;return X.source=this,X}}return pe.create=(Y,X)=>new Ie(Y,X),pe})();class Ie extends de{constructor(Y,X){super(),this.destination=Y,this.source=X}next(Y){var X,J;null===(J=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===J||J.call(X,Y)}error(Y){var X,J;null===(J=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===J||J.call(X,Y)}complete(){var Y,X;null===(X=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===X||X.call(Y)}_subscribe(Y){var X,J;return null!==(J=null===(X=this.source)||void 0===X?void 0:X.subscribe(Y))&&void 0!==J?J:ee.Lc}}},305:(bt,Ce,k)=>{k.d(Ce,{Hp:()=>Ge,Lv:()=>J});var C=k(4674),ee=k(7394),H=k(2653),se=k(3894),ie=k(2420);const ae=pe("C",void 0,void 0);function pe(be,Ve,ye){return{kind:be,value:Ve,error:ye}}var Y=k(7599),X=k(1441);class J extends ee.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,ee.Nn)(Ve)&&Ve.add(this)):this.destination=Ot}static create(Ve,ye,Re){return new Ge(Ve,ye,Re)}next(Ve){this.isStopped?Ft(function Ie(be){return pe("N",be,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Ft(function de(be){return pe("E",void 0,be)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Ft(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ve(be,Ve){return Ue.call(be,Ve)}class it{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Ve)}catch(Re){dt(Re)}}error(Ve){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Ve)}catch(Re){dt(Re)}else dt(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(ye){dt(ye)}}}class Ge extends J{constructor(Ve,ye,Re){let ze;if(super(),(0,C.m)(Ve)||!Ve)ze={next:Ve??void 0,error:ye??void 0,complete:Re??void 0};else{let we;this&&H.config.useDeprecatedNextContext?(we=Object.create(Ve),we.unsubscribe=()=>this.unsubscribe(),ze={next:Ve.next&&ve(Ve.next,we),error:Ve.error&&ve(Ve.error,we),complete:Ve.complete&&ve(Ve.complete,we)}):ze=Ve}this.destination=new it(ze)}}function dt(be){H.config.useDeprecatedSynchronousErrorHandling?(0,X.O)(be):(0,se.h)(be)}function Ft(be,Ve){const{onStoppedNotification:ye}=H.config;ye&&Y.z.setTimeout(()=>ye(be,Ve))}const Ot={closed:!0,next:ie.Z,error:function He(be){throw be},complete:ie.Z}},7394:(bt,Ce,k)=>{k.d(Ce,{Lc:()=>ae,w0:()=>ie,Nn:()=>de});var C=k(4674);const H=(0,k(2306).d)(pe=>function(X){pe(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((J,Ue)=>`${Ue+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var se=k(9039);class ie{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const ve of X)ve.remove(this);else X.remove(this);const{initialTeardown:J}=this;if((0,C.m)(J))try{J()}catch(ve){Y=ve instanceof H?ve.errors:[ve]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ve of Ue)try{Ie(ve)}catch(it){Y=Y??[],it instanceof H?Y=[...Y,...it.errors]:Y.push(it)}}if(Y)throw new H(Y)}}add(Y){var X;if(Y&&Y!==this)if(this.closed)Ie(Y);else{if(Y instanceof ie){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(Y)}}_hasParent(Y){const{_parentage:X}=this;return X===Y||Array.isArray(X)&&X.includes(Y)}_addParent(Y){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(Y),X):X?[X,Y]:Y}_removeParent(Y){const{_parentage:X}=this;X===Y?this._parentage=null:Array.isArray(X)&&(0,se.P)(X,Y)}remove(Y){const{_finalizers:X}=this;X&&(0,se.P)(X,Y),Y instanceof ie&&Y._removeParent(this)}}ie.EMPTY=(()=>{const pe=new ie;return pe.closed=!0,pe})();const ae=ie.EMPTY;function de(pe){return pe instanceof ie||pe&&"closed"in pe&&(0,C.m)(pe.remove)&&(0,C.m)(pe.add)&&(0,C.m)(pe.unsubscribe)}function Ie(pe){(0,C.m)(pe)?pe():pe.unsubscribe()}},2653:(bt,Ce,k)=>{k.d(Ce,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(bt,Ce,k)=>{k.d(Ce,{z:()=>ie});var C=k(7537),H=k(9940),se=k(2459);function ie(...ae){return function ee(){return(0,C.J)(1)}()((0,se.D)(ae,(0,H.yG)(ae)))}},6232:(bt,Ce,k)=>{k.d(Ce,{E:()=>ee});const ee=new(k(5592).y)(ie=>ie.complete())},2459:(bt,Ce,k)=>{k.d(Ce,{D:()=>Ve});var C=k(4829),ee=k(3093),H=k(5137),ae=k(5592),Ie=k(4971),pe=k(4674),Y=k(7103);function J(ye,Re){if(!ye)throw new Error("Iterable cannot be null");return new ae.y(ze=>{(0,Y.f)(ze,Re,()=>{const we=ye[Symbol.asyncIterator]();(0,Y.f)(ze,Re,()=>{we.next().then(qe=>{qe.done?ze.complete():ze.next(qe.value)})},0,!0)})})}var Ue=k(8382),ve=k(4026),it=k(4266),Ge=k(3664),dt=k(5726),He=k(9853),Ft=k(541);function Ve(ye,Re){return Re?function be(ye,Re){if(null!=ye){if((0,Ue.c)(ye))return function se(ye,Re){return(0,C.Xf)(ye).pipe((0,H.R)(Re),(0,ee.Q)(Re))}(ye,Re);if((0,it.z)(ye))return function de(ye,Re){return new ae.y(ze=>{let we=0;return Re.schedule(function(){we===ye.length?ze.complete():(ze.next(ye[we++]),ze.closed||this.schedule())})})}(ye,Re);if((0,ve.t)(ye))return function ie(ye,Re){return(0,C.Xf)(ye).pipe((0,H.R)(Re),(0,ee.Q)(Re))}(ye,Re);if((0,dt.D)(ye))return J(ye,Re);if((0,Ge.T)(ye))return function X(ye,Re){return new ae.y(ze=>{let we;return(0,Y.f)(ze,Re,()=>{we=ye[Ie.h](),(0,Y.f)(ze,Re,()=>{let qe,pt;try{({value:qe,done:pt}=we.next())}catch(Vt){return void ze.error(Vt)}pt?ze.complete():ze.next(qe)},0,!0)}),()=>(0,pe.m)(we?.return)&&we.return()})}(ye,Re);if((0,Ft.L)(ye))return function Ot(ye,Re){return J((0,Ft.Q)(ye),Re)}(ye,Re)}throw(0,He.z)(ye)}(ye,Re):(0,C.Xf)(ye)}},4829:(bt,Ce,k)=>{k.d(Ce,{Xf:()=>Ue});var C=k(7582),ee=k(4266),H=k(4026),se=k(5592),ie=k(8382),ae=k(5726),de=k(9853),Ie=k(3664),pe=k(541),Y=k(4674),X=k(3894),J=k(4850);function Ue(be){if(be instanceof se.y)return be;if(null!=be){if((0,ie.c)(be))return function ve(be){return new se.y(Ve=>{const ye=be[J.L]();if((0,Y.m)(ye.subscribe))return ye.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,ee.z)(be))return function it(be){return new se.y(Ve=>{for(let ye=0;ye<be.length&&!Ve.closed;ye++)Ve.next(be[ye]);Ve.complete()})}(be);if((0,H.t)(be))return function Ge(be){return new se.y(Ve=>{be.then(ye=>{Ve.closed||(Ve.next(ye),Ve.complete())},ye=>Ve.error(ye)).then(null,X.h)})}(be);if((0,ae.D)(be))return He(be);if((0,Ie.T)(be))return function dt(be){return new se.y(Ve=>{for(const ye of be)if(Ve.next(ye),Ve.closed)return;Ve.complete()})}(be);if((0,pe.L)(be))return function Ft(be){return He((0,pe.Q)(be))}(be)}throw(0,de.z)(be)}function He(be){return new se.y(Ve=>{(function Ot(be,Ve){var ye,Re,ze,we;return(0,C.mG)(this,void 0,void 0,function*(){try{for(ye=(0,C.KL)(be);!(Re=yield ye.next()).done;)if(Ve.next(Re.value),Ve.closed)return}catch(qe){ze={error:qe}}finally{try{Re&&!Re.done&&(we=ye.return)&&(yield we.call(ye))}finally{if(ze)throw ze.error}}Ve.complete()})})(be,Ve).catch(ye=>Ve.error(ye))})}},3019:(bt,Ce,k)=>{k.d(Ce,{T:()=>ae});var C=k(7537),ee=k(4829),H=k(6232),se=k(9940),ie=k(2459);function ae(...de){const Ie=(0,se.yG)(de),pe=(0,se._6)(de,1/0),Y=de;return Y.length?1===Y.length?(0,ee.Xf)(Y[0]):(0,C.J)(pe)((0,ie.D)(Y,Ie)):H.E}},2096:(bt,Ce,k)=>{k.d(Ce,{of:()=>H});var C=k(9940),ee=k(2459);function H(...se){const ie=(0,C.yG)(se);return(0,ee.D)(se,ie)}},8251:(bt,Ce,k)=>{k.d(Ce,{x:()=>ee});var C=k(305);function ee(se,ie,ae,de,Ie){return new H(se,ie,ae,de,Ie)}class H extends C.Lv{constructor(ie,ae,de,Ie,pe,Y){super(ie),this.onFinalize=pe,this.shouldUnsubscribe=Y,this._next=ae?function(X){try{ae(X)}catch(J){ie.error(J)}}:super._next,this._error=Ie?function(X){try{Ie(X)}catch(J){ie.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(X){ie.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3572:(bt,Ce,k)=>{k.d(Ce,{d:()=>H});var C=k(9360),ee=k(8251);function H(se){return(0,C.e)((ie,ae)=>{let de=!1;ie.subscribe((0,ee.x)(ae,Ie=>{de=!0,ae.next(Ie)},()=>{de||ae.next(se),ae.complete()}))})}},3997:(bt,Ce,k)=>{k.d(Ce,{x:()=>se});var C=k(2737),ee=k(9360),H=k(8251);function se(ae,de=C.y){return ae=ae??ie,(0,ee.e)((Ie,pe)=>{let Y,X=!0;Ie.subscribe((0,H.x)(pe,J=>{const Ue=de(J);(X||!ae(Y,Ue))&&(X=!1,Y=Ue,pe.next(J))}))})}function ie(ae,de){return ae===de}},2181:(bt,Ce,k)=>{k.d(Ce,{h:()=>H});var C=k(9360),ee=k(8251);function H(se,ie){return(0,C.e)((ae,de)=>{let Ie=0;ae.subscribe((0,ee.x)(de,pe=>se.call(ie,pe,Ie++)&&de.next(pe)))})}},1374:(bt,Ce,k)=>{k.d(Ce,{P:()=>de});var C=k(6973),ee=k(2181),H=k(8180),se=k(3572),ie=k(3026),ae=k(2737);function de(Ie,pe){const Y=arguments.length>=2;return X=>X.pipe(Ie?(0,ee.h)((J,Ue)=>Ie(J,Ue,X)):ae.y,(0,H.q)(1),Y?(0,se.d)(pe):(0,ie.T)(()=>new C.K))}},7398:(bt,Ce,k)=>{k.d(Ce,{U:()=>H});var C=k(9360),ee=k(8251);function H(se,ie){return(0,C.e)((ae,de)=>{let Ie=0;ae.subscribe((0,ee.x)(de,pe=>{de.next(se.call(ie,pe,Ie++))}))})}},975:(bt,Ce,k)=>{k.d(Ce,{h:()=>ee});var C=k(7398);function ee(H){return(0,C.U)(()=>H)}},7537:(bt,Ce,k)=>{k.d(Ce,{J:()=>H});var C=k(1631),ee=k(2737);function H(se=1/0){return(0,C.z)(ee.y,se)}},1631:(bt,Ce,k)=>{k.d(Ce,{z:()=>Ie});var C=k(7398),ee=k(4829),H=k(9360),se=k(7103),ie=k(8251),de=k(4674);function Ie(pe,Y,X=1/0){return(0,de.m)(Y)?Ie((J,Ue)=>(0,C.U)((ve,it)=>Y(J,ve,Ue,it))((0,ee.Xf)(pe(J,Ue))),X):("number"==typeof Y&&(X=Y),(0,H.e)((J,Ue)=>function ae(pe,Y,X,J,Ue,ve,it,Ge){const dt=[];let He=0,Ft=0,Ot=!1;const be=()=>{Ot&&!dt.length&&!He&&Y.complete()},Ve=Re=>He<J?ye(Re):dt.push(Re),ye=Re=>{ve&&Y.next(Re),He++;let ze=!1;(0,ee.Xf)(X(Re,Ft++)).subscribe((0,ie.x)(Y,we=>{Ue?.(we),ve?Ve(we):Y.next(we)},()=>{ze=!0},void 0,()=>{if(ze)try{for(He--;dt.length&&He<J;){const we=dt.shift();it?(0,se.f)(Y,it,()=>ye(we)):ye(we)}be()}catch(we){Y.error(we)}}))};return pe.subscribe((0,ie.x)(Y,Ve,()=>{Ot=!0,be()})),()=>{Ge?.()}}(J,Ue,pe,X)))}},3093:(bt,Ce,k)=>{k.d(Ce,{Q:()=>se});var C=k(7103),ee=k(9360),H=k(8251);function se(ie,ae=0){return(0,ee.e)((de,Ie)=>{de.subscribe((0,H.x)(Ie,pe=>(0,C.f)(Ie,ie,()=>Ie.next(pe),ae),()=>(0,C.f)(Ie,ie,()=>Ie.complete(),ae),pe=>(0,C.f)(Ie,ie,()=>Ie.error(pe),ae)))})}},3020:(bt,Ce,k)=>{k.d(Ce,{B:()=>ie});var C=k(4829),ee=k(8645),H=k(305),se=k(9360);function ie(de={}){const{connector:Ie=(()=>new ee.x),resetOnError:pe=!0,resetOnComplete:Y=!0,resetOnRefCountZero:X=!0}=de;return J=>{let Ue,ve,it,Ge=0,dt=!1,He=!1;const Ft=()=>{ve?.unsubscribe(),ve=void 0},Ot=()=>{Ft(),Ue=it=void 0,dt=He=!1},be=()=>{const Ve=Ue;Ot(),Ve?.unsubscribe()};return(0,se.e)((Ve,ye)=>{Ge++,!He&&!dt&&Ft();const Re=it=it??Ie();ye.add(()=>{Ge--,0===Ge&&!He&&!dt&&(ve=ae(be,X))}),Re.subscribe(ye),!Ue&&Ge>0&&(Ue=new H.Hp({next:ze=>Re.next(ze),error:ze=>{He=!0,Ft(),ve=ae(Ot,pe,ze),Re.error(ze)},complete:()=>{dt=!0,Ft(),ve=ae(Ot,Y),Re.complete()}}),(0,C.Xf)(Ve).subscribe(Ue))})(J)}}function ae(de,Ie,...pe){if(!0===Ie)return void de();if(!1===Ie)return;const Y=new H.Hp({next:()=>{Y.unsubscribe(),de()}});return(0,C.Xf)(Ie(...pe)).subscribe(Y)}},7921:(bt,Ce,k)=>{k.d(Ce,{O:()=>se});var C=k(5211),ee=k(9940),H=k(9360);function se(...ie){const ae=(0,ee.yG)(ie);return(0,H.e)((de,Ie)=>{(ae?(0,C.z)(ie,de,ae):(0,C.z)(ie,de)).subscribe(Ie)})}},5137:(bt,Ce,k)=>{k.d(Ce,{R:()=>ee});var C=k(9360);function ee(H,se=0){return(0,C.e)((ie,ae)=>{ae.add(H.schedule(()=>ie.subscribe(ae),se))})}},4664:(bt,Ce,k)=>{k.d(Ce,{w:()=>se});var C=k(4829),ee=k(9360),H=k(8251);function se(ie,ae){return(0,ee.e)((de,Ie)=>{let pe=null,Y=0,X=!1;const J=()=>X&&!pe&&Ie.complete();de.subscribe((0,H.x)(Ie,Ue=>{pe?.unsubscribe();let ve=0;const it=Y++;(0,C.Xf)(ie(Ue,it)).subscribe(pe=(0,H.x)(Ie,Ge=>Ie.next(ae?ae(Ue,Ge,it,ve++):Ge),()=>{pe=null,J()}))},()=>{X=!0,J()}))})}},8180:(bt,Ce,k)=>{k.d(Ce,{q:()=>se});var C=k(6232),ee=k(9360),H=k(8251);function se(ie){return ie<=0?()=>C.E:(0,ee.e)((ae,de)=>{let Ie=0;ae.subscribe((0,H.x)(de,pe=>{++Ie<=ie&&(de.next(pe),ie<=Ie&&de.complete())}))})}},9773:(bt,Ce,k)=>{k.d(Ce,{R:()=>ie});var C=k(9360),ee=k(8251),H=k(4829),se=k(2420);function ie(ae){return(0,C.e)((de,Ie)=>{(0,H.Xf)(ae).subscribe((0,ee.x)(Ie,()=>Ie.complete(),se.Z)),!Ie.closed&&de.subscribe(Ie)})}},9397:(bt,Ce,k)=>{k.d(Ce,{b:()=>ie});var C=k(4674),ee=k(9360),H=k(8251),se=k(2737);function ie(ae,de,Ie){const pe=(0,C.m)(ae)||de||Ie?{next:ae,error:de,complete:Ie}:ae;return pe?(0,ee.e)((Y,X)=>{var J;null===(J=pe.subscribe)||void 0===J||J.call(pe);let Ue=!0;Y.subscribe((0,H.x)(X,ve=>{var it;null===(it=pe.next)||void 0===it||it.call(pe,ve),X.next(ve)},()=>{var ve;Ue=!1,null===(ve=pe.complete)||void 0===ve||ve.call(pe),X.complete()},ve=>{var it;Ue=!1,null===(it=pe.error)||void 0===it||it.call(pe,ve),X.error(ve)},()=>{var ve,it;Ue&&(null===(ve=pe.unsubscribe)||void 0===ve||ve.call(pe)),null===(it=pe.finalize)||void 0===it||it.call(pe)}))}):se.y}},3026:(bt,Ce,k)=>{k.d(Ce,{T:()=>se});var C=k(6973),ee=k(9360),H=k(8251);function se(ae=ie){return(0,ee.e)((de,Ie)=>{let pe=!1;de.subscribe((0,H.x)(Ie,Y=>{pe=!0,Ie.next(Y)},()=>pe?Ie.complete():Ie.error(ae())))})}function ie(){return new C.K}},1954:(bt,Ce,k)=>{k.d(Ce,{o:()=>ie});var C=k(7394);class ee extends C.w0{constructor(de,Ie){super()}schedule(de,Ie=0){return this}}const H={setInterval(ae,de,...Ie){const{delegate:pe}=H;return pe?.setInterval?pe.setInterval(ae,de,...Ie):setInterval(ae,de,...Ie)},clearInterval(ae){const{delegate:de}=H;return(de?.clearInterval||clearInterval)(ae)},delegate:void 0};var se=k(9039);class ie extends ee{constructor(de,Ie){super(de,Ie),this.scheduler=de,this.work=Ie,this.pending=!1}schedule(de,Ie=0){var pe;if(this.closed)return this;this.state=de;const Y=this.id,X=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(X,Y,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(X,this.id,Ie),this}requestAsyncId(de,Ie,pe=0){return H.setInterval(de.flush.bind(de,this),pe)}recycleAsyncId(de,Ie,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return Ie;null!=Ie&&H.clearInterval(Ie)}execute(de,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(de,Ie);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Ie){let Y,pe=!1;try{this.work(de)}catch(X){pe=!0,Y=X||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:de,scheduler:Ie}=this,{actions:pe}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=de&&(this.id=this.recycleAsyncId(Ie,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(bt,Ce,k)=>{k.d(Ce,{v:()=>H});var C=k(4552);class ee{constructor(ie,ae=ee.now){this.schedulerActionCtor=ie,this.now=ae}schedule(ie,ae=0,de){return new this.schedulerActionCtor(this,ie).schedule(de,ae)}}ee.now=C.l.now;class H extends ee{constructor(ie,ae=ee.now){super(ie,ae),this.actions=[],this._active=!1}flush(ie){const{actions:ae}=this;if(this._active)return void ae.push(ie);let de;this._active=!0;do{if(de=ie.execute(ie.state,ie.delay))break}while(ie=ae.shift());if(this._active=!1,de){for(;ie=ae.shift();)ie.unsubscribe();throw de}}}},6321:(bt,Ce,k)=>{k.d(Ce,{P:()=>se,z:()=>H});var C=k(1954);const H=new(k(2631).v)(C.o),se=H},4552:(bt,Ce,k)=>{k.d(Ce,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},7599:(bt,Ce,k)=>{k.d(Ce,{z:()=>C});const C={setTimeout(ee,H,...se){const{delegate:ie}=C;return ie?.setTimeout?ie.setTimeout(ee,H,...se):setTimeout(ee,H,...se)},clearTimeout(ee){const{delegate:H}=C;return(H?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},4971:(bt,Ce,k)=>{k.d(Ce,{h:()=>ee});const ee=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bt,Ce,k)=>{k.d(Ce,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(bt,Ce,k)=>{k.d(Ce,{K:()=>ee});const ee=(0,k(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(bt,Ce,k)=>{k.d(Ce,{_6:()=>ae,jO:()=>se,yG:()=>ie});var C=k(4674),ee=k(671);function H(de){return de[de.length-1]}function se(de){return(0,C.m)(H(de))?de.pop():void 0}function ie(de){return(0,ee.K)(H(de))?de.pop():void 0}function ae(de,Ie){return"number"==typeof H(de)?de.pop():Ie}},7453:(bt,Ce,k)=>{k.d(Ce,{D:()=>ie});const{isArray:C}=Array,{getPrototypeOf:ee,prototype:H,keys:se}=Object;function ie(de){if(1===de.length){const Ie=de[0];if(C(Ie))return{args:Ie,keys:null};if(function ae(de){return de&&"object"==typeof de&&ee(de)===H}(Ie)){const pe=se(Ie);return{args:pe.map(Y=>Ie[Y]),keys:pe}}}return{args:de,keys:null}}},9039:(bt,Ce,k)=>{function C(ee,H){if(ee){const se=ee.indexOf(H);0<=se&&ee.splice(se,1)}}k.d(Ce,{P:()=>C})},2306:(bt,Ce,k)=>{function C(ee){const se=ee(ie=>{Error.call(ie),ie.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ce,{d:()=>C})},2714:(bt,Ce,k)=>{function C(ee,H){return ee.reduce((se,ie,ae)=>(se[ie]=H[ae],se),{})}k.d(Ce,{n:()=>C})},1441:(bt,Ce,k)=>{k.d(Ce,{O:()=>se,x:()=>H});var C=k(2653);let ee=null;function H(ie){if(C.config.useDeprecatedSynchronousErrorHandling){const ae=!ee;if(ae&&(ee={errorThrown:!1,error:null}),ie(),ae){const{errorThrown:de,error:Ie}=ee;if(ee=null,de)throw Ie}}else ie()}function se(ie){C.config.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ie)}},7103:(bt,Ce,k)=>{function C(ee,H,se,ie=0,ae=!1){const de=H.schedule(function(){se(),ae?ee.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(ee.add(de),!ae)return de}k.d(Ce,{f:()=>C})},2737:(bt,Ce,k)=>{function C(ee){return ee}k.d(Ce,{y:()=>C})},4266:(bt,Ce,k)=>{k.d(Ce,{z:()=>C});const C=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},5726:(bt,Ce,k)=>{k.d(Ce,{D:()=>ee});var C=k(4674);function ee(H){return Symbol.asyncIterator&&(0,C.m)(H?.[Symbol.asyncIterator])}},4674:(bt,Ce,k)=>{function C(ee){return"function"==typeof ee}k.d(Ce,{m:()=>C})},8382:(bt,Ce,k)=>{k.d(Ce,{c:()=>H});var C=k(4850),ee=k(4674);function H(se){return(0,ee.m)(se[C.L])}},3664:(bt,Ce,k)=>{k.d(Ce,{T:()=>H});var C=k(4971),ee=k(4674);function H(se){return(0,ee.m)(se?.[C.h])}},4026:(bt,Ce,k)=>{k.d(Ce,{t:()=>ee});var C=k(4674);function ee(H){return(0,C.m)(H?.then)}},541:(bt,Ce,k)=>{k.d(Ce,{L:()=>se,Q:()=>H});var C=k(7582),ee=k(4674);function H(ie){return(0,C.FC)(this,arguments,function*(){const de=ie.getReader();try{for(;;){const{value:Ie,done:pe}=yield(0,C.qq)(de.read());if(pe)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(Ie)}}finally{de.releaseLock()}})}function se(ie){return(0,ee.m)(ie?.getReader)}},671:(bt,Ce,k)=>{k.d(Ce,{K:()=>ee});var C=k(4674);function ee(H){return H&&(0,C.m)(H.schedule)}},9360:(bt,Ce,k)=>{k.d(Ce,{A:()=>ee,e:()=>H});var C=k(4674);function ee(se){return(0,C.m)(se?.lift)}function H(se){return ie=>{if(ee(ie))return ie.lift(function(ae){try{return se(ae,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bt,Ce,k)=>{k.d(Ce,{Z:()=>se});var C=k(7398);const{isArray:ee}=Array;function se(ie){return(0,C.U)(ae=>function H(ie,ae){return ee(ae)?ie(...ae):ie(ae)}(ie,ae))}},2420:(bt,Ce,k)=>{function C(){}k.d(Ce,{Z:()=>C})},8407:(bt,Ce,k)=>{k.d(Ce,{U:()=>H,z:()=>ee});var C=k(2737);function ee(...se){return H(se)}function H(se){return 0===se.length?C.y:1===se.length?se[0]:function(ae){return se.reduce((de,Ie)=>Ie(de),ae)}}},3894:(bt,Ce,k)=>{k.d(Ce,{h:()=>H});var C=k(2653),ee=k(7599);function H(se){ee.z.setTimeout(()=>{const{onUnhandledError:ie}=C.config;if(!ie)throw se;ie(se)})}},9853:(bt,Ce,k)=>{function C(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ce,{z:()=>C})},6814:(bt,Ce,k)=>{k.d(Ce,{Do:()=>Ge,EM:()=>ri,HT:()=>se,JF:()=>zi,K0:()=>ae,Mn:()=>nn,Mx:()=>ti,O5:()=>Ha,PM:()=>pi,RF:()=>ji,S$:()=>Ue,Tn:()=>we,UT:()=>xn,V_:()=>Ie,Ye:()=>dt,ax:()=>jo,b0:()=>it,bD:()=>Gi,ez:()=>ur,n9:()=>ns,p6:()=>on,q:()=>H,sg:()=>jo,tP:()=>_o,w_:()=>ie,x:()=>ze});var C=k(5879);let ee=null;function H(){return ee}function se(v){ee||(ee=v)}class ie{}const ae=new C.OlP("DocumentToken");let de=(()=>{var v;class O{historyGo(M){throw new Error("Not implemented")}}return(v=O).\u0275fac=function(M){return new(M||v)},v.\u0275prov=C.Yz7({token:v,factory:function(){return(0,C.f3M)(pe)},providedIn:"platform"}),O})();const Ie=new C.OlP("Location Initialized");let pe=(()=>{var v;class O extends de{constructor(){super(),this._doc=(0,C.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(M){const G=H().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",M,!1),()=>G.removeEventListener("popstate",M)}onHashChange(M){const G=H().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",M,!1),()=>G.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,G,re){this._history.pushState(M,G,re)}replaceState(M,G,re){this._history.replaceState(M,G,re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return(v=O).\u0275fac=function(M){return new(M||v)},v.\u0275prov=C.Yz7({token:v,factory:function(){return new v},providedIn:"platform"}),O})();function Y(v,O){if(0==v.length)return O;if(0==O.length)return v;let W=0;return v.endsWith("/")&&W++,O.startsWith("/")&&W++,2==W?v+O.substring(1):1==W?v+O:v+"/"+O}function X(v){const O=v.match(/#|\?|$/),W=O&&O.index||v.length;return v.slice(0,W-("/"===v[W-1]?1:0))+v.slice(W)}function J(v){return v&&"?"!==v[0]?"?"+v:v}let Ue=(()=>{var v;class O{historyGo(M){throw new Error("Not implemented")}}return(v=O).\u0275fac=function(M){return new(M||v)},v.\u0275prov=C.Yz7({token:v,factory:function(){return(0,C.f3M)(it)},providedIn:"root"}),O})();const ve=new C.OlP("appBaseHref");let it=(()=>{var v;class O extends Ue{constructor(M,G){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Y(this._baseHref,M)}path(M=!1){const G=this._platformLocation.pathname+J(this._platformLocation.search),re=this._platformLocation.hash;return re&&M?`${G}${re}`:G}pushState(M,G,re,Be){const ut=this.prepareExternalUrl(re+J(Be));this._platformLocation.pushState(M,G,ut)}replaceState(M,G,re,Be){const ut=this.prepareExternalUrl(re+J(Be));this._platformLocation.replaceState(M,G,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return(v=O).\u0275fac=function(M){return new(M||v)(C.LFG(de),C.LFG(ve,8))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),O})(),Ge=(()=>{var v;class O extends Ue{constructor(M,G){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(M){const G=Y(this._baseHref,M);return G.length>0?"#"+G:G}pushState(M,G,re,Be){let ut=this.prepareExternalUrl(re+J(Be));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(M,G,ut)}replaceState(M,G,re,Be){let ut=this.prepareExternalUrl(re+J(Be));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(M,G,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return(v=O).\u0275fac=function(M){return new(M||v)(C.LFG(de),C.LFG(ve,8))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac}),O})(),dt=(()=>{var v;class O{constructor(M){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const G=this._locationStrategy.getBaseHref();this._basePath=function be(v){if(new RegExp("^(https?:)?//").test(v)){const[,W]=v.split(/\/\/[^\/]+/);return W}return v}(X(Ot(G))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,G=""){return this.path()==this.normalize(M+J(G))}normalize(M){return O.stripTrailingSlash(function Ft(v,O){if(!v||!O.startsWith(v))return O;const W=O.substring(v.length);return""===W||["/",";","?","#"].includes(W[0])?W:O}(this._basePath,Ot(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,G="",re=null){this._locationStrategy.pushState(re,"",M,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+J(G)),re)}replaceState(M,G="",re=null){this._locationStrategy.replaceState(re,"",M,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+J(G)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",G){this._urlChangeListeners.forEach(re=>re(M,G))}subscribe(M,G,re){return this._subject.subscribe({next:M,error:G,complete:re})}}return(v=O).normalizeQueryParams=J,v.joinWithSlash=Y,v.stripTrailingSlash=X,v.\u0275fac=function(M){return new(M||v)(C.LFG(Ue))},v.\u0275prov=C.Yz7({token:v,factory:function(){return function He(){return new dt((0,C.LFG)(Ue))}()},providedIn:"root"}),O})();function Ot(v){return v.replace(/\/index.html$/,"")}var ze=function(v){return v[v.Format=0]="Format",v[v.Standalone=1]="Standalone",v}(ze||{}),we=function(v){return v[v.Narrow=0]="Narrow",v[v.Abbreviated=1]="Abbreviated",v[v.Wide=2]="Wide",v[v.Short=3]="Short",v}(we||{}),qe=function(v){return v[v.Short=0]="Short",v[v.Medium=1]="Medium",v[v.Long=2]="Long",v[v.Full=3]="Full",v}(qe||{}),pt=function(v){return v[v.Decimal=0]="Decimal",v[v.Group=1]="Group",v[v.List=2]="List",v[v.PercentSign=3]="PercentSign",v[v.PlusSign=4]="PlusSign",v[v.MinusSign=5]="MinusSign",v[v.Exponential=6]="Exponential",v[v.SuperscriptingExponent=7]="SuperscriptingExponent",v[v.PerMille=8]="PerMille",v[v.Infinity=9]="Infinity",v[v.NaN=10]="NaN",v[v.TimeSeparator=11]="TimeSeparator",v[v.CurrencyDecimal=12]="CurrencyDecimal",v[v.CurrencyGroup=13]="CurrencyGroup",v}(pt||{});function nn(v,O,W){const M=(0,C.cg1)(v),re=ue([M[C.wAp.DaysFormat],M[C.wAp.DaysStandalone]],O);return ue(re,W)}function xn(v,O,W){const M=(0,C.cg1)(v),re=ue([M[C.wAp.MonthsFormat],M[C.wAp.MonthsStandalone]],O);return ue(re,W)}function Te(v,O){return ue((0,C.cg1)(v)[C.wAp.DateFormat],O)}function Ne(v,O){return ue((0,C.cg1)(v)[C.wAp.TimeFormat],O)}function Ae(v,O){return ue((0,C.cg1)(v)[C.wAp.DateTimeFormat],O)}function Ye(v,O){const W=(0,C.cg1)(v),M=W[C.wAp.NumberSymbols][O];if(typeof M>"u"){if(O===pt.CurrencyDecimal)return W[C.wAp.NumberSymbols][pt.Decimal];if(O===pt.CurrencyGroup)return W[C.wAp.NumberSymbols][pt.Group]}return M}function Qt(v){if(!v[C.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${v[C.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ue(v,O){for(let W=O;W>-1;W--)if(typeof v[W]<"u")return v[W];throw new Error("Locale data API: locale data undefined")}function ne(v){const[O,W]=v.split(":");return{hours:+O,minutes:+W}}const Et=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fn={},Kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=function(v){return v[v.Short=0]="Short",v[v.ShortGMT=1]="ShortGMT",v[v.Long=2]="Long",v[v.Extended=3]="Extended",v}(yt||{}),xt=function(v){return v[v.FullYear=0]="FullYear",v[v.Month=1]="Month",v[v.Date=2]="Date",v[v.Hours=3]="Hours",v[v.Minutes=4]="Minutes",v[v.Seconds=5]="Seconds",v[v.FractionalSeconds=6]="FractionalSeconds",v[v.Day=7]="Day",v}(xt||{}),$t=function(v){return v[v.DayPeriods=0]="DayPeriods",v[v.Days=1]="Days",v[v.Months=2]="Months",v[v.Eras=3]="Eras",v}($t||{});function on(v,O,W,M){let G=function B(v){if(Q(v))return v;if("number"==typeof v&&!isNaN(v))return new Date(v);if("string"==typeof v){if(v=v.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(v)){const[G,re=1,Be=1]=v.split("-").map(ut=>+ut);return Xn(G,re-1,Be)}const W=parseFloat(v);if(!isNaN(v-W))return new Date(W);let M;if(M=v.match(Et))return function V(v){const O=new Date(0);let W=0,M=0;const G=v[8]?O.setUTCFullYear:O.setFullYear,re=v[8]?O.setUTCHours:O.setHours;v[9]&&(W=Number(v[9]+v[10]),M=Number(v[9]+v[11])),G.call(O,Number(v[1]),Number(v[2])-1,Number(v[3]));const Be=Number(v[4]||0)-W,ut=Number(v[5]||0)-M,mn=Number(v[6]||0),An=Math.floor(1e3*parseFloat("0."+(v[7]||0)));return re.call(O,Be,ut,mn,An),O}(M)}const O=new Date(v);if(!Q(O))throw new Error(`Unable to convert "${v}" into a date`);return O}(v);O=er(W,O)||O;let ut,Be=[];for(;O;){if(ut=Kt.exec(O),!ut){Be.push(O);break}{Be=Be.concat(ut.slice(1));const En=Be.pop();if(!En)break;O=En}}let mn=G.getTimezoneOffset();M&&(mn=Mt(M,mn),G=function te(v,O,W){const M=W?-1:1,G=v.getTimezoneOffset();return function jn(v,O){return(v=new Date(v.getTime())).setMinutes(v.getMinutes()+O),v}(v,M*(Mt(O,G)-G))}(G,M,!0));let An="";return Be.forEach(En=>{const vn=function mt(v){if(Je[v])return Je[v];let O;switch(v){case"G":case"GG":case"GGG":O=yn($t.Eras,we.Abbreviated);break;case"GGGG":O=yn($t.Eras,we.Wide);break;case"GGGGG":O=yn($t.Eras,we.Narrow);break;case"y":O=_n(xt.FullYear,1,0,!1,!0);break;case"yy":O=_n(xt.FullYear,2,0,!0,!0);break;case"yyy":O=_n(xt.FullYear,3,0,!1,!0);break;case"yyyy":O=_n(xt.FullYear,4,0,!1,!0);break;case"Y":O=Se(1);break;case"YY":O=Se(2,!0);break;case"YYY":O=Se(3);break;case"YYYY":O=Se(4);break;case"M":case"L":O=_n(xt.Month,1,1);break;case"MM":case"LL":O=_n(xt.Month,2,1);break;case"MMM":O=yn($t.Months,we.Abbreviated);break;case"MMMM":O=yn($t.Months,we.Wide);break;case"MMMMM":O=yn($t.Months,we.Narrow);break;case"LLL":O=yn($t.Months,we.Abbreviated,ze.Standalone);break;case"LLLL":O=yn($t.Months,we.Wide,ze.Standalone);break;case"LLLLL":O=yn($t.Months,we.Narrow,ze.Standalone);break;case"w":O=oe(1);break;case"ww":O=oe(2);break;case"W":O=oe(1,!0);break;case"d":O=_n(xt.Date,1);break;case"dd":O=_n(xt.Date,2);break;case"c":case"cc":O=_n(xt.Day,1);break;case"ccc":O=yn($t.Days,we.Abbreviated,ze.Standalone);break;case"cccc":O=yn($t.Days,we.Wide,ze.Standalone);break;case"ccccc":O=yn($t.Days,we.Narrow,ze.Standalone);break;case"cccccc":O=yn($t.Days,we.Short,ze.Standalone);break;case"E":case"EE":case"EEE":O=yn($t.Days,we.Abbreviated);break;case"EEEE":O=yn($t.Days,we.Wide);break;case"EEEEE":O=yn($t.Days,we.Narrow);break;case"EEEEEE":O=yn($t.Days,we.Short);break;case"a":case"aa":case"aaa":O=yn($t.DayPeriods,we.Abbreviated);break;case"aaaa":O=yn($t.DayPeriods,we.Wide);break;case"aaaaa":O=yn($t.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":O=yn($t.DayPeriods,we.Abbreviated,ze.Standalone,!0);break;case"bbbb":O=yn($t.DayPeriods,we.Wide,ze.Standalone,!0);break;case"bbbbb":O=yn($t.DayPeriods,we.Narrow,ze.Standalone,!0);break;case"B":case"BB":case"BBB":O=yn($t.DayPeriods,we.Abbreviated,ze.Format,!0);break;case"BBBB":O=yn($t.DayPeriods,we.Wide,ze.Format,!0);break;case"BBBBB":O=yn($t.DayPeriods,we.Narrow,ze.Format,!0);break;case"h":O=_n(xt.Hours,1,-12);break;case"hh":O=_n(xt.Hours,2,-12);break;case"H":O=_n(xt.Hours,1);break;case"HH":O=_n(xt.Hours,2);break;case"m":O=_n(xt.Minutes,1);break;case"mm":O=_n(xt.Minutes,2);break;case"s":O=_n(xt.Seconds,1);break;case"ss":O=_n(xt.Seconds,2);break;case"S":O=_n(xt.FractionalSeconds,1);break;case"SS":O=_n(xt.FractionalSeconds,2);break;case"SSS":O=_n(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":O=pn(yt.Short);break;case"ZZZZZ":O=pn(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":O=pn(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":O=pn(yt.Long);break;default:return null}return Je[v]=O,O}(En);An+=vn?vn(G,W,mn):"''"===En?"'":En.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),An}function Xn(v,O,W){const M=new Date(0);return M.setFullYear(v,O,W),M.setHours(0,0,0),M}function er(v,O){const W=function Gt(v){return(0,C.cg1)(v)[C.wAp.LocaleId]}(v);if(fn[W]=fn[W]||{},fn[W][O])return fn[W][O];let M="";switch(O){case"shortDate":M=Te(v,qe.Short);break;case"mediumDate":M=Te(v,qe.Medium);break;case"longDate":M=Te(v,qe.Long);break;case"fullDate":M=Te(v,qe.Full);break;case"shortTime":M=Ne(v,qe.Short);break;case"mediumTime":M=Ne(v,qe.Medium);break;case"longTime":M=Ne(v,qe.Long);break;case"fullTime":M=Ne(v,qe.Full);break;case"short":const G=er(v,"shortTime"),re=er(v,"shortDate");M=rn(Ae(v,qe.Short),[G,re]);break;case"medium":const Be=er(v,"mediumTime"),ut=er(v,"mediumDate");M=rn(Ae(v,qe.Medium),[Be,ut]);break;case"long":const mn=er(v,"longTime"),An=er(v,"longDate");M=rn(Ae(v,qe.Long),[mn,An]);break;case"full":const En=er(v,"fullTime"),vn=er(v,"fullDate");M=rn(Ae(v,qe.Full),[En,vn])}return M&&(fn[W][O]=M),M}function rn(v,O){return O&&(v=v.replace(/\{([^}]+)}/g,function(W,M){return null!=O&&M in O?O[M]:W})),v}function kn(v,O,W="-",M,G){let re="";(v<0||G&&v<=0)&&(G?v=1-v:(v=-v,re=W));let Be=String(v);for(;Be.length<O;)Be="0"+Be;return M&&(Be=Be.slice(Be.length-O)),re+Be}function _n(v,O,W=0,M=!1,G=!1){return function(re,Be){let ut=function Di(v,O){switch(v){case xt.FullYear:return O.getFullYear();case xt.Month:return O.getMonth();case xt.Date:return O.getDate();case xt.Hours:return O.getHours();case xt.Minutes:return O.getMinutes();case xt.Seconds:return O.getSeconds();case xt.FractionalSeconds:return O.getMilliseconds();case xt.Day:return O.getDay();default:throw new Error(`Unknown DateType value "${v}".`)}}(v,re);if((W>0||ut>-W)&&(ut+=W),v===xt.Hours)0===ut&&-12===W&&(ut=12);else if(v===xt.FractionalSeconds)return function Bn(v,O){return kn(v,3).substring(0,O)}(ut,O);const mn=Ye(Be,pt.MinusSign);return kn(ut,O,mn,M,G)}}function yn(v,O,W=ze.Format,M=!1){return function(G,re){return function yr(v,O,W,M,G,re){switch(W){case $t.Months:return xn(O,G,M)[v.getMonth()];case $t.Days:return nn(O,G,M)[v.getDay()];case $t.DayPeriods:const Be=v.getHours(),ut=v.getMinutes();if(re){const An=function In(v){const O=(0,C.cg1)(v);return Qt(O),(O[C.wAp.ExtraData][2]||[]).map(M=>"string"==typeof M?ne(M):[ne(M[0]),ne(M[1])])}(O),En=function Kn(v,O,W){const M=(0,C.cg1)(v);Qt(M);const re=ue([M[C.wAp.ExtraData][0],M[C.wAp.ExtraData][1]],O)||[];return ue(re,W)||[]}(O,G,M),vn=An.findIndex(dr=>{if(Array.isArray(dr)){const[Sn,gr]=dr,Si=Be>=Sn.hours&&ut>=Sn.minutes,ds=Be<gr.hours||Be===gr.hours&&ut<gr.minutes;if(Sn.hours<gr.hours){if(Si&&ds)return!0}else if(Si||ds)return!0}else if(dr.hours===Be&&dr.minutes===ut)return!0;return!1});if(-1!==vn)return En[vn]}return function qt(v,O,W){const M=(0,C.cg1)(v),re=ue([M[C.wAp.DayPeriodsFormat],M[C.wAp.DayPeriodsStandalone]],O);return ue(re,W)}(O,G,M)[Be<12?0:1];case $t.Eras:return function On(v,O){return ue((0,C.cg1)(v)[C.wAp.Eras],O)}(O,M)[v.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(G,re,v,O,W,M)}}function pn(v){return function(O,W,M){const G=-1*M,re=Ye(W,pt.MinusSign),Be=G>0?Math.floor(G/60):Math.ceil(G/60);switch(v){case yt.Short:return(G>=0?"+":"")+kn(Be,2,re)+kn(Math.abs(G%60),2,re);case yt.ShortGMT:return"GMT"+(G>=0?"+":"")+kn(Be,1,re);case yt.Long:return"GMT"+(G>=0?"+":"")+kn(Be,2,re)+":"+kn(Math.abs(G%60),2,re);case yt.Extended:return 0===M?"Z":(G>=0?"+":"")+kn(Be,2,re)+":"+kn(Math.abs(G%60),2,re);default:throw new Error(`Unknown zone width "${v}"`)}}}const Xr=0,di=4;function Ke(v){return Xn(v.getFullYear(),v.getMonth(),v.getDate()+(di-v.getDay()))}function oe(v,O=!1){return function(W,M){let G;if(O){const re=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,Be=W.getDate();G=1+Math.floor((Be+re)/7)}else{const re=Ke(W),Be=function Fr(v){const O=Xn(v,Xr,1).getDay();return Xn(v,0,1+(O<=di?di:di+7)-O)}(re.getFullYear()),ut=re.getTime()-Be.getTime();G=1+Math.round(ut/6048e5)}return kn(G,v,Ye(M,pt.MinusSign))}}function Se(v,O=!1){return function(W,M){return kn(Ke(W).getFullYear(),v,Ye(M,pt.MinusSign),O)}}const Je={};function Mt(v,O){v=v.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+v)/6e4;return isNaN(W)?O:W}function Q(v){return v instanceof Date&&!isNaN(v.valueOf())}function ti(v,O){O=encodeURIComponent(O);for(const W of v.split(";")){const M=W.indexOf("="),[G,re]=-1==M?[W,""]:[W.slice(0,M),W.slice(M+1)];if(G.trim()===O)return decodeURIComponent(re)}return null}class Dr{constructor(O,W,M,G){this.$implicit=O,this.ngForOf=W,this.index=M,this.count=G}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jo=(()=>{var v;class O{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,G,re){this._viewContainer=M,this._template=G,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const G=this._viewContainer;M.forEachOperation((re,Be,ut)=>{if(null==re.previousIndex)G.createEmbeddedView(this._template,new Dr(re.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)G.remove(null===Be?void 0:Be);else if(null!==Be){const mn=G.get(Be);G.move(mn,ut),ks(mn,re)}});for(let re=0,Be=G.length;re<Be;re++){const mn=G.get(re).context;mn.index=re,mn.count=Be,mn.ngForOf=this._ngForOf}M.forEachIdentityChange(re=>{ks(G.get(re.currentIndex),re)})}static ngTemplateContextGuard(M,G){return!0}}return(v=O).\u0275fac=function(M){return new(M||v)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},v.\u0275dir=C.lG2({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function ks(v,O){v.context.$implicit=O.item}let Ha=(()=>{var v;class O{constructor(M,G){this._viewContainer=M,this._context=new ba,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){jl("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){jl("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,G){return!0}}return(v=O).\u0275fac=function(M){return new(M||v)(C.Y36(C.s_b),C.Y36(C.Rgc))},v.\u0275dir=C.lG2({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class ba{constructor(){this.$implicit=null,this.ngIf=null}}function jl(v,O){if(O&&!O.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,C.AaK)(O)}'.`)}class Hr{constructor(O,W){this._viewContainerRef=O,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(O){O&&!this._created?this.create():!O&&this._created&&this.destroy()}}let ji=(()=>{var v;class O{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews.push(M)}_matchCase(M){const G=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||G,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),G}_updateDefaultCases(M){if(this._defaultViews.length>0&&M!==this._defaultUsed){this._defaultUsed=M;for(const G of this._defaultViews)G.enforceState(M)}}}return(v=O).\u0275fac=function(M){return new(M||v)},v.\u0275dir=C.lG2({type:v,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),O})(),ns=(()=>{var v;class O{constructor(M,G,re){this.ngSwitch=re,re._addCase(),this._view=new Hr(M,G)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(v=O).\u0275fac=function(M){return new(M||v)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(ji,9))},v.\u0275dir=C.lG2({type:v,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),O})(),_o=(()=>{var v;class O{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:re,ngTemplateOutletContext:Be,ngTemplateOutletInjector:ut}=this;this._viewRef=G.createEmbeddedView(re,Be,ut?{injector:ut}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(v=O).\u0275fac=function(M){return new(M||v)(C.Y36(C.s_b))},v.\u0275dir=C.lG2({type:v,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.TTD]}),O})(),ur=(()=>{var v;class O{}return(v=O).\u0275fac=function(M){return new(M||v)},v.\u0275mod=C.oAB({type:v}),v.\u0275inj=C.cJS({}),O})();const Gi="browser",Xs="server";function pi(v){return v===Xs}let ri=(()=>{var v;class O{}return(v=O).\u0275prov=(0,C.Yz7)({token:v,providedIn:"root",factory:()=>new Go((0,C.LFG)(ae),window)}),O})();class Go{constructor(O,W){this.document=O,this.window=W,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const W=function Ya(v,O){const W=v.getElementById(O)||v.getElementsByName(O)[0];if(W)return W;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const M=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let G=M.currentNode;for(;G;){const re=G.shadowRoot;if(re){const Be=re.getElementById(O)||re.querySelector(`[name="${O}"]`);if(Be)return Be}G=M.nextNode()}}return null}(this.document,O);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(O){this.supportsScrolling()&&(this.window.history.scrollRestoration=O)}scrollToElement(O){const W=O.getBoundingClientRect(),M=W.left+this.window.pageXOffset,G=W.top+this.window.pageYOffset,re=this.offset();this.window.scrollTo(M-re[0],G-re[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zi{}},5879:(bt,Ce,k)=>{k.d(Ce,{$8M:()=>Vr,$WT:()=>wa,$Z:()=>qp,AFp:()=>Um,AaK:()=>J,CHM:()=>qc,CRH:()=>PC,EJc:()=>QC,EpF:()=>Qb,F$t:()=>aT,F4k:()=>Xb,FYo:()=>jp,FiY:()=>li,Gf:()=>ky,GfV:()=>tf,Gpc:()=>it,Gre:()=>K_,HDt:()=>kE,Hsn:()=>lT,Ikx:()=>Jd,JOm:()=>_l,KtG:()=>rd,LFG:()=>Xe,LMc:()=>WS,LSH:()=>Cp,Lbi:()=>Np,Lck:()=>X1,MAs:()=>KD,MGl:()=>wf,MMx:()=>py,NdJ:()=>k_,Ojb:()=>O0,OlP:()=>rr,Oqu:()=>f1,P3R:()=>Ip,PXZ:()=>qE,Q6J:()=>Wb,QGY:()=>Jb,Qsj:()=>B0,R0b:()=>yi,RDi:()=>f0,Rgc:()=>xc,SBq:()=>wu,SDv:()=>K1,Sil:()=>Qy,Suo:()=>Fy,TTD:()=>En,TgZ:()=>Zd,Tol:()=>G_,Udp:()=>U_,VKq:()=>Pl,VuI:()=>NI,W1O:()=>LC,WLB:()=>Ty,X6Q:()=>gI,XFs:()=>yt,Xpm:()=>yo,Xq5:()=>Vb,Xts:()=>gu,Y36:()=>wc,YKP:()=>hy,YNc:()=>zb,Yjl:()=>vo,Yz7:()=>Qt,Z0I:()=>ue,ZZ4:()=>pv,_Bn:()=>J1,_UZ:()=>N_,_c5:()=>DI,_uU:()=>CT,aQg:()=>qg,c2e:()=>YC,cJS:()=>Kn,cg1:()=>Vu,dDg:()=>nv,dqk:()=>rn,eFA:()=>ZE,eJc:()=>Ng,ekj:()=>xl,eoX:()=>rv,evT:()=>W0,f3M:()=>Ct,g9A:()=>Id,h0i:()=>nh,hGG:()=>TI,hij:()=>z_,iGM:()=>Ny,ifc:()=>Vi,ip1:()=>ZC,jDz:()=>gy,kEZ:()=>EC,kL8:()=>Mf,lG2:()=>$o,lqb:()=>ia,lri:()=>tv,n5z:()=>Xo,oAB:()=>qa,oxw:()=>oT,q4F:()=>Up,qFp:()=>kI,qLn:()=>Ec,qOj:()=>Pb,qZA:()=>P_,rWj:()=>GE,rg0:()=>G,s9C:()=>e1,sBO:()=>mI,s_b:()=>Mg,soG:()=>Yy,tb:()=>sv,tp0:()=>fr,uIk:()=>tg,vHH:()=>be,vpe:()=>oa,wAp:()=>eh,xp6:()=>ob,z2F:()=>Ga,zSh:()=>Dl,zW0:()=>eg,zs3:()=>sa});var C=k(8645),ee=k(7394),H=k(5592),se=k(3019),ie=k(5619),ae=k(2096),de=k(3020),Ie=k(4664),pe=k(3997);function Y(i){for(let o in i)if(i[o]===Y)return o;throw Error("Could not find renamed property on target object.")}function X(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function J(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(J).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ue(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const ve=Y({__forward_ref__:Y});function it(i){return i.__forward_ref__=it,i.toString=function(){return J(this())},i}function Ge(i){return dt(i)?i():i}function dt(i){return"function"==typeof i&&i.hasOwnProperty(ve)&&i.__forward_ref__===it}function He(i){return i&&!!i.\u0275providers}const Ot="https://g.co/ng/security#xss";class be extends Error{constructor(o,a){super(function Ve(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function pt(i,o){throw new be(-201,!1)}function at(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Kn(i){return{providers:i.providers||[],imports:i.imports||[]}}function sn(i){return ne(i,lt)||ne(i,fn)}function ue(i){return null!==sn(i)}function ne(i,o){return i.hasOwnProperty(o)?i[o]:null}function We(i){return i&&(i.hasOwnProperty(Et)||i.hasOwnProperty(Kt))?i[Et]:null}const lt=Y({\u0275prov:Y}),Et=Y({\u0275inj:Y}),fn=Y({ngInjectableDef:Y}),Kt=Y({ngInjectorDef:Y});var yt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(yt||{});let xt;function on(i){const o=xt;return xt=i,o}function Xn(i,o,a){const c=sn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&yt.Optional?null:void 0!==o?o:void pt(J(i))}const rn=globalThis,Je={},mt="__NG_DI_FLAG__",Mt="ngTempTokenPath",te=/\n/gm,V="__source";let Q;function le(i){const o=Q;return Q=i,o}function ke(i,o=yt.Default){if(void 0===Q)throw new be(-203,!1);return null===Q?Xn(i,void 0,o):Q.get(i,o&yt.Optional?null:void 0,o)}function Xe(i,o=yt.Default){return(function $t(){return xt}()||ke)(Ge(i),o)}function Ct(i,o=yt.Default){return Xe(i,Cn(o))}function Cn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Zt(i){const o=[];for(let a=0;a<i.length;a++){const c=Ge(i[a]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let d,f=yt.Default;for(let g=0;g<c.length;g++){const y=c[g],D=ei(y);"number"==typeof D?-1===D?d=y.token:f|=D:d=y}o.push(Xe(d,f))}else o.push(Xe(c))}return o}function Hn(i,o){return i[mt]=o,i.prototype[mt]=o,i}function ei(i){return i[mt]}function hi(i){return{toString:i}.toString()}var ms=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(ms||{}),Vi=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Vi||{});const Bi={},un=[],po=Y({\u0275cmp:Y}),Ns=Y({\u0275dir:Y}),ts=Y({\u0275pipe:Y}),go=Y({\u0275mod:Y}),Ti=Y({\u0275fac:Y}),ti=Y({__NG_ELEMENT_ID__:Y}),mo=Y({__NG_ENV_ID__:Y});function Ys(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function ya(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],g=a[c++],y=a[c++];i.setAttribute(o,g,y,f)}else{const f=d,g=a[++c];va(f)?i.setProperty(o,f,g):i.setAttribute(o,f,g),c++}}return c}function _s(i){return 3===i||4===i||6===i}function va(i){return 64===i.charCodeAt(0)}function Dr(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||jo(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function jo(i,o,a,c,d){let f=0,g=i.length;if(-1===o)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===o){g=-1;break}if(y>o){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,o),f=g+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const ks="ng-template";function Qs(i,o,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const g=i[c++];if(a&&"class"===f&&-1!==Ys(g.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Ha(i){return 4===i.type&&i.value!==ks}function ba(i,o,a){return o===(4!==i.type||a?i.value:ks)}function jl(i,o,a){let c=4;const d=i.attrs||[],f=function Uo(i){for(let o=0;o<i.length;o++)if(_s(i[o]))return o;return i.length}(d);let g=!1;for(let y=0;y<o.length;y++){const D=o[y];if("number"!=typeof D){if(!g)if(4&c){if(c=2|1&c,""!==D&&!ba(i,D,a)||""===D&&1===o.length){if(Hr(c))return!1;g=!0}}else{const x=8&c?D:o[++y];if(8&c&&null!==i.attrs){if(!Qs(i.attrs,x,a)){if(Hr(c))return!1;g=!0}continue}const K=ji(8&c?"class":D,d,Ha(i),a);if(-1===K){if(Hr(c))return!1;g=!0;continue}if(""!==x){let ce;ce=K>f?"":d[K+1].toLowerCase();const fe=8&c?ce:null;if(fe&&-1!==Ys(fe,x,0)||2&c&&x!==ce){if(Hr(c))return!1;g=!0}}}}else{if(!g&&!Hr(c)&&!Hr(D))return!1;if(g&&Hr(D))continue;g=!1,c=D|1&c}}return Hr(c)||g}function Hr(i){return 0==(1&i)}function ji(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let f=!1;for(;d<o.length;){const g=o[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=o[++d];for(;"string"==typeof y;)y=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function Ii(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ns(i,o,a=!1){for(let c=0;c<o.length;c++)if(jl(i,o[c],a))return!0;return!1}function ys(i,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function vs(i,o){return i?":not("+o.trim()+")":o}function _o(i){let o=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&c){const y=i[++a];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!Hr(g)&&(o+=vs(f,d),d=""),c=g,f=f||!Hr(c);a++}return""!==d&&(o+=vs(f,d)),o}function yo(i){return hi(()=>{const o=Js(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ms.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Vi.Emulated,styles:i.styles||un,_:null,schemas:i.schemas||null,tView:null,id:""};Za(a);const c=i.dependencies;return a.directiveDefs=Ui(c,!1),a.pipeDefs=Ui(c,!0),a.id=function $i(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Ul(i){return ln(i)||pr(i)}function Wa(i){return null!==i}function qa(i){return hi(()=>({type:i.type,bootstrap:i.bootstrap||un,declarations:i.declarations||un,imports:i.imports||un,exports:i.exports||un,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ka(i,o){if(null==i)return Bi;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,o&&(o[d]=f)}return a}function $o(i){return hi(()=>{const o=Js(i);return Za(o),o})}function vo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ln(i){return i[po]||null}function pr(i){return i[Ns]||null}function Tr(i){return i[ts]||null}function wa(i){const o=ln(i)||pr(i)||Tr(i);return null!==o&&o.standalone}function ni(i,o){const a=i[go]||null;if(!a&&!0===o)throw new Error(`Type ${J(i)} does not have '\u0275mod' property.`);return a}function Js(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Bi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||un,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ka(i.inputs,o),outputs:Ka(i.outputs)}}function Za(i){i.features?.forEach(o=>o(i))}function Ui(i,o){if(!i)return null;const a=o?Tr:Ul;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Wa)}const Un=0,wt=1,Pt=2,Zn=3,or=4,Ai=5,Wr=6,bs=7,ur=8,Gi=9,Xs=10,en=11,Hi=12,fi=13,pi=14,ir=15,bo=16,is=17,ri=18,Go=19,Ya=20,Fs=21,zi=22,Eo=23,ss=24,gn=25,Da=1,Gl=2,ii=7,wo=9,vr=11;function Pr(i){return Array.isArray(i)&&"object"==typeof i[Da]}function Mr(i){return Array.isArray(i)&&!0===i[Da]}function Nr(i){return 0!=(4&i.flags)}function Wi(i){return i.componentOffset>-1}function qr(i){return 1==(1&i.flags)}function Pn(i){return!!i.template}function Ho(i){return 0!=(512&i[Pt])}function ws(i,o){return i.hasOwnProperty(Ti)?i[Ti]:null}let Rr=null,Do=!1;function si(i){const o=Rr;return Rr=i,o}const to={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Sa(i){if(!Kr(i)||i.dirty){if(!i.producerMustRecompute(i)&&!ls(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function rl(i){i.dirty=!0,function nl(i){if(void 0===i.liveConsumerNode)return;const o=Do;Do=!0;try{for(const a of i.liveConsumerNode)a.dirty||rl(a)}finally{Do=o}}(i),i.consumerMarkedDirty?.(i)}function Ki(i){return i&&(i.nextProducerIndex=0),si(i)}function Cr(i,o){if(si(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Kr(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)qo(i.producerNode[a],i.producerIndexOfThis[a]);for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function ls(i){cs(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],c=i.producerLastReadVersion[o];if(c!==a.version||(Sa(a),c!==a.version))return!0}return!1}function Zl(i){if(cs(i),Kr(i))for(let o=0;o<i.producerNode.length;o++)qo(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function qo(i,o){if(function $n(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),cs(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)qo(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];cs(d),d.producerIndexOfThis[c]=o}}function Kr(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function cs(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Yo=null;function G(i){const o=si(null);try{return i()}finally{si(o)}}const Be=()=>{},ut={...to,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Be};class An{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function En(){return vn}function vn(i){return i.type.prototype.ngOnChanges&&(i.setInput=Sn),dr}function dr(){const i=Si(this),o=i?.current;if(o){const a=i.previous;if(a===Bi)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Sn(i,o,a,c){const d=this.declaredInputs[a],f=Si(i)||function ds(i,o){return i[gr]=o}(i,{previous:Bi,current:null}),g=f.current||(f.current={}),y=f.previous,D=y[d];g[d]=new An(D&&D.currentValue,o,y===Bi),i[c]=o}En.ngInherit=!0;const gr="__ngSimpleChanges__";function Si(i){return i[gr]||null}const Or=function(i,o,a){};function Jn(i){for(;Array.isArray(i);)i=i[Un];return i}function Ma(i,o){return Jn(o[i])}function mi(i,o){return Jn(o[i.index])}function Yl(i,o){return i.data[o]}function sr(i,o){const a=o[i];return Pr(a)?a:a[Un]}function so(i,o){return null==o?null:i[o]}function ed(i){i[is]=0}function td(i){1024&i[Pt]||(i[Pt]|=1024,ph(i,1))}function fh(i){1024&i[Pt]&&(i[Pt]&=-1025,ph(i,-1))}function ph(i,o){let a=i[Zn];if(null===a)return;a[Ai]+=o;let c=a;for(a=a[Zn];null!==a&&(1===o&&1===c[Ai]||-1===o&&0===c[Ai]);)a[Ai]+=o,c=a,a=a[Zn]}const Jt={lFrame:L(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hc(){return Jt.bindingsEnabled}function Jo(){return null!==Jt.skipHydrationRootTNode}function Qe(){return Jt.lFrame.lView}function Mn(){return Jt.lFrame.tView}function qc(i){return Jt.lFrame.contextLView=i,i[ur]}function rd(i){return Jt.lFrame.contextLView=null,i}function Zr(){let i=nc();for(;null!==i&&64===i.type;)i=i.parent;return i}function nc(){return Jt.lFrame.currentTNode}function Tn(){const i=Jt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}function Oi(i,o){const a=Jt.lFrame;a.currentTNode=i,a.isParent=o}function ar(){return Jt.lFrame.isParent}function Ao(){Jt.lFrame.isParent=!1}function tr(){const i=Jt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Lt(){return Jt.lFrame.bindingIndex++}function oo(i){const o=Jt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function xe(i){Jt.lFrame.inI18n=i}function tt(i,o){const a=Jt.lFrame;a.bindingIndex=a.bindingRootIndex=i,rc(o)}function rc(i){Jt.lFrame.currentDirectiveIndex=i}function mh(){return Jt.lFrame.currentQueryIndex}function _(i){Jt.lFrame.currentQueryIndex=i}function E(i){const o=i[wt];return 2===o.type?o.declTNode:1===o.type?i[Wr]:null}function T(i,o,a){if(a&yt.SkipSelf){let d=o,f=i;for(;!(d=d.parent,null!==d||a&yt.Host||(d=E(f),null===d||(f=f[pi],10&d.type))););if(null===d)return!1;o=d,i=f}const c=Jt.lFrame=R();return c.currentTNode=o,c.lView=i,!0}function b(i){const o=R(),a=i[wt];Jt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function R(){const i=Jt.lFrame,o=null===i?null:i.child;return null===o?L(i):o}function L(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function z(){const i=Jt.lFrame;return Jt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const he=z;function Oe(){const i=z();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function It(){return Jt.lFrame.selectedIndex}function _t(i){Jt.lFrame.selectedIndex=i}function Ht(){const i=Jt.lFrame;return Yl(i.tView,i.selectedIndex)}let cl=!0;function ao(){return cl}function lo(i){cl=i}function Kc(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:F}=f;g&&(i.contentHooks??=[]).push(-a,g),y&&((i.contentHooks??=[]).push(a,y),(i.contentCheckHooks??=[]).push(a,y)),D&&(i.viewHooks??=[]).push(-a,D),x&&((i.viewHooks??=[]).push(a,x),(i.viewCheckHooks??=[]).push(a,x)),null!=F&&(i.destroyHooks??=[]).push(a,F)}}function ai(i,o,a){hs(i,o,3,a)}function ul(i,o,a,c){(3&i[Pt])===a&&hs(i,o,a,c)}function _h(i,o){let a=i[Pt];(3&a)===o&&(a&=8191,a+=1,i[Pt]=a)}function hs(i,o,a,c){const f=c??-1,g=o.length-1;let y=0;for(let D=void 0!==c?65535&i[is]:0;D<g;D++)if("number"==typeof o[D+1]){if(y=o[D],null!=c&&y>=c)break}else o[D]<0&&(i[is]+=65536),(y<f||-1==f)&&(nm(i,a,o,D),i[is]=(4294901760&i[is])+D+2),D++}function sd(i,o){Or(4,i,o);const a=si(null);try{o.call(i)}finally{si(a),Or(5,i,o)}}function nm(i,o,a,c){const d=a[c]<0,f=a[c+1],y=i[d?-a[c]:a[c]];d?i[Pt]>>13<i[is]>>16&&(3&i[Pt])===o&&(i[Pt]+=8192,sd(y,f)):sd(y,f)}const ic=-1;class Us{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Yc(i){return i!==ic}function Oa(i){return 32767&i}function Qc(i,o){let a=function rm(i){return i>>16}(i),c=o;for(;a>0;)c=c[pi],a--;return c}let Yi=!0;function xa(i){const o=Yi;return Yi=i,o}const yh=255,xi=5;let im=0;const co={};function Jc(i,o){const a=Xc(i,o);if(-1!==a)return a;const c=o[wt];c.firstCreatePass&&(i.injectorIndex=o.length,sc(c.data,i),sc(o,null),sc(c.blueprint,null));const d=oc(i,o),f=i.injectorIndex;if(Yc(d)){const g=Oa(d),y=Qc(d,o),D=y[wt].data;for(let x=0;x<8;x++)o[f+x]=y[g+x]|D[g+x]}return o[f+8]=d,f}function sc(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Xc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function oc(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=nu(d),null===c)return ic;if(a++,d=d[pi],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return ic}function eu(i,o,a){!function So(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ti)&&(c=a[ti]),null==c&&(c=a[ti]=im++);const d=c&yh;o.data[i+(d>>xi)]|=1<<d}(i,o,a)}function ld(i,o,a){if(a&yt.Optional||void 0!==i)return i;pt()}function cd(i,o,a,c){if(a&yt.Optional&&void 0===c&&(c=null),!(a&(yt.Self|yt.Host))){const d=i[Gi],f=on(void 0);try{return d?d.get(o,c,a&yt.Optional):Xn(o,c,a&yt.Optional)}finally{on(f)}}return ld(c,0,a)}function ud(i,o,a,c=yt.Default,d){if(null!==i){if(2048&o[Pt]&&!(c&yt.Self)){const g=function Iv(i,o,a,c,d){let f=i,g=o;for(;null!==f&&null!==g&&2048&g[Pt]&&!(512&g[Pt]);){const y=sm(f,g,a,c|yt.Self,co);if(y!==co)return y;let D=f.parent;if(!D){const x=g[Ya];if(x){const F=x.get(a,co,c);if(F!==co)return F}D=nu(g),g=g[pi]}f=D}return d}(i,o,a,c,co);if(g!==co)return g}const f=sm(i,o,a,c,co);if(f!==co)return f}return cd(o,a,c,d)}function sm(i,o,a,c,d){const f=function om(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(ti)?i[ti]:void 0;return"number"==typeof o?o>=0?o&yh:lm:o}(a);if("function"==typeof f){if(!T(o,i,c))return c&yt.Host?ld(d,0,c):cd(o,a,c,d);try{let g;if(g=f(c),null!=g||c&yt.Optional)return g;pt()}finally{he()}}else if("number"==typeof f){let g=null,y=Xc(i,o),D=ic,x=c&yt.Host?o[ir][Wr]:null;for((-1===y||c&yt.SkipSelf)&&(D=-1===y?oc(i,o):o[y+8],D!==ic&&Eh(c,!1)?(g=o[wt],y=Oa(D),o=Qc(D,o)):y=-1);-1!==y;){const F=o[wt];if(fl(f,y,F.data)){const K=Cv(y,o,a,g,c,x);if(K!==co)return K}D=o[y+8],D!==ic&&Eh(c,o[wt].data[y+8]===x)&&fl(f,y,o)?(g=F,y=Oa(D),o=Qc(D,o)):y=-1}}return d}function Cv(i,o,a,c,d,f){const g=o[wt],y=g.data[i+8],F=bh(y,g,a,null==c?Wi(y)&&Yi:c!=g&&0!=(3&y.type),d&yt.Host&&f===y);return null!==F?hl(o,g,F,y):co}function bh(i,o,a,c,d){const f=i.providerIndexes,g=o.data,y=1048575&f,D=i.directiveStart,F=f>>20,ce=d?y+F:i.directiveEnd;for(let fe=c?y:y+F;fe<ce;fe++){const je=g[fe];if(fe<D&&a===je||fe>=D&&je.type===a)return fe}if(d){const fe=g[D];if(fe&&Pn(fe)&&fe.type===a)return D}return null}function hl(i,o,a,c){let d=i[a];const f=o.data;if(function Ee(i){return i instanceof Us}(d)){const g=d;g.resolving&&function ze(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}(f[a]));const y=xa(g.canSeeViewProviders);g.resolving=!0;const x=g.injectImpl?on(g.injectImpl):null;T(i,c,yt.Default);try{d=i[a]=g.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Ra(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const g=vn(o);(a.preOrderHooks??=[]).push(i,g),(a.preOrderCheckHooks??=[]).push(i,g)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==x&&on(x),xa(y),g.resolving=!1,he()}}return d}function fl(i,o,a){return!!(a[o+(i>>xi)]&1<<i)}function Eh(i,o){return!(i&yt.Self||i&yt.Host&&o)}class xr{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ud(this._tNode,this._lView,o,Cn(c),a)}}function lm(){return new xr(Zr(),Qe())}function Xo(i){return hi(()=>{const o=i.prototype.constructor,a=o[Ti]||wh(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Ti]||wh(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function wh(i){return dt(i)?()=>{const o=wh(Ge(i));return o&&o()}:ws(i)}function nu(i){const o=i[wt],a=o.type;return 2===a?o.declTNode:1===a?i[Wr]:null}function Vr(i){return function vh(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(_s(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(Zr(),i)}const Gs="__parameters__";function U(i,o,a){return hi(()=>{const c=function P(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(D,x,F){const K=D.hasOwnProperty(Gs)?D[Gs]:Object.defineProperty(D,Gs,{value:[]})[Gs];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(g),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Br(i,o){i.forEach(a=>Array.isArray(a)?Br(a,o):o(a))}function Dh(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ea(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Hs(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}function Is(i,o,a){let c=Mo(i,o);return c>=0?i[1|c]=a:(c=~c,function Av(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function dd(i,o){const a=Mo(i,o);if(a>=0)return i[1|a]}function Mo(i,o){return function hd(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<a];if(o===g)return f<<a;g>o?d=f:c=f+1}return~(d<<a)}(i,o,1)}const li=Hn(U("Optional"),8),fr=Hn(U("SkipSelf"),4);function cc(i){return 128==(128&i.flags)}var _l=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(_l||{});const ta=new Map;let $w=0;const mm="__ngContext__";function Yt(i,o){Pr(o)?(i[mm]=o[Go],function qv(i){ta.set(i[Go],i)}(o)):i[mm]=o}let fp;function yl(i,o){return fp(i,o)}function ka(i){const o=i[Zn];return Mr(o)?o[Zn]:o}function _d(i){return n0(i[Hi])}function t0(i){return n0(i[or])}function n0(i){for(;null!==i&&!Mr(i);)i=i[or];return i}function lr(i,o,a,c,d){if(null!=c){let f,g=!1;Mr(c)?f=c:Pr(c)&&(g=!0,c=c[Un]);const y=Jn(c);0===i&&null!==a?null==d?Yr(o,a,y):uu(o,a,y,d||null,!0):1===i&&null!==a?uu(o,a,y,d||null,!0):2===i?function jh(i,o,a){const c=du(i,o);c&&function a0(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,y,g):3===i&&o.destroyNode(y),null!=f&&function Ww(i,o,a,c,d){const f=a[ii];f!==Jn(a)&&lr(o,i,c,f,d);for(let y=vr;y<a.length;y++){const D=a[y];bd(D[wt],D,i,o,c,f)}}(o,i,f,a,d)}}function cu(i,o){return i.createText(o)}function gp(i,o,a){return i.createElement(o,a)}function bm(i,o){const a=i[wo],c=a.indexOf(o);fh(o),a.splice(c,1)}function kh(i,o){if(i.length<=vr)return;const a=vr+o,c=i[a];if(c){const d=c[bo];null!==d&&d!==i&&bm(d,c),o>0&&(i[a-1][or]=c[or]);const f=ea(i,vr+o);!function Nh(i,o){bd(i,o,o[en],2,null,null),o[Un]=null,o[Wr]=null}(c[wt],c);const g=f[ri];null!==g&&g.detachView(f[wt]),c[Zn]=null,c[or]=null,c[Pt]&=-129}return c}function uc(i,o){if(!(256&o[Pt])){const a=o[en];o[Eo]&&Zl(o[Eo]),o[ss]&&Zl(o[ss]),a.destroyNode&&bd(i,o,a,3,null,null),function yd(i){let o=i[Hi];if(!o)return Fh(i[wt],i);for(;o;){let a=null;if(Pr(o))a=o[Hi];else{const c=o[vr];c&&(a=c)}if(!a){for(;o&&!o[or]&&o!==i;)Pr(o)&&Fh(o[wt],o),o=o[Zn];null===o&&(o=i),Pr(o)&&Fh(o[wt],o),a=o&&o[or]}o=a}}(o)}}function Fh(i,o){if(!(256&o[Pt])){o[Pt]&=-129,o[Pt]|=256,function wm(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Us)){const f=a[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],D=f[g+1];Or(4,y,D);try{D.call(y)}finally{Or(5,y,D)}}else{Or(4,d,f);try{f.call(d)}finally{Or(5,d,f)}}}}}(i,o),function Em(i,o){const a=i.cleanup,c=o[bs];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+3];g>=0?c[g]():c[-g].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[bs]=null);const d=o[Fs];if(null!==d){o[Fs]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,o),1===o[wt].type&&o[en].destroy();const a=o[bo];if(null!==a&&Mr(o[Zn])){a!==o[Zn]&&bm(a,o);const c=o[ri];null!==c&&c.detachView(i)}!function Kv(i){ta.delete(i[Go])}(o)}}function Lh(i,o,a){return o0(i,o.parent,a)}function o0(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Un];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===Vi.None||f===Vi.Emulated)return null}return mi(c,a)}}function uu(i,o,a,c,d){i.insertBefore(o,a,c,d)}function Yr(i,o,a){i.appendChild(o,a)}function zn(i,o,a,c,d){null!==c?uu(i,o,a,c,d):Yr(i,o,a)}function du(i,o){return i.parentNode(o)}function c0(i,o,a){return Tm(i,o,a)}function Dm(i,o,a){return 40&i.type?mi(i,a):null}let Vh,Uh,$h,Gh,Tm=Dm;function vd(i,o){Tm=i,Vh=o}function dc(i,o,a,c){const d=Lh(i,c,o),f=o[en],y=c0(c.parent||o[Wr],c,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)zn(f,d,a[D],y,!1);else zn(f,d,a,y,!1);void 0!==Vh&&Vh(f,c,o,a,d)}function bl(i,o){if(null!==o){const a=o.type;if(3&a)return mi(o,i);if(4&a)return mp(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return bl(i,c);{const d=i[o.index];return Mr(d)?mp(-1,d):Jn(d)}}if(32&a)return yl(o,i)()||Jn(i[o.index]);{const c=Bh(i,o);return null!==c?Array.isArray(c)?c[0]:bl(ka(i[ir]),c):bl(i,o.next)}}return null}function Bh(i,o){return null!==o?i[ir][Wr].projection[o.projection]:null}function mp(i,o){const a=vr+i+1;if(a<o.length){const c=o[a],d=c[wt].firstChild;if(null!==d)return bl(c,d)}return o[ii]}function Im(i,o,a,c,d,f,g){for(;null!=a;){const y=c[a.index],D=a.type;if(g&&0===o&&(y&&Yt(Jn(y),c),a.flags|=2),32!=(32&a.flags))if(8&D)Im(i,o,a.child,c,d,f,!1),lr(o,i,d,y,f);else if(32&D){const x=yl(a,c);let F;for(;F=x();)lr(o,i,d,F,f);lr(o,i,d,y,f)}else 16&D?d0(i,o,c,a,d,f):lr(o,i,d,y,f);a=g?a.projectionNext:a.next}}function bd(i,o,a,c,d,f){Im(a,c,i.firstChild,o,d,f,!1)}function d0(i,o,a,c,d,f){const g=a[ir],D=g[Wr].projection[c.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)lr(o,i,d,D[x],f);else{let x=D;const F=g[Zn];cc(c)&&(x.flags|=128),Im(i,o,x,F,d,f,!0)}}function _p(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function hu(i,o,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&ya(i,o,c),null!==d&&_p(i,o,d),null!==f&&function Kw(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function wr(i){return function Am(){if(void 0===Uh&&(Uh=null,rn.trustedTypes))try{Uh=rn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Uh}()?.createHTML(i)||i}function f0(i){$h=i}function La(){if(void 0!==$h)return $h;if(typeof document<"u")return document;throw new be(210,!1)}function g0(i){return function vp(){if(void 0===Gh&&(Gh=null,rn.trustedTypes))try{Gh=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Gh}()?.createScriptURL(i)||i}class Ed{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ot})`}}function hc(i){return i instanceof Ed?i.changingThisBreaksApplicationSecurity:i}function wd(i,o){const a=function Yw(i){return i instanceof Ed&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Ot})`)}return a===o}class v0{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(wr(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class El{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=wr(o),a}}const Jw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bp(i){return(i=String(i)).match(Jw)?i:"unsafe:"+i}function Ro(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function na(...i){const o={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const fc=Ro("area,br,col,hr,img,wbr"),pc=Ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dd=Ro("rp,rt"),Ep=na(fc,na(pc,Ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),na(Dd,Ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),na(Dd,pc)),wp=Ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xm=na(wp,Ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Oo=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Oo||{});function Cp(i){const o=mc();return o?o.sanitize(Oo.URL,i)||"":wd(i,"URL")?hc(i):bp(ye(i))}function km(i){const o=mc();if(o)return g0(o.sanitize(Oo.RESOURCE_URL,i)||"");if(wd(i,"ResourceURL"))return g0(hc(i));throw new be(904,!1)}function Ip(i,o,a){return function T0(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?km:Cp}(o,a)(i)}function mc(){const i=Qe();return i&&i[Xs].sanitizer}class rr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gu=new rr("ENVIRONMENT_INITIALIZER"),qh=new rr("INJECTOR",-1),I0=new rr("INJECTOR_DEF_TYPES");class Ap{get(o,a=Je){if(a===Je){const c=new Error(`NullInjectorError: No provider for ${J(o)}!`);throw c.name="NullInjectorError",c}return a}}function Kh(...i){return{\u0275providers:_u(0,i),\u0275fromNgModule:!0}}function _u(i,...o){const a=[],c=new Set;let d;const f=g=>{a.push(g)};return Br(o,g=>{const y=g;Zh(y,f,[],c)&&(d||=[],d.push(y))}),void 0!==d&&Vm(d,f),a}function Vm(i,o){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];Sp(d,f=>{o(f,c)})}}function Zh(i,o,a,c){if(!(i=Ge(i)))return!1;let d=null,f=We(i);const g=!f&&ln(i);if(f||g){if(g&&!g.standalone)return!1;d=i}else{const D=i.ngModule;if(f=We(D),!f)return!1;d=D}const y=c.has(d);if(g){if(y)return!1;if(c.add(d),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of D)Zh(x,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let x;c.add(d);try{Br(f.imports,F=>{Zh(F,o,a,c)&&(x||=[],x.push(F))})}finally{}void 0!==x&&Vm(x,o)}if(!y){const x=ws(d)||(()=>new d);o({provide:d,useFactory:x,deps:un},d),o({provide:I0,useValue:d,multi:!0},d),o({provide:gu,useValue:()=>Xe(d),multi:!0},d)}const D=f.providers;if(null!=D&&!y){const x=i;Sp(D,F=>{o(F,x)})}}}return d!==i&&void 0!==i.providers}function Sp(i,o){for(let a of i)He(a)&&(a=a.\u0275providers),Array.isArray(a)?Sp(a,o):o(a)}const Mp=Y({provide:String,useValue:Y});function Td(i){return null!==i&&"object"==typeof i&&Mp in i}function xo(i){return"function"==typeof i}const Dl=new rr("Set Injector scope."),Rp={},Cd={};let Op;function ra(){return void 0===Op&&(Op=new Ap),Op}class ia{}class xp extends ia{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jm(o,g=>this.processProvider(g)),this.records.set(qh,Tl(void 0,this)),d.has("environment")&&this.records.set(ia,Tl(void 0,this));const f=this.records.get(Dl);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(I0.multi,un,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=le(this),c=on(void 0);try{return o()}finally{le(a),on(c)}}get(o,a=Je,c=yt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(mo))return o[mo](this);c=Cn(c);const f=le(this),g=on(void 0);try{if(!(c&yt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const x=function R0(i){return"function"==typeof i||"object"==typeof i&&i instanceof rr}(o)&&sn(o);D=x&&this.injectableDefInScope(x)?Tl(Pp(o),Rp):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&yt.Self?ra():this.parent).get(o,a=c&yt.Optional&&a===Je?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Mt]=y[Mt]||[]).unshift(J(o)),f)throw y;return function _a(i,o,a,c){const d=i[Mt];throw o[V]&&d.unshift(o[V]),i.message=function kc(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=J(o);if(Array.isArray(o))d=o.map(J).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let y=o[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):J(y)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(te,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Mt]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{on(g),le(f)}}resolveInjectorInitializers(){const o=le(this),a=on(void 0);try{const d=this.get(gu.multi,un,yt.Self);for(const f of d)f()}finally{le(o),on(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(J(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let a=xo(o=Ge(o))?o:Ge(o&&o.provide);const c=function S0(i){return Td(i)?Tl(void 0,i.useValue):Tl(M0(i),Rp)}(o);if(xo(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Tl(void 0,Rp,!0),d.factory=()=>Zt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Rp&&(a.value=Cd,a.value=a.factory()),"object"==typeof a.value&&a.value&&function aD(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ge(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Pp(i){const o=sn(i),a=null!==o?o.factory:ws(i);if(null!==a)return a;if(i instanceof rr)throw new be(204,!1);if(i instanceof Function)return function sD(i){const o=i.length;if(o>0)throw Hs(o,"?"),new be(204,!1);const a=function De(i){return i&&(i[lt]||i[fn])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new be(204,!1)}function M0(i,o,a){let c;if(xo(i)){const d=Ge(i);return ws(d)||Pp(d)}if(Td(i))c=()=>Ge(i.useValue);else if(function wl(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Zt(i.deps||[]));else if(function Bm(i){return!(!i||!i.useExisting)}(i))c=()=>Xe(Ge(i.useExisting));else{const d=Ge(i&&(i.useClass||i.provide));if(!function oD(i){return!!i.deps}(i))return ws(d)||Pp(d);c=()=>new d(...Zt(i.deps))}return c}function Tl(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function jm(i,o){for(const a of i)Array.isArray(a)?jm(a,o):a&&He(a)?jm(a.\u0275providers,o):o(a)}const Um=new rr("AppId",{providedIn:"root",factory:()=>yu}),yu="ng",Id=new rr("Platform Initializer"),Np=new rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O0=new rr("CSP nonce",{providedIn:"root",factory:()=>La().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let P0=(i,o,a)=>null;function Lp(i,o,a=!1){return P0(i,o,a)}class L0{}class V0{}class Km{resolveComponentFactory(o){throw function fD(i){const o=Error(`No component factory found for ${J(i)}.`);return o.ngComponent=i,o}(o)}}let Eu=(()=>{class o{}return o.NULL=new Km,o})();function ef(){return Cl(Zr(),Qe())}function Cl(i,o){return new wu(mi(i,o))}let wu=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=ef,o})();function Zm(i){return i instanceof wu?i.nativeElement:i}class jp{}let B0=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function gD(){const i=Qe(),a=sr(Zr().index,i);return(Pr(a)?a:i)[en]}(),o})(),j0=(()=>{var i;class o{}return(i=o).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),o})();class tf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Up=new tf("16.2.4"),Ym={};function G0(i,o=null,a=null,c){const d=H0(i,o,a,c);return d.resolveInjectorInitializers(),d}function H0(i,o=null,a=null,c,d=new Set){const f=[a||un,Kh(i)];return c=c||("object"==typeof i?void 0:J(i)),new xp(f,o||ra(),c||null,d)}let sa=(()=>{var i;class o{static create(c,d){if(Array.isArray(c))return G0({name:""},d,c,"");{const f=c.name??"";return G0({name:f},c.parent,c.providers,f)}}}return(i=o).THROW_IF_NOT_FOUND=Je,i.NULL=new Ap,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>Xe(qh)}),i.__NG_ELEMENT_ID__=-1,o})();function rf(i){return o=>{setTimeout(i,void 0,o)}}const oa=class nf extends C.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,f=a||(()=>null),g=c;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),f=D.error?.bind(D),g=D.complete?.bind(D)}this.__isAsync&&(f=rf(f),d&&(d=rf(d)),g&&(g=rf(g)));const y=super.subscribe({next:d,error:f,complete:g});return o instanceof ee.w0&&o.add(y),y}};function Gp(...i){}class yi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function e_(){const i="function"==typeof rn.requestAnimationFrame;let o=rn[i?"requestAnimationFrame":"setTimeout"],a=rn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Hp(i){const o=()=>{!function vD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,zp(i),i.isCheckStableRunning=!0,t_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),zp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,g,y)=>{if(function ED(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(y))return a.invokeTask(d,f,g,y);try{return Cu(i),a.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),z0(i)}},onInvoke:(a,c,d,f,g,y,D)=>{try{return Cu(i),a.invoke(d,f,g,y,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),z0(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,zp(i),t_(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(yi.isInAngularZone())throw new be(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,yD,Gp,Gp);try{return f.runTask(g,a,c)}finally{f.cancelTask(g)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const yD={};function t_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function zp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Cu(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function z0(i){i._nesting--,t_(i)}class bD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const n_=new rr("",{providedIn:"root",factory:r_});function r_(){const i=Ct(yi);let o=!0;const a=new H.y(d=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new H.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{yi.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const g=i.onUnstable.subscribe(()=>{yi.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});return(0,se.T)(a,c.pipe((0,de.B)()))}function W0(i){return i.ownerDocument}function aa(i){return i instanceof Function?i():i}let bc=(()=>{var i;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new be(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=o).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>new i}),o})();function Nd(i){for(;i;){i[Pt]|=64;const o=ka(i);if(Ho(i)&&!o)return i;i=o}return null}function s_(i){return i.ngOriginalError}class Ec{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&s_(o);for(;a&&s_(a);)a=s_(a);return a||null}}const Z0=new rr("",{providedIn:"root",factory:()=>!1});let Wp=null;function nb(i,o){return i[o]??sb()}function rb(i,o){const a=sb();a.producerNode?.length&&(i[o]=Wp,a.lView=i,Wp=l_())}const ib={...to,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Nd(i.lView)},lView:null};function l_(){return Object.create(ib)}function sb(){return Wp??=l_(),Wp}const wn={};function ob(i){ab(Mn(),Qe(),It()+i,!1)}function ab(i,o,a,c){if(!c)if(3==(3&o[Pt])){const f=i.preOrderCheckHooks;null!==f&&ai(o,f,a)}else{const f=i.preOrderHooks;null!==f&&ul(o,f,0,a)}_t(a)}function wc(i,o=yt.Default){const a=Qe();return null===a?Xe(i,o):ud(Zr(),a,Ge(i),o)}function qp(){throw new Error("invalid")}function sf(i,o,a,c,d,f,g,y,D,x,F){const K=o.blueprint.slice();return K[Un]=d,K[Pt]=140|c,(null!==x||i&&2048&i[Pt])&&(K[Pt]|=2048),ed(K),K[Zn]=K[pi]=i,K[ur]=a,K[Xs]=g||i&&i[Xs],K[en]=y||i&&i[en],K[Gi]=D||i&&i[Gi]||null,K[Wr]=f,K[Go]=function zs(){return $w++}(),K[zi]=F,K[Ya]=x,K[ir]=2==o.type?i[ir]:K,K}function Dc(i,o,a,c,d){let f=i.data[o];if(null===f)f=c_(i,o,a,c,d),function Dt(){return Jt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const g=Tn();f.injectorIndex=null===g?-1:g.injectorIndex}return Oi(f,!0),f}function c_(i,o,a,c,d){const f=nc(),g=ar(),D=i.data[o]=function g_(i,o,a,c,d,f){let g=o?o.injectorIndex:-1,y=0;return Jo()&&(y|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=D),null!==f&&(g?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}function Mu(i,o,a,c){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Va(i,o,a,c,d){const f=nb(o,Eo),g=It(),y=2&c;try{_t(-1),y&&o.length>gn&&ab(i,o,gn,!1),Or(y?2:0,d);const x=y?f:null,F=Ki(x);try{null!==x&&(x.dirty=!1),a(c,d)}finally{Cr(x,F)}}finally{y&&null===o[Eo]&&rb(o,Eo),_t(g),Or(y?3:1,d)}}function u_(i,o,a){if(Nr(o)){const c=si(null);try{const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const y=i.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}finally{si(c)}}}function d_(i,o,a){Hc()&&(function Kp(i,o,a,c){const d=a.directiveStart,f=a.directiveEnd;Wi(a)&&function vb(i,o,a){const c=mi(o,i),d=lb(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const y=Yp(i,sf(i,d,null,g,c,o,null,i[Xs].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=y}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||Jc(a,o),Yt(c,o);const g=a.initialInputs;for(let y=d;y<f;y++){const D=i.data[y],x=hl(o,i,y,a);Yt(x,o),null!==g&&PD(0,y-d,x,D,0,g),Pn(D)&&(sr(a.index,o)[ur]=hl(o,i,y,a))}}(i,o,a,mi(a,o)),64==(64&a.flags)&&Zp(i,o,a))}function h_(i,o,a=mi){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?a(o,i):i[g];i[d++]=y}}}function lb(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=f_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function f_(i,o,a,c,d,f,g,y,D,x,F){const K=gn+c,ce=K+d,fe=function AD(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:wn);return a}(K,ce),je="function"==typeof x?x():x;return fe[wt]={type:i,blueprint:fe,template:a,queries:null,viewQuery:y,declTNode:o,data:fe.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:je,incompleteFirstPass:!1,ssrId:F}}let db=i=>null;function hb(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?af(a,o,d,f):c.hasOwnProperty(d)&&af(a,o,c[d],f)}return a}function af(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Ws(i,o,a,c,d,f,g,y){const D=mi(o,a);let F,x=o.inputs;!y&&null!=x&&(F=x[c])?(Qp(i,a,F,c,d),Wi(o)&&function Ld(i,o){const a=sr(o,i);16&a[Pt]||(a[Pt]|=64)}(a,o.index)):3&o.type&&(c=function fb(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,o.value||"",c):d,f.setProperty(D,c,d))}function __(i,o,a,c){if(Hc()){const d=null===c?null:{"":-1},f=function y_(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const g=a[f];if(ns(o,g.selectors,!1))if(c||(c=[]),Pn(g))if(null!==g.findHostDirectiveDefs){const y=[];d=d||new Map,g.findHostDirectiveDefs(g,y,d),c.unshift(...y,g),Vd(i,o,y.length)}else c.unshift(g),Vd(i,o,0);else d=d||new Map,g.findHostDirectiveDefs?.(g,c,d),c.push(g)}return null===c?null:[c,d]}(i,a);let g,y;null===f?g=y=null:[g,y]=f,null!==g&&gb(i,o,a,g,d,y),d&&function _b(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new be(-301,!1);c.push(o[d],f)}}}(a,c,d)}a.mergedAttrs=Dr(a.mergedAttrs,a.attrs)}function gb(i,o,a,c,d,f){for(let x=0;x<c.length;x++)eu(Jc(a,o),i,c[x].type);!function yb(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let x=0;x<c.length;x++){const F=c[x];F.providersResolver&&F.providersResolver(F)}let g=!1,y=!1,D=Mu(i,o,c.length,null);for(let x=0;x<c.length;x++){const F=c[x];a.mergedAttrs=Dr(a.mergedAttrs,F.hostAttrs),v_(i,a,o,D,F),Bd(D,F,d),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const K=F.type.prototype;!g&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),g=!0),!y&&(K.ngOnChanges||K.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),y=!0),D++}!function RD(i,o,a){const d=o.directiveEnd,f=i.data,g=o.attrs,y=[];let D=null,x=null;for(let F=o.directiveStart;F<d;F++){const K=f[F],ce=a?a.get(K):null,je=ce?ce.outputs:null;D=hb(K.inputs,F,D,ce?ce.inputs:null),x=hb(K.outputs,F,x,je);const ot=null===D||null===g||Ha(o)?null:Eb(D,F,g);y.push(ot)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=y,o.inputs=D,o.outputs=x}(i,a,f)}function Zp(i,o,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,g=function Lr(){return Jt.lFrame.currentDirectiveIndex}();try{_t(f);for(let y=c;y<d;y++){const D=i.data[y],x=o[y];rc(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&mb(D,x)}}finally{_t(-1),rc(g)}}function mb(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Vd(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function Bd(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Pn(o)&&(a[""]=i)}}function v_(i,o,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=ws(d.type)),g=new Us(f,Pn(d),wc);i.blueprint[c]=g,a[c]=g,function OD(i,o,a,c,d){const f=d.hostBindings;if(f){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const y=~o.index;(function xD(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(g)!=y&&g.push(y),g.push(a,c,f)}}(i,o,c,Mu(i,a,d.hostVars,wn),d)}function Ms(i,o,a,c,d,f){const g=mi(i,o);!function b_(i,o,a,c,d,f,g){if(null==f)i.removeAttribute(o,d,a);else{const y=null==g?ye(f):g(f,c||"",d);i.setAttribute(o,d,y,a)}}(o[en],g,f,i.value,a,c,d)}function PD(i,o,a,c,d,f){const g=f[o];if(null!==g)for(let y=0;y<g.length;)bb(c,a,g[y++],g[y++],g[y++])}function bb(i,o,a,c,d){const f=si(null);try{const g=i.inputTransforms;null!==g&&g.hasOwnProperty(c)&&(d=g[c].call(o,d)),null!==i.setInput?i.setInput(o,d,a,c):o[c]=d}finally{si(f)}}function Eb(i,o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const g=i[f];for(let y=0;y<g.length;y+=2)if(g[y]===o){c.push(f,g[y+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function wb(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function E_(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const g=i.data[f];_(a[c]),g.contentQueries(2,o[f],f)}}}function Yp(i,o){return i[Hi]?i[fi][or]=o:i[Hi]=o,i[fi]=o,o}function w_(i,o,a){_(0);const c=si(null);try{o(i,a)}finally{si(c)}}function Db(i){return i[bs]||(i[bs]=[])}function Tb(i){return i.cleanup||(i.cleanup=[])}function D_(i,o){const a=i[Gi],c=a?a.get(Ec,null):null;c&&c.handleError(o)}function Qp(i,o,a,c,d){for(let f=0;f<a.length;){const g=a[f++],y=a[f++];bb(i.data[g],o[g],c,y,d)}}function ND(i,o){const a=sr(o,i),c=a[wt];!function Ib(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const d=a[Un];null!==d&&null===a[zi]&&(a[zi]=Lp(d,a[Gi])),Jp(c,a,a[ur])}function Jp(i,o,a){b(o);try{const c=i.viewQuery;null!==c&&w_(1,c,a);const d=i.template;null!==d&&Va(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&E_(i,o),i.staticViewQueries&&w_(2,i.viewQuery,a);const f=i.components;null!==f&&function Xp(i,o){for(let a=0;a<o.length;a++)ND(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[Pt]&=-5,Oe()}}let Ln=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,f){const g=typeof Zone>"u"?null:Zone.current,y=function re(i,o,a){const c=Object.create(ut);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=o;const d=g=>{c.cleanupFn=g};return c.ref={notify:()=>rl(c),run:()=>{if(c.dirty=!1,c.hasRun&&!ls(c))return;c.hasRun=!0;const g=Ki(c);try{c.cleanupFn(),c.cleanupFn=Be,c.fn(d)}finally{Cr(c,g)}},cleanup:()=>c.cleanupFn()},c.ref}(c,F=>{this.all.has(F)&&this.queue.set(F,g)},f);let D;this.all.add(y),y.notify();const x=()=>{y.cleanup(),D?.(),this.all.delete(y),this.queue.delete(y)};return D=d?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>new i}),o})();function lf(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?f=y:1==f?d=Ue(d,y):2==f&&(c=Ue(c,y+": "+o[++g]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Il(i,o,a,c,d=!1){for(;null!==a;){const f=o[a.index];null!==f&&c.push(Jn(f)),Mr(f)&&Sb(f,c);const g=a.type;if(8&g)Il(i,o,a.child,c);else if(32&g){const y=yl(a,o);let D;for(;D=y();)c.push(D)}else if(16&g){const y=Bh(o,a);if(Array.isArray(y))c.push(...y);else{const D=ka(o[ir]);Il(D[wt],D,y,c,!0)}}a=d?a.projectionNext:a.next}return c}function Sb(i,o){for(let a=vr;a<i.length;a++){const c=i[a],d=c[wt].firstChild;null!==d&&Il(c[wt],c,d,o)}i[ii]!==i[Un]&&o.push(i[ii])}function ci(i,o,a,c=!0){const d=o[Xs],f=d.rendererFactory,g=d.afterRenderEventManager;f.begin?.(),g?.begin();try{jd(i,o,i.template,a)}catch(D){throw c&&D_(o,D),D}finally{f.end?.(),d.effectManager?.flush(),g?.end()}}function jd(i,o,a,c){const d=o[Pt];if(256!=(256&d)){o[Xs].effectManager?.flush(),b(o);try{ed(o),function kt(i){return Jt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Va(i,o,a,2,c);const g=3==(3&d);if(g){const x=i.preOrderCheckHooks;null!==x&&ai(o,x,null)}else{const x=i.preOrderHooks;null!==x&&ul(o,x,0,null),_h(o,0)}if(function cf(i){for(let o=_d(i);null!==o;o=t0(o)){if(!o[Gl])continue;const a=o[wo];for(let c=0;c<a.length;c++){td(a[c])}}}(o),kD(o,2),null!==i.contentQueries&&E_(i,o),g){const x=i.contentCheckHooks;null!==x&&ai(o,x)}else{const x=i.contentHooks;null!==x&&ul(o,x,1),_h(o,1)}!function Fd(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=nb(o,ss);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)_t(~f);else{const g=f,y=a[++d],D=a[++d];tt(y,g),c.dirty=!1;const x=Ki(c);try{D(2,o[g])}finally{Cr(c,x)}}}}finally{null===o[ss]&&rb(o,ss),_t(-1)}}(i,o);const y=i.components;null!==y&&Mb(o,y,0);const D=i.viewQuery;if(null!==D&&w_(2,D,c),g){const x=i.viewCheckHooks;null!==x&&ai(o,x)}else{const x=i.viewHooks;null!==x&&ul(o,x,2),_h(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Pt]&=-73,fh(o)}finally{Oe()}}}function kD(i,o){for(let a=_d(i);null!==a;a=t0(a))for(let c=vr;c<a.length;c++)T_(a[c],o)}function gA(i,o,a){T_(sr(o,i),a)}function T_(i,o){if(!function Ql(i){return 128==(128&i[Pt])}(i))return;const a=i[wt],c=i[Pt];if(80&c&&0===o||1024&c||2===o)jd(a,i,a.template,i[ur]);else if(i[Ai]>0){kD(i,1);const d=a.components;null!==d&&Mb(i,d,1)}}function Mb(i,o,a){for(let c=0;c<o.length;c++)gA(i,o[c],a)}class Ru{get rootNodes(){const o=this._lView,a=o[wt];return Il(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(o){this._lView[ur]=o}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Zn];if(Mr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(kh(o,c),ea(a,c))}this._attachedToViewContainer=!1}uc(this._lView[wt],this._lView)}onDestroy(o){!function Xl(i,o){if(256==(256&i[Pt]))throw new be(911,!1);null===i[Fs]&&(i[Fs]=[]),i[Fs].push(o)}(this._lView,o)}markForCheck(){Nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){ci(this._lView[wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function r0(i,o){bd(i,o,o[en],2,null,null)}(this._lView[wt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class FD extends Ru{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ci(o[wt],o,o[ur],!1)}checkNoChanges(){}get context(){return null}}class LD extends Eu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ln(o);return new Ir(a,this.ngModule)}}function mr(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Rb{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Cn(c);const d=this.injector.get(o,Ym,c);return d!==Ym||a===Ym?d:this.parentInjector.get(o,a,c)}}class Ir extends V0{get inputs(){const o=this.componentDef,a=o.inputTransforms,c=mr(o.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return mr(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ea(i){return i.map(_o).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let f=(d=d||this.ngModule)instanceof ia?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new Rb(o,f):o,y=g.get(jp,null);if(null===y)throw new be(407,!1);const K={rendererFactory:y,sanitizer:g.get(j0,null),effectManager:g.get(Ln,null),afterRenderEventManager:g.get(bc,null)},ce=y.createRenderer(null,this.componentDef),fe=this.componentDef.selectors[0][0]||"div",je=c?function cb(i,o,a,c){const f=c.get(Z0,!1)||a===Vi.ShadowDom,g=i.selectRootElement(o,f);return function ub(i){db(i)}(g),g}(ce,c,this.componentDef.encapsulation,g):gp(ce,fe,function mA(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(fe)),zt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let et=null;null!==je&&(et=Lp(je,g,!0));const dn=f_(0,null,null,1,0,null,null,null,null,null,null),Rn=sf(null,dn,null,zt,null,null,K,ce,g,null,et);let cr,Zs;b(Rn);try{const Ll=this.componentDef;let dh,mv=null;Ll.findHostDirectiveDefs?(dh=[],mv=new Map,Ll.findHostDirectiveDefs(Ll,dh,mv),dh.push(Ll)):dh=[Ll];const FI=function _A(i,o){const a=i[wt],c=gn;return i[c]=o,Dc(a,c,2,"#host",null)}(Rn,je),LI=function yA(i,o,a,c,d,f,g){const y=d[wt];!function xb(i,o,a,c){for(const d of i)o.mergedAttrs=Dr(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(lf(o,o.mergedAttrs,!0),null!==a&&hu(c,a,o))}(c,i,o,g);let D=null;null!==o&&(D=Lp(o,d[Gi]));const x=f.rendererFactory.createRenderer(o,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const K=sf(d,lb(a),null,F,d[i.index],i,f,x,null,null,D);return y.firstCreatePass&&Vd(y,i,c.length-1),Yp(d,K),d[i.index]=K}(FI,je,Ll,dh,Rn,K,ce);Zs=Yl(dn,gn),je&&function bA(i,o,a,c){if(c)ya(i,a,["ng-version",Up.full]);else{const{attrs:d,classes:f}=function zr(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&o.push(f,i[++c]):8===d&&a.push(f);else{if(!Hr(d))break;d=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ya(i,a,d),f&&f.length>0&&_p(i,a,f.join(" "))}}(ce,Ll,je,c),void 0!==a&&function EA(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(Zs,this.ngContentSelectors,a),cr=function vA(i,o,a,c,d,f){const g=Zr(),y=d[wt],D=mi(g,d);gb(y,d,g,a,null,c);for(let F=0;F<a.length;F++)Yt(hl(d,y,g.directiveStart+F,g),d);Zp(y,d,g),D&&Yt(D,d);const x=hl(d,y,g.directiveStart+g.componentOffset,g);if(i[ur]=d[ur]=x,null!==f)for(const F of f)F(x,o);return u_(y,g,i),x}(LI,Ll,dh,mv,Rn,[wA]),Jp(dn,Rn,null)}finally{Oe()}return new Ob(this.componentType,cr,Cl(Zs,Rn),Rn,Zs)}}class Ob extends L0{constructor(o,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new FD(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;Qp(f[wt],f,d,o,a),this.previousInputValues.set(o,a),Nd(sr(this._tNode.index,f))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function wA(){const i=Zr();Kc(Qe()[wt],i)}function Pb(i){let o=function VD(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Pn(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new be(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const g=i;g.inputs=uf(i.inputs),g.inputTransforms=uf(i.inputTransforms),g.declaredInputs=uf(i.declaredInputs),g.outputs=uf(i.outputs);const y=d.hostBindings;y&&Ou(i,y);const D=d.viewQuery,x=d.contentQueries;if(D&&df(i,D),x&&BD(i,x),X(i.inputs,d.inputs),X(i.declaredInputs,d.declaredInputs),X(i.outputs,d.outputs),null!==d.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),X(g.inputTransforms,d.inputTransforms)),Pn(d)&&d.data.animation){const F=i.data;F.animation=(F.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===Pb&&(a=!1)}}o=Object.getPrototypeOf(o)}!function DA(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Dr(d.hostAttrs,a=Dr(a,d.hostAttrs))}}(c)}function uf(i){return i===Bi?{}:i===un?[]:i}function df(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function BD(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{o(c,d,f),a(c,d,f)}:o}function Ou(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function eg(i){return o=>{o.findHostDirectiveDefs=kb,o.hostDirectives=(Array.isArray(i)?i:i()).map(a=>"function"==typeof a?{directive:Ge(a),inputs:Bi,outputs:Bi}:{directive:Ge(a.directive),inputs:Fb(a.inputs),outputs:Fb(a.outputs)})}}function kb(i,o,a){if(null!==i.hostDirectives)for(const c of i.hostDirectives){const d=pr(c.directive);Lb(d.declaredInputs,c.inputs),kb(d,o,a),a.set(d,c),o.push(d)}}function Fb(i){if(void 0===i||0===i.length)return Bi;const o={};for(let a=0;a<i.length;a+=2)o[i[a]]=i[a+1];return o}function Lb(i,o){for(const a in o)o.hasOwnProperty(a)&&(i[o[a]]=i[a])}function Vb(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function $d(i){return!!gf(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function gf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ja(i,o,a){return i[o]=a}function Qi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Tc(i,o,a,c){const d=Qi(i,o,a);return Qi(i,o+1,c)||d}function tg(i,o,a,c){const d=Qe();return Qi(d,Lt(),o)&&(Mn(),Ms(Ht(),d,i,o,a,c)),tg}function Cc(i,o,a,c){return Qi(i,Lt(),a)?o+ye(a)+c:wn}function zb(i,o,a,c,d,f,g,y){const D=Qe(),x=Mn(),F=i+gn,K=x.firstCreatePass?function FA(i,o,a,c,d,f,g,y,D){const x=o.consts,F=Dc(o,i,4,g||null,so(x,y));__(o,a,F,so(x,D)),Kc(o,F);const K=F.tView=f_(2,F,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x,null);return null!==o.queries&&(o.queries.template(o,F),K.queries=o.queries.embeddedTView(F)),F}(F,x,D,o,a,c,d,f,g):x.data[F];Oi(K,!1);const ce=WD(x,D,K,i);ao()&&dc(x,D,ce,K),Yt(ce,D),Yp(D,D[F]=wb(ce,D,ce,K)),qr(K)&&d_(x,D,K),null!=g&&h_(D,K,y)}let WD=function qD(i,o,a,c){return lo(!0),o[en].createComment("")};function KD(i){return function Qo(i,o){return i[o]}(function gh(){return Jt.lFrame.contextLView}(),gn+i)}function Wb(i,o,a){const c=Qe();return Qi(c,Lt(),o)&&Ws(Mn(),Ht(),c,i,o,c[en],a,!1),Wb}function qb(i,o,a,c,d){const g=d?"class":"style";Qp(i,a,o.inputs[g],g,c)}function Zd(i,o,a,c){const d=Qe(),f=Mn(),g=gn+i,y=d[en],D=f.firstCreatePass?function bf(i,o,a,c,d,f){const g=o.consts,D=Dc(o,i,2,c,so(g,d));return __(o,a,D,so(g,f)),null!==D.attrs&&lf(D,D.attrs,!1),null!==D.mergedAttrs&&lf(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(g,f,d,o,a,c):f.data[g],x=Kb(f,d,D,y,o,i);d[g]=x;const F=qr(D);return Oi(D,!0),hu(y,x,D),32!=(32&D.flags)&&ao()&&dc(f,d,x,D),0===function Ts(){return Jt.lFrame.elementDepthCount}()&&Yt(x,d),function Gc(){Jt.lFrame.elementDepthCount++}(),F&&(d_(f,d,D),u_(f,D,d)),null!==c&&h_(d,D),Zd}function P_(){let i=Zr();ar()?Ao():(i=i.parent,Oi(i,!1));const o=i;(function ec(i){return Jt.skipHydrationRootTNode===i})(o)&&function Wc(){Jt.skipHydrationRootTNode=null}(),function nd(){Jt.lFrame.elementDepthCount--}();const a=Mn();return a.firstCreatePass&&(Kc(a,i),Nr(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function od(i){return 0!=(8&i.flags)}(o)&&qb(a,o,Qe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dl(i){return 0!=(16&i.flags)}(o)&&qb(a,o,Qe(),o.stylesWithoutHost,!1),P_}function N_(i,o,a,c){return Zd(i,o,a,c),P_(),N_}let Kb=(i,o,a,c,d,f)=>(lo(!0),gp(c,d,function oi(){return Jt.lFrame.currentNamespace}()));function Qb(){return Qe()}function Jb(i){return!!i&&"function"==typeof i.then}function Xb(i){return!!i&&"function"==typeof i.subscribe}function k_(i,o,a,c){const d=Qe(),f=Mn(),g=Zr();return function rT(i,o,a,c,d,f,g){const y=qr(c),x=i.firstCreatePass&&Tb(i),F=o[ur],K=Db(o);let ce=!0;if(3&c.type||g){const ot=mi(c,o),Rt=g?g(ot):ot,zt=K.length,et=g?Rn=>g(Jn(Rn[c.index])):c.index;let dn=null;if(!g&&y&&(dn=function nT(i,o,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===c){const y=o[bs],D=d[f+2];return y.length>D?y[D]:null}"string"==typeof g&&(f+=2)}return null}(i,o,d,c.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=f,dn.__ngLastListenerFn__=f,ce=!1;else{f=sT(c,o,F,f,!1);const Rn=a.listen(Rt,d,f);K.push(f,Rn),x&&x.push(d,et,zt,zt+1)}}else f=sT(c,o,F,f,!1);const fe=c.outputs;let je;if(ce&&null!==fe&&(je=fe[d])){const ot=je.length;if(ot)for(let Rt=0;Rt<ot;Rt+=2){const cr=o[je[Rt]][je[Rt+1]].subscribe(f),Zs=K.length;K.push(f,cr),x&&x.push(d,c.index,Zs,-(Zs+1))}}}(f,d,d[en],g,i,o,c),k_}function iT(i,o,a,c){try{return Or(6,o,a),!1!==a(c)}catch(d){return D_(i,d),!1}finally{Or(7,o,a)}}function sT(i,o,a,c,d){return function f(g){if(g===Function)return c;Nd(i.componentOffset>-1?sr(i.index,o):o);let D=iT(o,a,c,g),x=f.__ngNextListenerFn__;for(;x;)D=iT(o,a,x,g)&&D,x=x.__ngNextListenerFn__;return d&&!1===D&&g.preventDefault(),D}}function oT(i=1){return function Fe(i){return(Jt.lFrame.contextLView=function jt(i,o){for(;i>0;)o=o[pi],i--;return o}(i,Jt.lFrame.contextLView))[ur]}(i)}function BA(i,o){let a=null;const c=function Ci(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?ns(i,f,!0):ys(c,f))return d}else a=d}return a}function aT(i){const o=Qe()[ir][Wr];if(!o.projection){const c=o.projection=Hs(i?i.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const g=i?BA(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function lT(i,o=0,a){const c=Qe(),d=Mn(),f=Dc(d,gn+i,16,null,a||null);null===f.projection&&(f.projection=o),Ao(),(!c[zi]||Jo())&&32!=(32&f.flags)&&function u0(i,o,a){d0(o[en],0,o,a,Lh(i,a,o),c0(a.parent||o[Wr],a,o))}(d,c,f)}function e1(i,o,a){return wf(i,"",o,"",a),e1}function wf(i,o,a,c,d){const f=Qe(),g=Cc(f,o,a,c);return g!==wn&&Ws(Mn(),Ht(),f,i,g,f[en],d,!1),wf}function Yd(i,o){return i<<17|o<<2}function ua(i){return i>>17&32767}function Jr(i){return 2|i}function tn(i){return(131068&i)>>2}function B_(i,o){return-131069&i|o<<2}function j_(i){return 1|i}function n1(i,o,a,c,d){const f=i[a+1],g=null===o;let y=c?ua(f):tn(f),D=!1;for(;0!==y&&(!1===D||g);){const F=i[y+1];_T(i[y],o)&&(D=!0,i[y+1]=c?j_(F):Jr(F)),y=c?ua(F):tn(F)}D&&(i[a+1]=c?Jr(f):j_(f))}function _T(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Mo(i,o)>=0}const vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function r1(i){return i.substring(vi.key,vi.keyEnd)}function i1(i,o){const a=vi.textEnd;return a===o?-1:(o=vi.keyEnd=function Df(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,vi.key=o,a),Qd(i,o,a))}function Qd(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function U_(i,o,a){return bi(i,o,a,!1),U_}function xl(i,o){return bi(i,o,null,!0),xl}function G_(i){Ei(Fu,ho,i,!0)}function ho(i,o){for(let a=function vT(i){return function o1(i){vi.key=0,vi.keyEnd=0,vi.value=0,vi.valueEnd=0,vi.textEnd=i.length}(i),i1(i,Qd(i,0,vi.textEnd))}(o);a>=0;a=i1(o,a))Is(i,r1(o),!0)}function bi(i,o,a,c){const d=Qe(),f=Mn(),g=oo(2);f.firstUpdatePass&&c1(f,i,g,c),o!==wn&&Qi(d,g,o)&&If(f,f.data[It()],d,d[en],i,d[g+1]=function TT(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=J(hc(i)))),i}(o,a),c,g)}function Ei(i,o,a,c){const d=Mn(),f=oo(2);d.firstUpdatePass&&c1(d,null,f,c);const g=Qe();if(a!==wn&&Qi(g,f,a)){const y=d.data[It()];if(ug(y,c)&&!l1(d,f)){let D=c?y.classesWithoutHost:y.stylesWithoutHost;null!==D&&(a=Ue(D,a||"")),qb(d,y,g,a,c)}else!function d1(i,o,a,c,d,f,g,y){d===wn&&(d=un);let D=0,x=0,F=0<d.length?d[0]:null,K=0<f.length?f[0]:null;for(;null!==F||null!==K;){const ce=D<d.length?d[D+1]:void 0,fe=x<f.length?f[x+1]:void 0;let ot,je=null;F===K?(D+=2,x+=2,ce!==fe&&(je=K,ot=fe)):null===K||null!==F&&F<K?(D+=2,je=F):(x+=2,je=K,ot=fe),null!==je&&If(i,o,a,c,je,ot,g,y),F=D<d.length?d[D]:null,K=x<f.length?f[x]:null}}(d,y,g,g[en],g[f+1],g[f+1]=function da(i,o,a){if(null==a||""===a)return un;const c=[],d=hc(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(i,o,a),c,f)}}function l1(i,o){return o>=i.expandoStartIndex}function c1(i,o,a,c){const d=i.data;if(null===d[a+1]){const f=d[It()],g=l1(i,a);ug(f,c)&&null===o&&!g&&(o=!1),o=function wT(i,o,a,c){const d=function id(i){const o=Jt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=ku(a=cg(null,i,o,a,c),o.attrs,c),f=null);else{const g=o.directiveStylingLast;if(-1===g||i[g]!==d)if(a=cg(d,i,o,a,c),null===f){let D=function u1(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==tn(c))return i[ua(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=cg(null,i,o,D[1],c),D=ku(D,o.attrs,c),function DT(i,o,a,c){i[ua(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else f=function Ac(i,o,a){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=ku(c,i[f].hostAttrs,a);return ku(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,c),function gT(i,o,a,c,d,f){let g=f?o.classBindings:o.styleBindings,y=ua(g),D=tn(g);i[c]=a;let F,x=!1;if(Array.isArray(a)?(F=a[1],(null===F||Mo(a,F)>0)&&(x=!0)):F=a,d)if(0!==D){const ce=ua(i[y+1]);i[c+1]=Yd(ce,y),0!==ce&&(i[ce+1]=B_(i[ce+1],c)),i[y+1]=function V_(i,o){return 131071&i|o<<17}(i[y+1],c)}else i[c+1]=Yd(y,0),0!==y&&(i[y+1]=B_(i[y+1],c)),y=c;else i[c+1]=Yd(D,0),0===y?y=c:i[D+1]=B_(i[D+1],c),D=c;x&&(i[c+1]=Jr(i[c+1])),n1(i,F,c,!0),n1(i,F,c,!1),function mT(i,o,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&Mo(f,o)>=0&&(a[c+1]=j_(a[c+1]))}(o,F,i,c,f),g=Yd(y,D),f?o.classBindings=g:o.styleBindings=g}(d,f,o,a,g,c)}}function cg(i,o,a,c,d){let f=null;const g=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<g&&(f=o[y],c=ku(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),c}function ku(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Is(i,g,!!a||o[++f]))}return void 0===i?null:i}function Fu(i,o,a){const c=String(o);""!==c&&!c.includes(" ")&&Is(i,c,a)}function If(i,o,a,c,d,f,g,y){if(!(3&o.type))return;const D=i.data,x=D[y+1],F=function pT(i){return 1==(1&i)}(x)?h1(D,o,a,d,tn(x),g):void 0;H_(F)||(H_(f)||function h(i){return 2==(2&i)}(x)&&(f=h1(D,null,a,d,y,g)),function qw(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:_l.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=_l.Important),i.setStyle(a,c,d,f))}}(c,g,Ma(It(),a),d,f))}function h1(i,o,a,c,d,f){const g=null===o;let y;for(;d>0;){const D=i[d],x=Array.isArray(D),F=x?D[1]:D,K=null===F;let ce=a[d+1];ce===wn&&(ce=K?un:void 0);let fe=K?dd(ce,c):F===c?ce:void 0;if(x&&!H_(fe)&&(fe=dd(D,c)),H_(fe)&&(y=fe,g))return y;const je=i[d+1];d=g?ua(je):tn(je)}if(null!==o){let D=f?o.residualClasses:o.residualStyles;null!=D&&(y=dd(D,c))}return y}function H_(i){return void 0!==i}function ug(i,o){return 0!=(i.flags&(o?8:16))}function CT(i,o=""){const a=Qe(),c=Mn(),d=i+gn,f=c.firstCreatePass?Dc(c,d,1,o,null):c.data[d],g=IT(c,a,f,o,i);a[d]=g,ao()&&dc(c,a,g,f),Oi(f,!1)}let IT=(i,o,a,c,d)=>(lo(!0),cu(o[en],c));function f1(i){return z_("",i,""),f1}function z_(i,o,a){const c=Qe(),d=Cc(c,i,o,a);return d!==wn&&function ca(i,o,a){const c=Ma(o,i);!function Ph(i,o,a){i.setValue(o,a)}(i[en],c,a)}(c,It(),d),z_}function K_(i,o,a){Ei(Is,ho,Cc(Qe(),i,o,a),!0)}function Jd(i,o,a){const c=Qe();return Qi(c,Lt(),o)&&Ws(Mn(),Ht(),c,i,o,c[en],a,!0),Jd}const Lu=void 0;var I1=["en",[["a","p"],["AM","PM"],Lu],[["AM","PM"],Lu,Lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lu,"{1} 'at' {0}",Lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jT(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Xd={};function Vu(i){const o=function $T(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=J_(o);if(a)return a;const c=o.split("-")[0];if(a=J_(c),a)return a;if("en"===c)return I1;throw new be(701,!1)}function Mf(i){return Vu(i)[eh.PluralCase]}function J_(i){return i in Xd||(Xd[i]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[i]),Xd[i]}var eh=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(eh||{});const Bu="en-US",Sc={marker:"element"},pg={marker:"ICU"};var ps=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(ps||{});let gg=Bu;function mg(i){(function St(i,o){null==i&&at(o,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(gg=i.toLowerCase().replace(/_/g,"-"))}function M1(i,o,a){const c=o.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Dm(i,0,a):Jn(a[d])}function R1(i,o,a,c,d){const f=o.insertBeforeIndex;if(Array.isArray(f)){let g=c,y=null;if(3&o.type||(y=g,g=d),null!==g&&-1===o.componentOffset)for(let D=1;D<f.length;D++)uu(i,g,a[f[D]],y,!1)}}function Rf(i,o){if(i.push(o),i.length>1)for(let a=i.length-2;a>=0;a--){const c=i[a];X_(c)||ey(c,o)&&null===ty(c)&&O1(c,o.index)}}function X_(i){return!(64&i.type)}function ey(i,o){return X_(o)||i.index>o.index}function ty(i){const o=i.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function O1(i,o){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=o:(vd(M1,R1),i.insertBeforeIndex=o)}function P1(i,o,a){const c=c_(i,a,64,null,null);return Rf(o,c),c}function j1(){const i=[];let a,c,o=-1;function f(y,D){o=0;const x=function _g(i,o){const a=o[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(y,D);c=null!==x?y.remove[x]:un}function g(){if(o<c.length){const y=c[o++];return y>0?a[y]:(i.push(o,c),f(a[wt].data[~y],a),g())}return 0===i.length?null:(c=i.pop(),o=i.pop(),g())}return function d(y,D){for(a=D;i.length;)i.pop();return f(y.value,D),g}}const iy=/\ufffd(\d+):?\d*\ufffd/gi,WA=/\ufffd(\d+)\ufffd/,JT=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Nf="\ufffd",$1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,XT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,G1=/\uE500/g;function vg(i,o,a,c,d,f,g){const y=Mu(i,c,1,null);let D=y<<ps.SHIFT,x=Tn();o===x&&(x=null),null===x&&(D|=ps.APPEND_EAGERLY),g&&(D|=ps.COMMENT,function Jv(i){void 0===fp&&(fp=i())}(j1)),d.push(D,null===f?"":f);const F=c_(i,y,g?32:1,null===f?"":f,null);Rf(a,F);const K=F.index;return Oi(F,!1),null!==x&&o!==x&&function th(i,o){let a=i.insertBeforeIndex;null===a?(vd(M1,R1),a=i.insertBeforeIndex=[null,o]):(function xn(i,o,a){i!=o&&at(a,i,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(x,K),F}function KA(i,o,a,c,d,f,g){const y=g.match(iy),D=vg(i,o,a,f,c,y?null:g,!1);y&&bg(d,g,D.index,null,0,null)}function bg(i,o,a,c,d,f){const g=i.length,y=g+1;i.push(null,null);const D=g+2,x=o.split(iy);let F=0;for(let K=0;K<x.length;K++){const ce=x[K];if(1&K){const fe=d+parseInt(ce,10);i.push(-1-fe),F|=H1(fe)}else""!==ce&&i.push(ce)}return i.push(a<<2|(c?1:0)),c&&i.push(c,f),i[g]=F,i[y]=i.length-D,F}function H1(i){return 1<<Math.min(i,31)}function rC(i){let o,f,a="",c=0,d=!1;for(;null!==(o=$1.exec(i));)d?o[0]===`${Nf}/*${f}${Nf}`&&(c=o.index,d=!1):(a+=i.substring(c,o.index+o[0].length),f=o[1],d=!0);return a+=i.slice(c),a}function sC(i,o,a,c,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:Mu(i,o,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function cC(i,o,a){i.push(H1(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,f),function x1(i,o,a){const c=i.data[o];null===c?i.data[o]=a:c.value=a}(i,f,y);const D=d.values;for(let x=0;x<D.length;x++){const F=D[x],K=[];for(let ce=0;ce<F.length;ce++){const fe=F[ce];if("string"!=typeof fe){const je=K.push(fe)-1;F[ce]=`\x3c!--\ufffd${je}\ufffd--\x3e`}}g=QA(i,y,o,a,c,d.cases[x],F.join(""),K)|g}g&&function uC(i,o,a){i.push(o,1,a<<2|3)}(a,g,f)}function YA(i){const o=[],a=[];let c=1,d=0;const f=z1(i=i.replace(JT,function(g,y,D){return c="select"===D?0:1,d=parseInt(y.slice(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&o.push(y);const D=z1(f[g++]);o.length>a.length&&a.push(D)}return{type:c,mainBinding:d,cases:o,values:a}}function z1(i){if(!i)return[];let o=0;const a=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const D=i.substring(o,y);JT.test(D)?c.push(YA(D)):c.push(D),o=y+1}}else{if(0==a.length){const D=i.substring(o,y);c.push(D),o=y+1}a.push("{")}}const g=i.substring(o);return c.push(g),c}function QA(i,o,a,c,d,f,g,y){const D=[],x=[],F=[];o.cases.push(f),o.create.push(D),o.remove.push(x),o.update.push(F);const ce=function y0(i){const o=new El(i);return function b0(){try{return!!(new window.DOMParser).parseFromString(wr(""),"text/html")}catch{return!1}}()?new v0(o):o}(La()).getInertBodyElement(g),fe=function Nm(i){return"content"in i&&function Wh(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}(ce)||ce;return fe?oC(i,o,a,c,D,x,F,fe,d,y,0):0}function oC(i,o,a,c,d,f,g,y,D,x,F){let K=0,ce=y.firstChild;for(;ce;){const fe=Mu(i,a,1,null);switch(ce.nodeType){case Node.ELEMENT_NODE:const je=ce,ot=je.tagName.toLowerCase();if(Ep.hasOwnProperty(ot)){oy(d,Sc,ot,D,fe),i.data[fe]=ot;const dn=je.attributes;for(let Rn=0;Rn<dn.length;Rn++){const cr=dn.item(Rn),Zs=cr.name.toLowerCase();cr.value.match(iy)?xm.hasOwnProperty(Zs)&&bg(g,cr.value,fe,cr.name,0,wp[Zs]?bp:null):dC(d,fe,cr)}K=oC(i,o,a,c,d,f,g,ce,fe,x,F+1)|K,aC(f,fe,F)}break;case Node.TEXT_NODE:const Rt=ce.textContent||"",zt=Rt.match(iy);oy(d,null,zt?"":Rt,D,fe),aC(f,fe,F),zt&&(K=bg(g,Rt,fe,null,0,null)|K);break;case Node.COMMENT_NODE:const et=WA.exec(ce.textContent||"");if(et){const Rn=x[parseInt(et[1],10)];oy(d,pg,"",D,fe),sC(i,a,c,D,Rn,fe),lC(f,fe,F)}}ce=ce.nextSibling}return K}function aC(i,o,a){0===a&&i.push(o)}function lC(i,o,a){0===a&&(i.push(~o),i.push(o))}function oy(i,o,a,c,d){null!==o&&i.push(o),i.push(a,d,function zT(i,o,a){return i|o<<17|a<<1}(0,c,d))}function dC(i,o,a){i.push(o<<1|1,a.name,a.value)}function Uu(i,o,a=-1){const c=Mn(),d=Qe(),f=gn+i,g=so(c.consts,o),y=Tn();c.firstCreatePass&&function qA(i,o,a,c,d,f){const g=Tn(),y=[],D=[],x=[[]];d=function iC(i,o){if(function ZA(i){return-1===i}(o))return rC(i);{const a=i.indexOf(`:${o}${Nf}`)+2+o.toString().length,c=i.search(new RegExp(`${Nf}\\/\\*\\d+:${o}${Nf}`));return rC(i.substring(a,c))}}(d,f);const F=function sy(i){return i.replace(G1," ")}(d).split(XT);for(let K=0;K<F.length;K++){let ce=F[K];if(1&K){const fe=47===ce.charCodeAt(0),ot=(ce.charCodeAt(fe?1:0),gn+Number.parseInt(ce.substring(fe?2:1)));if(fe)x.shift(),Oi(Tn(),!1);else{const Rt=P1(i,x[0],ot);x.unshift([]),Oi(Rt,!0)}}else{const fe=z1(ce);for(let je=0;je<fe.length;je++){let ot=fe[je];if(1&je){const Rt=ot;if("object"!=typeof Rt)throw new Error(`Unable to parse ICU expression in "${d}" message.`);sC(i,a,D,o,Rt,vg(i,g,x[0],a,y,"",!0).index)}else""!==ot&&KA(i,g,x[0],y,D,a,ot)}}}i.data[c]={create:y,update:D}}(c,null===y?0:y.index,d,f,g,a),2===c.type?d[ir][Pt]|=32:d[Pt]|=32;const D=c.data[f],F=o0(c,y===d[Wr]?null:y,d);(function yg(i,o,a,c){const d=i[en];for(let f=0;f<o.length;f++){const g=o[f++],y=o[f],x=(g&ps.APPEND_EAGERLY)===ps.APPEND_EAGERLY,F=g>>>ps.SHIFT;let K=i[F];null===K&&(K=i[F]=(g&ps.COMMENT)===ps.COMMENT?d.createComment(y):cu(d,y)),x&&null!==a&&uu(d,a,K,c,!1)}})(d,D.create,F,y&&8&y.type?d[y.index]:null),xe(!0)}function K1(i,o,a){Uu(i,o,a),function ly(){xe(!1)}()}function uy(i,o,a,c,d){if(i=Ge(i),Array.isArray(i))for(let f=0;f<i.length;f++)uy(i[f],o,a,c,d);else{const f=Mn(),g=Qe(),y=Zr();let D=xo(i)?i:Ge(i.provide);const x=M0(i),F=1048575&y.providerIndexes,K=y.directiveStart,ce=y.providerIndexes>>20;if(xo(i)||!i.multi){const fe=new Us(x,d,wc),je=Gu(D,o,d?F:F+ce,K);-1===je?(eu(Jc(y,g),f,D),dy(f,i,o.length),o.push(D),y.directiveStart++,y.directiveEnd++,d&&(y.providerIndexes+=1048576),a.push(fe),g.push(fe)):(a[je]=fe,g[je]=fe)}else{const fe=Gu(D,o,F+ce,K),je=Gu(D,o,F,F+ce),Rt=je>=0&&a[je];if(d&&!Rt||!d&&!(fe>=0&&a[fe])){eu(Jc(y,g),f,D);const zt=function Rc(i,o,a,c,d){const f=new Us(i,a,wc);return f.multi=[],f.index=o,f.componentProviders=0,Y1(f,d,c&&!a),f}(d?Q1:Mc,a.length,d,c,x);!d&&Rt&&(a[je].providerFactory=zt),dy(f,i,o.length,0),o.push(D),y.directiveStart++,y.directiveEnd++,d&&(y.providerIndexes+=1048576),a.push(zt),g.push(zt)}else dy(f,i,fe>-1?fe:je,Y1(a[d?je:fe],x,!d&&c));!d&&c&&Rt&&a[je].componentProviders++}}}function dy(i,o,a,c){const d=xo(o),f=function A0(i){return!!i.useClass}(o);if(d||f){const D=(f?Ge(o.useClass):o).prototype.ngOnDestroy;if(D){const x=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const F=x.indexOf(a);-1===F?x.push(a,[c,D]):x[F+1].push(c,D)}else x.push(a,D)}}}function Y1(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Gu(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Mc(i,o,a,c){return wi(this.multi,[])}function Q1(i,o,a,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=hl(a,a[wt],this.providerFactory.index,c);f=y.slice(0,g),wi(d,f);for(let D=g;D<y.length;D++)f.push(y[D])}else f=[],wi(d,f);return f}function wi(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function J1(i,o=[]){return a=>{a.providersResolver=(c,d)=>function Z1(i,o,a){const c=Mn();if(c.firstCreatePass){const d=Pn(i);uy(a,c.data,c.blueprint,d,!0),uy(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class nh{}class hy{}function X1(i,o){return new Eg(i,o??null,[])}class Eg extends nh{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LD(this);const d=ni(o);this._bootstrapComponents=aa(d.bootstrap),this._r3Injector=H0(o,a,[{provide:nh,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver},...c],J(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wg extends hy{constructor(o){super(),this.moduleType=o}create(o){return new Eg(this.moduleType,o,[])}}class fy extends nh{constructor(o){super(),this.componentFactoryResolver=new LD(this),this.instance=null;const a=new xp([...o.providers,{provide:nh,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver}],o.parent||ra(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function py(i,o,a=null){return new fy({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let Dg=(()=>{var i;class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=_u(0,c.type),f=d.length>0?py([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,f)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=Qt({token:i,providedIn:"environment",factory:()=>new i(Xe(ia))}),o})();function gy(i){i.getStandaloneInjector=o=>o.get(Dg).getOrCreateStandaloneInjector(i)}function Pl(i,o,a,c){return function oE(i,o,a,c,d,f){const g=o+a;return Qi(i,g,d)?ja(i,g+1,f?c.call(f,d):c(d)):Hu(i,g+1)}(Qe(),tr(),i,o,a,c)}function Ty(i,o,a,c,d){return function TC(i,o,a,c,d,f,g){const y=o+a;return Tc(i,y,d,f)?ja(i,y+2,g?c.call(g,d,f):c(d,f)):Hu(i,y+2)}(Qe(),tr(),i,o,a,c,d)}function EC(i,o,a,c,d,f){return function CC(i,o,a,c,d,f,g,y){const D=o+a;return function _f(i,o,a,c,d){const f=Tc(i,o,a,c);return Qi(i,o+2,d)||f}(i,D,d,f,g)?ja(i,D+3,y?c.call(y,d,f,g):c(d,f,g)):Hu(i,D+3)}(Qe(),tr(),i,o,a,c,d,f)}function Hu(i,o){const a=i[o];return a===wn?void 0:a}function rh(){return this._results[Symbol.iterator]()}class zu{get changes(){return this._changes||(this._changes=new oa)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zu.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=rh)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Er(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function uo(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=o[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Sy(i,o,a,c=!0){const d=o[wt];if(function vl(i,o,a,c){const d=vr+c,f=a.length;c>0&&(a[d-1][or]=o),c<f-vr?(o[or]=a[d],Dh(a,vr+c,o)):(a.push(o),o[or]=null),o[Zn]=a;const g=o[bo];null!==g&&a!==g&&function s0(i,o){const a=i[wo];o[ir]!==o[Zn][Zn][ir]&&(i[Gl]=!0),null===a?i[wo]=[o]:a.push(o)}(g,o);const y=o[ri];null!==y&&y.insertView(i),o[Pt]|=128}(d,o,i,a),c){const f=mp(a,i),g=o[en],y=du(g,i[ii]);null!==y&&function Hw(i,o,a,c,d,f){c[Un]=d,c[Wr]=o,bd(i,c,a,1,d,f)}(d,i[Wr],g,o,y,f)}}let xc=(()=>{class o{}return o.__NG_ELEMENT_ID__=uE,o})();const lE=xc,cE=class extends lE{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,c){const d=function Ay(i,o,a,c){const d=o.tView,y=sf(i,d,a,4096&i[Pt]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);y[bo]=i[o.index];const x=i[ri];return null!==x&&(y[ri]=x.createEmbeddedView(d)),Jp(d,y,a),y}(this._declarationLView,this._declarationTContainer,o,{injector:a,hydrationInfo:c});return new Ru(d)}};function uE(){return ih(Zr(),Qe())}function ih(i,o){return 4&i.type?new cE(o,i,Cl(i,o)):null}let Mg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ry,o})();function Ry(){return pE(Zr(),Qe())}const Rg=Mg,hE=class extends Rg{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const o=oc(this._hostTNode,this._hostLView);if(Yc(o)){const a=Qc(o,this._hostLView),c=Oa(o);return new xr(a[wt].data[c+8],a)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=fE(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(o,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const y=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(y,d,false),y}createComponent(o,a,c,d,f){const g=o&&!function Xt(i){return"function"==typeof i}(o);let y;if(g)y=a;else{const ot=a||{};y=ot.index,c=ot.injector,d=ot.projectableNodes,f=ot.environmentInjector||ot.ngModuleRef}const D=g?o:new Ir(ln(o)),x=c||this.parentInjector;if(!f&&null==D.ngModule){const Rt=(g?x:this.parentInjector).get(ia,null);Rt&&(f=Rt)}ln(D.componentType??{});const fe=D.create(x,d,null,f);return this.insertImpl(fe.hostView,y,false),fe}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView;if(function Jl(i){return Mr(i[Zn])}(d)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const x=d[Zn],F=new hE(x,x[Wr],x[Zn]);F.detach(F.indexOf(o))}}const g=this._adjustIndex(a),y=this._lContainer;return Sy(y,d,g,!c),o.attachToViewContainerRef(),Dh(Og(y),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=fE(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=kh(this._lContainer,a);c&&(ea(Og(this._lContainer),a),uc(c[wt],c))}detach(o){const a=this._adjustIndex(o,-1),c=kh(this._lContainer,a);return c&&null!=ea(Og(this._lContainer),a)?new Ru(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function fE(i){return i[8]}function Og(i){return i[8]||(i[8]=[])}function pE(i,o){let a;const c=o[i.index];return Mr(c)?a=c:(a=wb(c,o,null,i),o[i.index]=a,Yp(o,a)),mE(a,o,i,c),new hE(a,i,o)}let mE=function MC(i,o,a,c){if(i[ii])return;let d;d=8&a.type?Jn(c):function gE(i,o){const a=i[en],c=a.createComment(""),d=mi(o,i);return uu(a,du(a,d),c,function l0(i,o){return i.nextSibling(o)}(a,d),!1),c}(o,a),i[ii]=d};class _E{constructor(o){this.queryList=o,this.matches=null}clone(){return new _E(this.queryList)}setDirty(){this.queryList.setDirty()}}class yE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new yE(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==FC(o,a).matches&&this.queries[a].setDirty()}}class xg{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class xy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new xy(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Pg{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Pg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,a,Py(a,f)),this.matchTNodeWithReadOption(o,a,bh(a,o,f,!1,!1))}else c===xc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,bh(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===wu||d===Mg||d===xc&&4&a.type)this.addMatch(a.index,-2);else{const f=bh(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Py(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function cS(i,o,a,c){return-1===a?function OC(i,o){return 11&i.type?Cl(i,o):4&i.type?ih(i,o):null}(o,i):-2===a?function xC(i,o,a){return a===wu?Cl(o,i):a===xc?ih(o,i):a===Mg?pE(o,i):void 0}(i,o,c):hl(i,i[wt],a,o)}function oh(i,o,a,c){const d=o[ri].queries[c];if(null===d.matches){const f=i.data,g=a.matches,y=[];for(let D=0;D<g.length;D+=2){const x=g[D];y.push(x<0?null:cS(o,f[x],g[D+1],a.metadata.read))}d.matches=y}return d.matches}function Bf(i,o,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const g=oh(i,o,d,a);for(let y=0;y<f.length;y+=2){const D=f[y];if(D>0)c.push(g[y/2]);else{const x=f[y+1],F=o[-D];for(let K=vr;K<F.length;K++){const ce=F[K];ce[bo]===ce[Zn]&&Bf(ce[wt],ce,x,c)}if(null!==F[wo]){const K=F[wo];for(let ce=0;ce<K.length;ce++){const fe=K[ce];Bf(fe[wt],fe,x,c)}}}}}return c}function Ny(i){const o=Qe(),a=Mn(),c=mh();_(c+1);const d=FC(a,c);if(i.dirty&&function Xu(i){return 4==(4&i[Pt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Bf(a,o,c,[]):oh(a,o,d,c);i.reset(f,Zm),i.notifyOnChanges()}return!0}return!1}function ky(i,o,a){const c=Mn();c.firstCreatePass&&(kC(c,new xg(i,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Ly(c,Qe(),o)}function Fy(i,o,a,c){const d=Mn();if(d.firstCreatePass){const f=Zr();kC(d,new xg(o,a,c),f.index),function uS(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Ly(d,Qe(),a)}function PC(){return function NC(i,o){return i[ri].queries[o].queryList}(Qe(),mh())}function Ly(i,o,a){const c=new zu(4==(4&a));(function p_(i,o,a,c){const d=Db(o);d.push(a),i.firstCreatePass&&Tb(i).push(c,d.length-1)})(i,o,c,c.destroy),null===o[ri]&&(o[ri]=new yE),o[ri].queries.push(new _E(c))}function kC(i,o,a){null===i.queries&&(i.queries=new xy),i.queries.track(new Pg(o,a))}function FC(i,o){return i.queries.getByIndex(o)}function LC(i,o){return ih(i,o)}function Ng(i){return!!ni(i)}const ZC=new rr("Application Initializer");let NE=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Ct(ZC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const f of this.appInits){const g=f();if(Jb(g))c.push(g);else if(Xb(g)){const y=new Promise((D,x)=>{g.subscribe({complete:D,error:x})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),YC=(()=>{var i;class o{log(c){console.log(c)}warn(c){console.warn(c)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const Yy=new rr("LocaleId",{providedIn:"root",factory:()=>Ct(Yy,yt.Optional|yt.SkipSelf)||function bS(){return typeof $localize<"u"&&$localize.locale||Bu}()}),QC=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kE=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ie.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class XC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Qy=(()=>{var i;class o{compileModuleSync(c){return new wg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=aa(ni(c).declarations).reduce((y,D)=>{const x=ln(D);return x&&y.push(new Ir(x)),y},[]);return new XC(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const tv=new rr(""),GE=new rr("");let Ur,nv=(()=>{var i;class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ur||(function dI(i){Ur=i}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return(i=o).\u0275fac=function(c){return new(c||i)(Xe(yi),Xe(rv),Xe(GE))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),o})(),rv=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Ur?.findTestabilityInTree(this,c,d)??null}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Fi=null;const iv=new rr("AllowMultipleToken"),Bg=new rr("PlatformDestroyListeners"),sv=new rr("appBootstrapListener");class qE{constructor(o,a){this.name=o,this.token=a}}function ZE(i,o,a=[]){const c=`Platform: ${o}`,d=new rr(c);return(f=[])=>{let g=Ug();if(!g||g.injector.get(iv,!1)){const y=[...a,...f,{provide:d,useValue:!0}];i?i(y):function fI(i){if(Fi&&!Fi.get(iv,!1))throw new be(400,!1);(function WE(){!function us(i){Yo=i}(()=>{throw new be(600,!1)})})(),Fi=i;const o=i.get(qs);(function KE(i){i.get(Id,null)?.forEach(a=>a())})(i)}(function ha(i=[],o){return sa.create({name:o,providers:[{provide:Dl,useValue:"platform"},{provide:Bg,useValue:new Set([()=>Fi=null])},...i]})}(y,c))}return function jg(i){const o=Ug();if(!o)throw new be(401,!1);return o}()}}function Ug(){return Fi?.get(qs)??null}let qs=(()=>{var i;class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function fa(i="zone.js",o){return"noop"===i?new bD:"zone.js"===i?new yi(o):i}(d?.ngZone,function No(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const g=function eE(i,o,a){return new Eg(i,o,a)}(c.moduleType,this.injector,function ov(i){return[{provide:yi,useFactory:i},{provide:gu,multi:!0,useFactory:()=>{const o=Ct(Hf,{optional:!0});return()=>o.initialize()}},{provide:YE,useFactory:QE},{provide:n_,useFactory:r_}]}(()=>f)),y=g.injector.get(Ec,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:x=>{y.handleError(x)}});g.onDestroy(()=>{Nl(this._modules,g),D.unsubscribe()})}),function Ks(i,o,a){try{const c=a();return Jb(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(y,f,()=>{const D=g.injector.get(NE);return D.runInitializers(),D.donePromise.then(()=>(mg(g.injector.get(Yy,Bu)||Bu),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,d=[]){const f=$g({},d);return function HE(i,o,a){const c=new wg(a);return Promise.resolve(c)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Ga);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new be(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Bg,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(c){return new(c||i)(Xe(sa))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function $g(i,o){return Array.isArray(o)?o.reduce($g,i):{...i,...o}}let Ga=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct(YE),this.zoneIsStable=Ct(n_),this.componentTypes=[],this.components=[],this.isStable=Ct(kE).hasPendingTasks.pipe((0,Ie.w)(c=>c?(0,ae.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,de.B)()),this._injector=Ct(ia)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof V0;if(!this._injector.get(NE).done)throw!f&&wa(c),new be(405,!1);let y;y=f?c:this._injector.get(Eu).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const D=function hI(i){return i.isBoundToModule}(y)?void 0:this._injector.get(nh),F=y.create(sa.NULL,[],d||y.selector,D),K=F.location.nativeElement,ce=F.injector.get(tv,null);return ce?.registerApplication(K),F.onDestroy(()=>{this.detachView(F.hostView),Nl(this.components,F),ce?.unregisterApplication(K)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Nl(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(sv,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Nl(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function Nl(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const YE=new rr("",{providedIn:"root",factory:()=>Ct(Ec).handleError.bind(void 0)});function QE(){const i=Ct(yi),o=Ct(Ec);return a=>i.runOutsideAngular(()=>o.handleError(a))}let Hf=(()=>{var i;class o{constructor(){this.zone=Ct(yi),this.applicationRef=Ct(Ga)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function gI(){return!1}let mI=(()=>{class o{}return o.__NG_ELEMENT_ID__=_I,o})();function _I(i){return function yI(i,o,a){if(Wi(i)&&!a){const c=sr(i.index,o);return new Ru(c,c)}return 47&i.type?new Ru(o[ir],o):null}(Zr(),Qe(),16==(16&i))}class hv{constructor(){}supports(o){return $d(o)}create(o){return new vI(o)}}const Wf=(i,o)=>o;class vI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wf}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const g=!c||a&&a.currentIndex<fv(c,d,f)?a:c,y=fv(g,d,f),D=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const x=y-d,F=D-d;if(x!=F){for(let ce=0;ce<x;ce++){const fe=ce<f.length?f[ce]:f[ce]=0,je=fe+ce;F<=je&&je<x&&(f[ce]=fe+1)}f[g.previousIndex]=F-x}}y!==D&&o(g,y,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!$d(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)f=o[y],g=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,f,g,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,y),c=!0),a=a._next}else d=0,function Bb(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,y=>{g=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,y,g,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new tw(a,c),f,d),o}_verifyReinsertion(o,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new ch),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ch),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class tw{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class ch{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new bI,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fv(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class zg{constructor(){}supports(o){return o instanceof Map||gf(o)}create(){return new EI}}class EI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||gf(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new nw(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class nw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new pv([new hv])}let pv=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||rw()),deps:[[o,new fr,new li]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new be(901,!1)}}return(i=o).\u0275prov=Qt({token:i,providedIn:"root",factory:rw}),o})();function Wg(){return new qg([new zg])}let qg=(()=>{var i;class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Wg()),deps:[[o,new fr,new li]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new be(901,!1)}}return(i=o).\u0275prov=Qt({token:i,providedIn:"root",factory:Wg}),o})();const DI=ZE(null,"core",[]);let TI=(()=>{var i;class o{constructor(c){}}return(i=o).\u0275fac=function(c){return new(c||i)(Xe(Ga))},i.\u0275mod=qa({type:i}),i.\u0275inj=Kn({}),o})();function NI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function WS(i,o){const a=ln(i),c=o.elementInjector||ra();return new Ir(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function kI(i){const o=ln(i);if(!o)return null;const a=new Ir(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(bt,Ce,k)=>{k.d(Ce,{Z:()=>it});var C=k(9058),ee=k(4537),H=k(7592),se=k(7879);class ie{constructor(dt,He){this._delegate=dt,this.firebase=He,(0,H._addComponent)(dt,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(dt,He=H._DEFAULT_ENTRY_NAME){var Ft;this._delegate.checkDestroyed();const Ot=this._delegate.container.getProvider(dt);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Ft=Ot.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:He})}_removeServiceInstance(dt,He=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(He)}_addComponent(dt){(0,H._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,H._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function pe(){const Ge=function Ie(Ge){const dt={},He={__esModule:!0,initializeApp:function be(ze,we={}){const qe=H.initializeApp(ze,we);if((0,C.r3)(dt,qe.name))return dt[qe.name];const pt=new Ge(qe,He);return dt[qe.name]=pt,pt},app:Ot,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function ye(ze){const we=ze.name,qe=we.replace("-compat","");if(H._registerComponent(ze)&&"PUBLIC"===ze.type){const pt=(Vt=Ot())=>{if("function"!=typeof Vt[qe])throw de.create("invalid-app-argument",{appName:we});return Vt[qe]()};void 0!==ze.serviceProps&&(0,C.ZB)(pt,ze.serviceProps),He[qe]=pt,Ge.prototype[qe]=function(...Vt){return this._getService.bind(this,we).apply(this,ze.multipleInstances?Vt:[])}}return"PUBLIC"===ze.type?He[qe]:null},removeApp:function Ft(ze){delete dt[ze]},useAsService:function Re(ze,we){return"serverAuth"===we?null:we},modularAPIs:H}};function Ot(ze){if(!(0,C.r3)(dt,ze=ze||H._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ze});return dt[ze]}return He.default=He,Object.defineProperty(He,"apps",{get:function Ve(){return Object.keys(dt).map(ze=>dt[ze])}}),Ot.App=Ge,He}(ie);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function dt(He){(0,C.ZB)(Ge,He)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),Ge}(),X=new se.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=Y;!function ve(Ge){(0,H.registerVersion)("@firebase/app-compat","0.2.13",Ge)}()},7592:(bt,Ce,k)=>{k.r(Ce),k.d(Ce,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ne,_DEFAULT_ENTRY_NAME:()=>Ae,_addComponent:()=>at,_addOrOverwriteComponent:()=>Wn,_apps:()=>Ze,_clearComponents:()=>In,_components:()=>St,_getProvider:()=>hn,_registerComponent:()=>Bt,_removeServiceInstance:()=>Qt,deleteApp:()=>Et,getApp:()=>We,getApps:()=>lt,initializeApp:()=>De,onLog:()=>Kt,registerVersion:()=>fn,setLogLevel:()=>yt});var ae,de,Ie,C=k(5861),ee=k(4537),H=k(7879),se=k(9058),ie=k(1878);class pe{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Y(Ke){const oe=Ke.getComponent();return"VERSION"===oe?.type}(Se)){const Je=Se.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Se=>Se).join(" ")}}const X="@firebase/app",J="0.9.13",Ue=new H.Yd("@firebase/app"),Ae="[DEFAULT]",Ye={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,St=new Map;function at(Ke,oe){try{Ke.container.addComponent(oe)}catch(Se){Ue.debug(`Component ${oe.name} failed to register with FirebaseApp ${Ke.name}`,Se)}}function Wn(Ke,oe){Ke.container.addOrOverwriteComponent(oe)}function Bt(Ke){const oe=Ke.name;if(St.has(oe))return Ue.debug(`There were multiple attempts to register component ${oe}.`),!1;St.set(oe,Ke);for(const Se of Ze.values())at(Se,Ke);return!0}function hn(Ke,oe){const Se=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),Ke.container.getProvider(oe)}function Qt(Ke,oe,Se=Ae){hn(Ke,oe).clearInstance(Se)}function In(){St.clear()}const sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ue{constructor(oe,Se,Je){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const ne="9.23.0";function De(Ke,oe={}){let Se=Ke;"object"!=typeof oe&&(oe={name:oe});const Je=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},oe),mt=Je.name;if("string"!=typeof mt||!mt)throw sn.create("bad-app-name",{appName:String(mt)});if(Se||(Se=(0,se.aH)()),!Se)throw sn.create("no-options");const Mt=Ze.get(mt);if(Mt){if((0,se.vZ)(Se,Mt.options)&&(0,se.vZ)(Je,Mt.config))return Mt;throw sn.create("duplicate-app",{appName:mt})}const jn=new ee.H0(mt);for(const B of St.values())jn.addComponent(B);const te=new ue(Se,Je,jn);return Ze.set(mt,te),te}function We(Ke=Ae){const oe=Ze.get(Ke);if(!oe&&Ke===Ae&&(0,se.aH)())return De();if(!oe)throw sn.create("no-app",{appName:Ke});return oe}function lt(){return Array.from(Ze.values())}function Et(Ke){return(ae=ae||(0,C.Z)(function*(oe){const Se=oe.name;Ze.has(Se)&&(Ze.delete(Se),yield Promise.all(oe.container.getProviders().map(Je=>Je.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function fn(Ke,oe,Se){var Je;let mt=null!==(Je=Ye[Ke])&&void 0!==Je?Je:Ke;Se&&(mt+=`-${Se}`);const Mt=mt.match(/\s|\//),jn=oe.match(/\s|\//);if(Mt||jn){const te=[`Unable to register library "${mt}" with version "${oe}":`];return Mt&&te.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Mt&&jn&&te.push("and"),jn&&te.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void Ue.warn(te.join(" "))}Bt(new ee.wA(`${mt}-version`,()=>({library:mt,version:oe}),"VERSION"))}function Kt(Ke,oe){if(null!==Ke&&"function"!=typeof Ke)throw sn.create("invalid-log-argument");(0,H.Am)(Ke,oe)}function yt(Ke){(0,H.Ub)(Ke)}const xt="firebase-heartbeat-database",$t=1,on="firebase-heartbeat-store";let Xn=null;function er(){return Xn||(Xn=(0,ie.X3)(xt,$t,{upgrade:(Ke,oe)=>{0===oe&&Ke.createObjectStore(on)}}).catch(Ke=>{throw sn.create("idb-open",{originalErrorMessage:Ke.message})})),Xn}function kn(Ke,oe){return(Ie=Ie||(0,C.Z)(function*(Se,Je){try{const Mt=(yield er()).transaction(on,"readwrite");yield Mt.objectStore(on).put(Je,Bn(Se)),yield Mt.done}catch(mt){if(mt instanceof se.ZR)Ue.warn(mt.message);else{const Mt=sn.create("idb-set",{originalErrorMessage:mt?.message});Ue.warn(Mt.message)}}})).apply(this,arguments)}function Bn(Ke){return`${Ke.name}!${Ke.options.appId}`}class yn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new Xr(Se),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var oe=this;return(0,C.Z)(function*(){const Je=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=yr();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==mt&&!oe._heartbeatsCache.heartbeats.some(Mt=>Mt.date===mt))return oe._heartbeatsCache.heartbeats.push({date:mt,agent:Je}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(Mt=>{const jn=new Date(Mt.date).valueOf();return Date.now()-jn<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,C.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Se=yr(),{heartbeatsToSend:Je,unsentEntries:mt}=function pn(Ke,oe=1024){const Se=[];let Je=Ke.slice();for(const mt of Ke){const Mt=Se.find(jn=>jn.agent===mt.agent);if(Mt){if(Mt.dates.push(mt.date),di(Se)>oe){Mt.dates.pop();break}}else if(Se.push({agent:mt.agent,dates:[mt.date]}),di(Se)>oe){Se.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Je}}(oe._heartbeatsCache.heartbeats),Mt=(0,se.L)(JSON.stringify({version:2,heartbeats:Je}));return oe._heartbeatsCache.lastSentHeartbeatDate=Se,mt.length>0?(oe._heartbeatsCache.heartbeats=mt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),Mt})()}}function yr(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,C.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function rn(Ke){return(de=de||(0,C.Z)(function*(oe){try{return yield(yield er()).transaction(on).objectStore(on).get(Bn(oe))}catch(Se){if(Se instanceof se.ZR)Ue.warn(Se.message);else{const Je=sn.create("idb-get",{originalErrorMessage:Se?.message});Ue.warn(Je.message)}}})).apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Se=this;return(0,C.Z)(function*(){var Je;if(yield Se._canUseIndexedDBPromise){const Mt=yield Se.read();return kn(Se.app,{lastSentHeartbeatDate:null!==(Je=oe.lastSentHeartbeatDate)&&void 0!==Je?Je:Mt.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Se=this;return(0,C.Z)(function*(){var Je;if(yield Se._canUseIndexedDBPromise){const Mt=yield Se.read();return kn(Se.app,{lastSentHeartbeatDate:null!==(Je=oe.lastSentHeartbeatDate)&&void 0!==Je?Je:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...oe.heartbeats]})}})()}}function di(Ke){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Fr(Ke){Bt(new ee.wA("platform-logger",oe=>new pe(oe),"PRIVATE")),Bt(new ee.wA("heartbeat",oe=>new yn(oe),"PRIVATE")),fn(X,J,Ke),fn(X,J,"esm2017"),fn("fire-js","")}("")},4097:(bt,Ce,k)=>{k.d(Ce,{C6:()=>C.getApps,Mq:()=>C.getApp});var C=k(7592);(0,C.registerVersion)("firebase","9.23.0","app")},120:(bt,Ce,k)=>{k.d(Ce,{Z:()=>C.Z});var C=k(3399);C.Z.registerVersion("firebase","9.23.0","app-compat")},2614:()=>{const bt=":";const In=function(ue,...ne){if(In.translate){const We=In.translate(ue,ne);ue=We[0],ne=We[1]}let De=sn(ue[0],ue.raw[0]);for(let We=1;We<ue.length;We++)De+=ne[We-1]+sn(ue[We],ue.raw[We]);return De},Kn=":";function sn(ue,ne){return ne.charAt(0)===Kn?ue.substring(function Te(ue,ne){for(let De=1,We=1;De<ue.length;De++,We++)if("\\"===ne[We])We++;else if(ue[De]===bt)return De;throw new Error(`Unterminated $localize metadata block in "${ne}".`)}(ue,ne)+1):ue}globalThis.$localize=In},6593:(bt,Ce,k)=>{k.d(Ce,{Dx:()=>Et,b2:()=>ue,q6:()=>Qt});var C=k(5879),ee=k(6814);class H extends ee.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends H{static makeCurrent(){(0,ee.HT)(new se)}onAndCancel(V,Q,j){return V.addEventListener(Q,j),()=>{V.removeEventListener(Q,j)}}dispatchEvent(V,Q){V.dispatchEvent(Q)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,Q){return(Q=Q||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,Q){return"window"===Q?window:"document"===Q?V:"body"===Q?V.body:null}getBaseHref(V){const Q=function ae(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==Q?null:function Ie(B){de=de||document.createElement("a"),de.setAttribute("href",B);const V=de.pathname;return"/"===V.charAt(0)?V:`/${V}`}(Q)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,ee.Mx)(document.cookie,V)}}let de,ie=null,Y=(()=>{var B;class V{build(){return new XMLHttpRequest}}return(B=V).\u0275fac=function(j){return new(j||B)},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();const X=new C.OlP("EventManagerPlugins");let J=(()=>{var B;class V{constructor(j,le){this._zone=le,this._eventNameToPlugin=new Map,j.forEach(ke=>{ke.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,le,ke){return this._findPluginFor(le).addEventListener(j,le,ke)}getZone(){return this._zone}_findPluginFor(j){let le=this._eventNameToPlugin.get(j);if(le)return le;if(le=this._plugins.find(Xe=>Xe.supports(j)),!le)throw new C.vHH(5101,!1);return this._eventNameToPlugin.set(j,le),le}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(X),C.LFG(C.R0b))},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();class Ue{constructor(V){this._doc=V}}const ve="ng-app-id";let it=(()=>{var B;class V{constructor(j,le,ke,Xe={}){this.doc=j,this.appId=le,this.nonce=ke,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ee.PM)(Xe),this.resetHostNodes()}addStyles(j){for(const le of j)1===this.changeUsageCount(le,1)&&this.onStyleAdded(le)}removeStyles(j){for(const le of j)this.changeUsageCount(le,-1)<=0&&this.onStyleRemoved(le)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(le=>le.remove()),j.clear());for(const le of this.getAllStyles())this.onStyleRemoved(le);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const le of this.getAllStyles())this.addStyleToHost(j,le)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const le of this.hostNodes)this.addStyleToHost(le,j)}onStyleRemoved(j){const le=this.styleRef;le.get(j)?.elements?.forEach(ke=>ke.remove()),le.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${ve}="${this.appId}"]`);if(j?.length){const le=new Map;return j.forEach(ke=>{null!=ke.textContent&&le.set(ke.textContent,ke)}),le}return null}changeUsageCount(j,le){const ke=this.styleRef;if(ke.has(j)){const Xe=ke.get(j);return Xe.usage+=le,Xe.usage}return ke.set(j,{usage:le,elements:[]}),le}getStyleElement(j,le){const ke=this.styleNodesInDOM,Xe=ke?.get(le);if(Xe?.parentNode===j)return ke.delete(le),Xe.removeAttribute(ve),Xe;{const Ut=this.doc.createElement("style");return this.nonce&&Ut.setAttribute("nonce",this.nonce),Ut.textContent=le,this.platformIsServer&&Ut.setAttribute(ve,this.appId),Ut}}addStyleToHost(j,le){const ke=this.getStyleElement(j,le);j.appendChild(ke);const Xe=this.styleRef,Ut=Xe.get(le)?.elements;Ut?Ut.push(ke):Xe.set(le,{elements:[ke],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(ee.K0),C.LFG(C.AFp),C.LFG(C.Ojb,8),C.LFG(C.Lbi))},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dt=/%COMP%/g,Ve=new C.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ze(B,V){return V.map(Q=>Q.replace(dt,B))}let we=(()=>{var B;class V{constructor(j,le,ke,Xe,Ut,Ct,Cn,Zt=null){this.eventManager=j,this.sharedStylesHost=le,this.appId=ke,this.removeStylesOnCompDestroy=Xe,this.doc=Ut,this.platformId=Ct,this.ngZone=Cn,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,ee.PM)(Ct),this.defaultRenderer=new qe(j,Ut,Cn,this.platformIsServer)}createRenderer(j,le){if(!j||!le)return this.defaultRenderer;this.platformIsServer&&le.encapsulation===C.ifc.ShadowDom&&(le={...le,encapsulation:C.ifc.Emulated});const ke=this.getOrCreateRenderer(j,le);return ke instanceof xn?ke.applyToHost(j):ke instanceof nn&&ke.applyStyles(),ke}getOrCreateRenderer(j,le){const ke=this.rendererByCompId;let Xe=ke.get(le.id);if(!Xe){const Ut=this.doc,Ct=this.ngZone,Cn=this.eventManager,Zt=this.sharedStylesHost,Hn=this.removeStylesOnCompDestroy,ei=this.platformIsServer;switch(le.encapsulation){case C.ifc.Emulated:Xe=new xn(Cn,Zt,le,this.appId,Hn,Ut,Ct,ei);break;case C.ifc.ShadowDom:return new qt(Cn,Zt,j,le,Ut,Ct,this.nonce,ei);default:Xe=new nn(Cn,Zt,le,Hn,Ut,Ct,ei)}ke.set(le.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(J),C.LFG(it),C.LFG(C.AFp),C.LFG(Ve),C.LFG(ee.K0),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(C.Ojb))},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();class qe{constructor(V,Q,j,le){this.eventManager=V,this.doc=Q,this.ngZone=j,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,Q){return Q?this.doc.createElementNS(Ge[Q]||Q,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,Q){(Gt(V)?V.content:V).appendChild(Q)}insertBefore(V,Q,j){V&&(Gt(V)?V.content:V).insertBefore(Q,j)}removeChild(V,Q){V&&V.removeChild(Q)}selectRootElement(V,Q){let j="string"==typeof V?this.doc.querySelector(V):V;if(!j)throw new C.vHH(-5104,!1);return Q||(j.textContent=""),j}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,Q,j,le){if(le){Q=le+":"+Q;const ke=Ge[le];ke?V.setAttributeNS(ke,Q,j):V.setAttribute(Q,j)}else V.setAttribute(Q,j)}removeAttribute(V,Q,j){if(j){const le=Ge[j];le?V.removeAttributeNS(le,Q):V.removeAttribute(`${j}:${Q}`)}else V.removeAttribute(Q)}addClass(V,Q){V.classList.add(Q)}removeClass(V,Q){V.classList.remove(Q)}setStyle(V,Q,j,le){le&(C.JOm.DashCase|C.JOm.Important)?V.style.setProperty(Q,j,le&C.JOm.Important?"important":""):V.style[Q]=j}removeStyle(V,Q,j){j&C.JOm.DashCase?V.style.removeProperty(Q):V.style[Q]=""}setProperty(V,Q,j){V[Q]=j}setValue(V,Q){V.nodeValue=Q}listen(V,Q,j){if("string"==typeof V&&!(V=(0,ee.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${Q}`);return this.eventManager.addEventListener(V,Q,this.decoratePreventDefault(j))}decoratePreventDefault(V){return Q=>{if("__ngUnwrap__"===Q)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(Q)):V(Q))&&Q.preventDefault()}}}function Gt(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class qt extends qe{constructor(V,Q,j,le,ke,Xe,Ut,Ct){super(V,ke,Xe,Ct),this.sharedStylesHost=Q,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Cn=ze(le.id,le.styles);for(const Zt of Cn){const Hn=document.createElement("style");Ut&&Hn.setAttribute("nonce",Ut),Hn.textContent=Zt,this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,Q){return super.appendChild(this.nodeOrShadowRoot(V),Q)}insertBefore(V,Q,j){return super.insertBefore(this.nodeOrShadowRoot(V),Q,j)}removeChild(V,Q){return super.removeChild(this.nodeOrShadowRoot(V),Q)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nn extends qe{constructor(V,Q,j,le,ke,Xe,Ut,Ct){super(V,ke,Xe,Ut),this.sharedStylesHost=Q,this.removeStylesOnCompDestroy=le,this.styles=Ct?ze(Ct,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends nn{constructor(V,Q,j,le,ke,Xe,Ut,Ct){const Cn=le+"-"+j.id;super(V,Q,j,ke,Xe,Ut,Ct,Cn),this.contentAttr=function ye(B){return"_ngcontent-%COMP%".replace(dt,B)}(Cn),this.hostAttr=function Re(B){return"_nghost-%COMP%".replace(dt,B)}(Cn)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,Q){const j=super.createElement(V,Q);return super.setAttribute(j,this.contentAttr,""),j}}let On=(()=>{var B;class V extends Ue{constructor(j){super(j)}supports(j){return!0}addEventListener(j,le,ke){return j.addEventListener(le,ke,!1),()=>this.removeEventListener(j,le,ke)}removeEventListener(j,le,ke){return j.removeEventListener(le,ke)}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(ee.K0))},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();const Qn=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Te={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Ne=(()=>{var B;class V extends Ue{constructor(j){super(j)}supports(j){return null!=V.parseEventName(j)}addEventListener(j,le,ke){const Xe=V.parseEventName(le),Ut=V.eventCallback(Xe.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ee.q)().onAndCancel(j,Xe.domEventName,Ut))}static parseEventName(j){const le=j.toLowerCase().split("."),ke=le.shift();if(0===le.length||"keydown"!==ke&&"keyup"!==ke)return null;const Xe=V._normalizeKey(le.pop());let Ut="",Ct=le.indexOf("code");if(Ct>-1&&(le.splice(Ct,1),Ut="code."),Qn.forEach(Zt=>{const Hn=le.indexOf(Zt);Hn>-1&&(le.splice(Hn,1),Ut+=Zt+".")}),Ut+=Xe,0!=le.length||0===Xe.length)return null;const Cn={};return Cn.domEventName=ke,Cn.fullKey=Ut,Cn}static matchEventFullKeyCode(j,le){let ke=_e[j.key]||j.key,Xe="";return le.indexOf("code.")>-1&&(ke=j.code,Xe="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),Qn.forEach(Ut=>{Ut!==ke&&(0,Te[Ut])(j)&&(Xe+=Ut+".")}),Xe+=ke,Xe===le)}static eventCallback(j,le,ke){return Xe=>{V.matchEventFullKeyCode(Xe,j)&&ke.runGuarded(()=>le(Xe))}}static _normalizeKey(j){return"esc"===j?"escape":j}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(ee.K0))},B.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac}),V})();const Qt=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:ee.bD},{provide:C.g9A,useValue:function at(){se.makeCurrent()},multi:!0},{provide:ee.K0,useFactory:function Bt(){return(0,C.RDi)(document),document},deps:[]}]),In=new C.OlP(""),Kn=[{provide:C.rWj,useClass:class pe{addToWindow(V){C.dqk.getAngularTestability=(j,le=!0)=>{const ke=V.findTestabilityInTree(j,le);if(null==ke)throw new C.vHH(5103,!1);return ke},C.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(j=>{const le=C.dqk.getAllAngularTestabilities();let ke=le.length,Xe=!1;const Ut=function(Ct){Xe=Xe||Ct,ke--,0==ke&&j(Xe)};le.forEach(Ct=>{Ct.whenStable(Ut)})})}findTestabilityInTree(V,Q,j){return null==Q?null:V.getTestability(Q)??(j?(0,ee.q)().isShadowRoot(Q)?this.findTestabilityInTree(V,Q.host,!0):this.findTestabilityInTree(V,Q.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],sn=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function Wn(){return new C.qLn},deps:[]},{provide:X,useClass:On,multi:!0,deps:[ee.K0,C.R0b,C.Lbi]},{provide:X,useClass:Ne,multi:!0,deps:[ee.K0]},we,it,J,{provide:C.FYo,useExisting:we},{provide:ee.JF,useClass:Y,deps:[]},[]];let ue=(()=>{var B;class V{constructor(j){}static withServerTransition(j){return{ngModule:V,providers:[{provide:C.AFp,useValue:j.appId}]}}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(In,12))},B.\u0275mod=C.oAB({type:B}),B.\u0275inj=C.cJS({providers:[...sn,...Kn],imports:[ee.ez,C.hGG]}),V})(),Et=(()=>{var B;class V{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}}return(B=V).\u0275fac=function(j){return new(j||B)(C.LFG(ee.K0))},B.\u0275prov=C.Yz7({token:B,factory:function(j){let le=null;return le=j?new j:function lt(){return new Et((0,C.LFG)(ee.K0))}(),le},providedIn:"root"}),V})();typeof window<"u"&&window},969:(bt,Ce,k)=>{k.d(Ce,{gz:()=>or,F0:()=>sr,Bz:()=>rt,lC:()=>fi});var C=k(5879),ee=k(5592),H=k(4674),ie=k(2459),ae=k(2096),de=k(5619),Ie=k(7453),pe=k(2737),Y=k(7400),X=k(9940),J=k(2714),Ue=k(8251),ve=k(7103);function it(..._){const E=(0,X.yG)(_),T=(0,X.jO)(_),{args:b,keys:R}=(0,Ie.D)(_);if(0===b.length)return(0,ie.D)([],E);const L=new ee.y(function Ge(_,E,T=pe.y){return b=>{dt(E,()=>{const{length:R}=_,L=new Array(R);let z=R,he=R;for(let Oe=0;Oe<R;Oe++)dt(E,()=>{const Fe=(0,ie.D)(_[Oe],E);let jt=!1;Fe.subscribe((0,Ue.x)(b,It=>{L[Oe]=It,jt||(jt=!0,he--),he||b.next(T(L.slice()))},()=>{--z||b.complete()}))},b)},b)}}(b,E,R?z=>(0,J.n)(R,z):pe.y));return T?L.pipe((0,Y.Z)(T)):L}function dt(_,E,T){_?(0,ve.f)(T,_,E):E()}var He=k(6973),Ft=k(5211),Ot=k(4829);function be(_){return new ee.y(E=>{(0,Ot.Xf)(_()).subscribe(E)})}var Ve=k(8407);function ye(_,E){const T=(0,H.m)(_)?_:()=>_,b=R=>R.error(T());return new ee.y(E?R=>E.schedule(b,0,R):b)}var Re=k(6232),ze=k(7394),we=k(9360);function qe(){return(0,we.e)((_,E)=>{let T=null;_._refCount++;const b=(0,Ue.x)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(T=null);const R=_._connection,L=T;T=null,R&&(!L||R===L)&&R.unsubscribe(),E.unsubscribe()});_.subscribe(b),b.closed||(T=_.connect())})}class pt extends ee.y{constructor(E,T){super(),this.source=E,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,we.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new ze.w0;const T=this.getSubject();E.add(this.source.subscribe((0,Ue.x)(T,void 0,()=>{this._teardown(),T.complete()},b=>{this._teardown(),T.error(b)},()=>this._teardown()))),E.closed&&(this._connection=null,E=ze.w0.EMPTY)}return E}refCount(){return qe()(this)}}var Vt=k(8645),Gt=k(6814),qt=k(7398),nn=k(4664),xn=k(8180),On=k(7921),Qn=k(2181),_e=k(1631),Te=k(1374);function Ne(_,E){return(0,H.m)(E)?(0,_e.z)(_,E,1):(0,_e.z)(_,1)}var Ae=k(9397);function Ye(_){return(0,we.e)((E,T)=>{let L,b=null,R=!1;b=E.subscribe((0,Ue.x)(T,void 0,void 0,z=>{L=(0,Ot.Xf)(_(z,Ye(_)(E))),b?(b.unsubscribe(),b=null,L.subscribe(T)):R=!0})),R&&(b.unsubscribe(),b=null,L.subscribe(T))})}var at=k(3572);function Wn(_){return _<=0?()=>Re.E:(0,we.e)((E,T)=>{let b=[];E.subscribe((0,Ue.x)(T,R=>{b.push(R),_<b.length&&b.shift()},()=>{for(const R of b)T.next(R);T.complete()},void 0,()=>{b=null}))})}var Bt=k(3026),Qt=k(975);function In(_){return(0,we.e)((E,T)=>{try{E.subscribe(T)}finally{T.add(_)}})}var Kn=k(9773),sn=k(7537),ue=k(6593);const ne="primary",De=Symbol("RouteTitle");class We{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const T=this.params[E];return Array.isArray(T)?T[0]:T}return null}getAll(E){if(this.has(E)){const T=this.params[E];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function lt(_){return new We(_)}function Et(_,E,T){const b=T.path.split("/");if(b.length>_.length||"full"===T.pathMatch&&(E.hasChildren()||b.length<_.length))return null;const R={};for(let L=0;L<b.length;L++){const z=b[L],he=_[L];if(z.startsWith(":"))R[z.substring(1)]=he;else if(z!==he.path)return null}return{consumed:_.slice(0,b.length),posParams:R}}function Kt(_,E){const T=_?Object.keys(_):void 0,b=E?Object.keys(E):void 0;if(!T||!b||T.length!=b.length)return!1;let R;for(let L=0;L<T.length;L++)if(R=T[L],!yt(_[R],E[R]))return!1;return!0}function yt(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const T=[..._].sort(),b=[...E].sort();return T.every((R,L)=>b[L]===R)}return _===E}function xt(_){return _.length>0?_[_.length-1]:null}function $t(_){return function se(_){return!!_&&(_ instanceof ee.y||(0,H.m)(_.lift)&&(0,H.m)(_.subscribe))}(_)?_:(0,C.QGY)(_)?(0,ie.D)(Promise.resolve(_)):(0,ae.of)(_)}const on={exact:function kn(_,E,T){if(!Fr(_.segments,E.segments)||!yn(_.segments,E.segments,T)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const b in E.children)if(!_.children[b]||!kn(_.children[b],E.children[b],T))return!1;return!0},subset:_n},Xn={exact:function rn(_,E){return Kt(_,E)},subset:function Bn(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(T=>yt(_[T],E[T]))},ignored:()=>!0};function er(_,E,T){return on[T.paths](_.root,E.root,T.matrixParams)&&Xn[T.queryParams](_.queryParams,E.queryParams)&&!("exact"===T.fragment&&_.fragment!==E.fragment)}function _n(_,E,T){return Di(_,E,E.segments,T)}function Di(_,E,T,b){if(_.segments.length>T.length){const R=_.segments.slice(0,T.length);return!(!Fr(R,T)||E.hasChildren()||!yn(R,T,b))}if(_.segments.length===T.length){if(!Fr(_.segments,T)||!yn(_.segments,T,b))return!1;for(const R in E.children)if(!_.children[R]||!_n(_.children[R],E.children[R],b))return!1;return!0}{const R=T.slice(0,_.segments.length),L=T.slice(_.segments.length);return!!(Fr(_.segments,R)&&yn(_.segments,R,b)&&_.children[ne])&&Di(_.children[ne],E,L,b)}}function yn(_,E,T){return E.every((b,R)=>Xn[T](_[R].parameters,b.parameters))}class yr{constructor(E=new pn([],{}),T={},b=null){this.root=E,this.queryParams=T,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Je.serialize(this)}}class pn{constructor(E,T){this.segments=E,this.children=T,this.parent=null,Object.values(T).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mt(this)}}class Xr{constructor(E,T){this.path=E,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return le(this)}}function Fr(_,E){return _.length===E.length&&_.every((T,b)=>T.path===E[b].path)}let oe=(()=>{var _;class E{}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return new Se},providedIn:"root"}),E})();class Se{parse(E){const T=new hi(E);return new yr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(E){const T=`/${Mt(E.root,!0)}`,b=function Xe(_){const E=Object.keys(_).map(T=>{const b=_[T];return Array.isArray(b)?b.map(R=>`${te(T)}=${te(R)}`).join("&"):`${te(T)}=${te(b)}`}).filter(T=>!!T);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${T}${b}${"string"==typeof E.fragment?`#${function B(_){return encodeURI(_)}(E.fragment)}`:""}`}}const Je=new Se;function mt(_){return _.segments.map(E=>le(E)).join("/")}function Mt(_,E){if(!_.hasChildren())return mt(_);if(E){const T=_.children[ne]?Mt(_.children[ne],!1):"",b=[];return Object.entries(_.children).forEach(([R,L])=>{R!==ne&&b.push(`${R}:${Mt(L,!1)}`)}),b.length>0?`${T}(${b.join("//")})`:T}{const T=function Ke(_,E){let T=[];return Object.entries(_.children).forEach(([b,R])=>{b===ne&&(T=T.concat(E(R,b)))}),Object.entries(_.children).forEach(([b,R])=>{b!==ne&&(T=T.concat(E(R,b)))}),T}(_,(b,R)=>R===ne?[Mt(_.children[ne],!1)]:[`${R}:${Mt(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[ne]?`${mt(_)}/${T[0]}`:`${mt(_)}/(${T.join("//")})`}}function jn(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function te(_){return jn(_).replace(/%3B/gi,";")}function V(_){return jn(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Q(_){return decodeURIComponent(_)}function j(_){return Q(_.replace(/\+/g,"%20"))}function le(_){return`${V(_.path)}${function ke(_){return Object.keys(_).map(E=>`;${V(E)}=${V(_[E])}`).join("")}(_.parameters)}`}const Ut=/^[^\/()?;#]+/;function Ct(_){const E=_.match(Ut);return E?E[0]:""}const Cn=/^[^\/()?;=#]+/,Hn=/^[^=?&#]+/,_a=/^[^&#]+/;class hi{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(E.length>0||Object.keys(T).length>0)&&(b[ne]=new pn(E,T)),b}parseSegment(){const E=Ct(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(E),new Xr(Q(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const T=function Zt(_){const E=_.match(Cn);return E?E[0]:""}(this.remaining);if(!T)return;this.capture(T);let b="";if(this.consumeOptional("=")){const R=Ct(this.remaining);R&&(b=R,this.capture(b))}E[Q(T)]=Q(b)}parseQueryParam(E){const T=function ei(_){const E=_.match(Hn);return E?E[0]:""}(this.remaining);if(!T)return;this.capture(T);let b="";if(this.consumeOptional("=")){const z=function kc(_){const E=_.match(_a);return E?E[0]:""}(this.remaining);z&&(b=z,this.capture(b))}const R=j(T),L=j(b);if(E.hasOwnProperty(R)){let z=E[R];Array.isArray(z)||(z=[z],E[R]=z),z.push(L)}else E[R]=L}parseParens(E){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Ct(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new C.vHH(4010,!1);let L;b.indexOf(":")>-1?(L=b.slice(0,b.indexOf(":")),this.capture(L),this.capture(":")):E&&(L=ne);const z=this.parseChildren();T[L]=1===Object.keys(z).length?z[ne]:new pn([],z),this.consumeOptional("//")}return T}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new C.vHH(4011,!1)}}function ms(_){return _.segments.length>0?new pn([],{[ne]:_}):_}function Vi(_){const E={};for(const b of Object.keys(_.children)){const L=Vi(_.children[b]);if(b===ne&&0===L.segments.length&&L.hasChildren())for(const[z,he]of Object.entries(L.children))E[z]=he;else(L.segments.length>0||L.hasChildren())&&(E[b]=L)}return function Bi(_){if(1===_.numberOfChildren&&_.children[ne]){const E=_.children[ne];return new pn(_.segments.concat(E.segments),E.children)}return _}(new pn(_.segments,E))}function un(_){return _ instanceof yr}function Ns(_){let E;const R=ms(function T(L){const z={};for(const Oe of L.children){const Fe=T(Oe);z[Oe.outlet]=Fe}const he=new pn(L.url,z);return L===_&&(E=he),he}(_.root));return E??R}function ts(_,E,T,b){let R=_;for(;R.parent;)R=R.parent;if(0===E.length)return ti(R,R,R,T,b);const L=function ya(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Ys(!0,0,_);let E=0,T=!1;const b=_.reduce((R,L,z)=>{if("object"==typeof L&&null!=L){if(L.outlets){const he={};return Object.entries(L.outlets).forEach(([Oe,Fe])=>{he[Oe]="string"==typeof Fe?Fe.split("/"):Fe}),[...R,{outlets:he}]}if(L.segmentPath)return[...R,L.segmentPath]}return"string"!=typeof L?[...R,L]:0===z?(L.split("/").forEach((he,Oe)=>{0==Oe&&"."===he||(0==Oe&&""===he?T=!0:".."===he?E++:""!=he&&R.push(he))}),R):[...R,L]},[]);return new Ys(T,E,b)}(E);if(L.toRoot())return ti(R,R,new pn([],{}),T,b);const z=function va(_,E,T){if(_.isAbsolute)return new _s(E,!0,0);if(!T)return new _s(E,!1,NaN);if(null===T.parent)return new _s(T,!0,0);const b=go(_.commands[0])?0:1;return function Dr(_,E,T){let b=_,R=E,L=T;for(;L>R;){if(L-=R,b=b.parent,!b)throw new C.vHH(4005,!1);R=b.segments.length}return new _s(b,!1,R-L)}(T,T.segments.length-1+b,_.numberOfDoubleDots)}(L,R,_),he=z.processChildren?Qs(z.segmentGroup,z.index,L.commands):ks(z.segmentGroup,z.index,L.commands);return ti(R,z.segmentGroup,he,T,b)}function go(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Ti(_){return"object"==typeof _&&null!=_&&_.outlets}function ti(_,E,T,b,R){let z,L={};b&&Object.entries(b).forEach(([Oe,Fe])=>{L[Oe]=Array.isArray(Fe)?Fe.map(jt=>`${jt}`):`${Fe}`}),z=_===E?T:mo(_,E,T);const he=ms(Vi(z));return new yr(he,L,R)}function mo(_,E,T){const b={};return Object.entries(_.children).forEach(([R,L])=>{b[R]=L===E?T:mo(L,E,T)}),new pn(_.segments,b)}class Ys{constructor(E,T,b){if(this.isAbsolute=E,this.numberOfDoubleDots=T,this.commands=b,E&&b.length>0&&go(b[0]))throw new C.vHH(4003,!1);const R=b.find(Ti);if(R&&R!==xt(b))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _s{constructor(E,T,b){this.segmentGroup=E,this.processChildren=T,this.index=b}}function ks(_,E,T){if(_||(_=new pn([],{})),0===_.segments.length&&_.hasChildren())return Qs(_,E,T);const b=function Ha(_,E,T){let b=0,R=E;const L={match:!1,pathIndex:0,commandIndex:0};for(;R<_.segments.length;){if(b>=T.length)return L;const z=_.segments[R],he=T[b];if(Ti(he))break;const Oe=`${he}`,Fe=b<T.length-1?T[b+1]:null;if(R>0&&void 0===Oe)break;if(Oe&&Fe&&"object"==typeof Fe&&void 0===Fe.outlets){if(!ji(Oe,Fe,z))return L;b+=2}else{if(!ji(Oe,{},z))return L;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(_,E,T),R=T.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const L=new pn(_.segments.slice(0,b.pathIndex),{});return L.children[ne]=new pn(_.segments.slice(b.pathIndex),_.children),Qs(L,0,R)}return b.match&&0===R.length?new pn(_.segments,{}):b.match&&!_.hasChildren()?ba(_,E,T):b.match?Qs(_,0,R):ba(_,E,T)}function Qs(_,E,T){if(0===T.length)return new pn(_.segments,{});{const b=function jo(_){return Ti(_[0])?_[0].outlets:{[ne]:_}}(T),R={};if(Object.keys(b).some(L=>L!==ne)&&_.children[ne]&&1===_.numberOfChildren&&0===_.children[ne].segments.length){const L=Qs(_.children[ne],E,T);return new pn(_.segments,L.children)}return Object.entries(b).forEach(([L,z])=>{"string"==typeof z&&(z=[z]),null!==z&&(R[L]=ks(_.children[L],E,z))}),Object.entries(_.children).forEach(([L,z])=>{void 0===b[L]&&(R[L]=z)}),new pn(_.segments,R)}}function ba(_,E,T){const b=_.segments.slice(0,E);let R=0;for(;R<T.length;){const L=T[R];if(Ti(L)){const Oe=jl(L.outlets);return new pn(b,Oe)}if(0===R&&go(T[0])){b.push(new Xr(_.segments[E].path,Hr(T[0]))),R++;continue}const z=Ti(L)?L.outlets[ne]:`${L}`,he=R<T.length-1?T[R+1]:null;z&&he&&go(he)?(b.push(new Xr(z,Hr(he))),R+=2):(b.push(new Xr(z,{})),R++)}return new pn(b,{})}function jl(_){const E={};return Object.entries(_).forEach(([T,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(E[T]=ba(new pn([],{}),0,b))}),E}function Hr(_){const E={};return Object.entries(_).forEach(([T,b])=>E[T]=`${b}`),E}function ji(_,E,T){return _==T.path&&Kt(E,T.parameters)}const ns="imperative";class Ci{constructor(E,T){this.id=E,this.url=T}}class Uo extends Ci{constructor(E,T,b="imperative",R=null){super(E,T),this.type=0,this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ii extends Ci{constructor(E,T,b){super(E,T),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ys extends Ci{constructor(E,T,b,R){super(E,T),this.reason=b,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vs extends Ci{constructor(E,T,b,R){super(E,T),this.reason=b,this.code=R,this.type=16}}class _o extends Ci{constructor(E,T,b,R){super(E,T),this.error=b,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ea extends Ci{constructor(E,T,b,R){super(E,T),this.urlAfterRedirects=b,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Ci{constructor(E,T,b,R){super(E,T),this.urlAfterRedirects=b,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends Ci{constructor(E,T,b,R,L){super(E,T),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class za extends Ci{constructor(E,T,b,R){super(E,T),this.urlAfterRedirects=b,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends Ci{constructor(E,T,b,R){super(E,T),this.urlAfterRedirects=b,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wa{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qa{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sr{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ka{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(E,T,b){this.routerEvent=E,this.position=T,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pr{}class Tr{constructor(E){this.url=E}}class ni{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Js,this.attachRef=null}}let Js=(()=>{var _;class E{constructor(){this.contexts=new Map}onChildOutletCreated(b,R){const L=this.getOrCreateContext(b);L.outlet=R,this.contexts.set(b,L)}onChildOutletDestroyed(b){const R=this.getContext(b);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let R=this.getContext(b);return R||(R=new ni,this.contexts.set(b,R)),R}getContext(b){return this.contexts.get(b)||null}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();class Za{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const T=this.pathFromRoot(E);return T.length>1?T[T.length-2]:null}children(E){const T=Ui(E,this._root);return T?T.children.map(b=>b.value):[]}firstChild(E){const T=Ui(E,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(E){const T=rs(E,this._root);return T.length<2?[]:T[T.length-2].children.map(R=>R.value).filter(R=>R!==E)}pathFromRoot(E){return rs(E,this._root).map(T=>T.value)}}function Ui(_,E){if(_===E.value)return E;for(const T of E.children){const b=Ui(_,T);if(b)return b}return null}function rs(_,E){if(_===E.value)return[E];for(const T of E.children){const b=rs(_,T);if(b.length)return b.unshift(E),b}return[]}class $i{constructor(E,T){this.value=E,this.children=T}toString(){return`TreeNode(${this.value})`}}function Un(_){const E={};return _&&_.children.forEach(T=>E[T.value.outlet]=T),E}class wt extends Za{constructor(E,T){super(E),this.snapshot=T,Gi(this,E)}toString(){return this.snapshot.toString()}}function Pt(_,E){const T=function Zn(_,E){const z=new bs([],{},{},"",{},ne,E,null,{});return new ur("",new $i(z,[]))}(0,E),b=new de.X([new Xr("",{})]),R=new de.X({}),L=new de.X({}),z=new de.X({}),he=new de.X(""),Oe=new or(b,R,z,he,L,ne,E,T.root);return Oe.snapshot=T.root,new wt(new $i(Oe,[]),T)}class or{constructor(E,T,b,R,L,z,he,Oe){this.urlSubject=E,this.paramsSubject=T,this.queryParamsSubject=b,this.fragmentSubject=R,this.dataSubject=L,this.outlet=z,this.component=he,this._futureSnapshot=Oe,this.title=this.dataSubject?.pipe((0,qt.U)(Fe=>Fe[De]))??(0,ae.of)(void 0),this.url=E,this.params=T,this.queryParams=b,this.fragment=R,this.data=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(E=>lt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(E=>lt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ai(_,E="emptyOnly"){const T=_.pathFromRoot;let b=0;if("always"!==E)for(b=T.length-1;b>=1;){const R=T[b],L=T[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if(L.component)break;b--}}return function Wr(_){return _.reduce((E,T)=>({params:{...E.params,...T.params},data:{...E.data,...T.data},resolve:{...T.data,...E.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(b))}class bs{get title(){return this.data?.[De]}constructor(E,T,b,R,L,z,he,Oe,Fe){this.url=E,this.params=T,this.queryParams=b,this.fragment=R,this.data=L,this.outlet=z,this.component=he,this.routeConfig=Oe,this._resolve=Fe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ur extends Za{constructor(E,T){super(T),this.url=E,Gi(this,T)}toString(){return Xs(this._root)}}function Gi(_,E){E.value._routerState=_,E.children.forEach(T=>Gi(_,T))}function Xs(_){const E=_.children.length>0?` { ${_.children.map(Xs).join(", ")} } `:"";return`${_.value}${E}`}function en(_){if(_.snapshot){const E=_.snapshot,T=_._futureSnapshot;_.snapshot=T,Kt(E.queryParams,T.queryParams)||_.queryParamsSubject.next(T.queryParams),E.fragment!==T.fragment&&_.fragmentSubject.next(T.fragment),Kt(E.params,T.params)||_.paramsSubject.next(T.params),function fn(_,E){if(_.length!==E.length)return!1;for(let T=0;T<_.length;++T)if(!Kt(_[T],E[T]))return!1;return!0}(E.url,T.url)||_.urlSubject.next(T.url),Kt(E.data,T.data)||_.dataSubject.next(T.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Hi(_,E){const T=Kt(_.params,E.params)&&function di(_,E){return Fr(_,E)&&_.every((T,b)=>Kt(T.parameters,E[b].parameters))}(_.url,E.url);return T&&!(!_.parent!=!E.parent)&&(!_.parent||Hi(_.parent,E.parent))}let fi=(()=>{var _;class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(Js),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb),this.inputBinder=(0,C.f3M)(ir,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:R,previousValue:L}=b.name;if(R)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new C.vHH(4013,!1);this._activatedRoute=b;const L=this.location,he=b.snapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,Fe=new pi(b,Oe,L.injector);this.activated=L.createComponent(he,{index:L.length,injector:Fe,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275dir=C.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),E})();class pi{constructor(E,T,b){this.route=E,this.childContexts=T,this.parent=b}get(E,T){return E===or?this.route:E===Js?this.childContexts:this.parent.get(E,T)}}const ir=new C.OlP("");let bo=(()=>{var _;class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:R}=b,L=it([R.queryParams,R.params,R.data]).pipe((0,nn.w)(([z,he,Oe],Fe)=>(Oe={...z,...he,...Oe},0===Fe?(0,ae.of)(Oe):Promise.resolve(Oe)))).subscribe(z=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(b);const he=(0,C.qFp)(R.component);if(he)for(const{templateName:Oe}of he.inputs)b.activatedComponentRef.setInput(Oe,z[Oe]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,L)}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac}),E})();function ri(_,E,T){if(T&&_.shouldReuseRoute(E.value,T.value.snapshot)){const b=T.value;b._futureSnapshot=E.value;const R=function Go(_,E,T){return E.children.map(b=>{for(const R of T.children)if(_.shouldReuseRoute(b.value,R.value.snapshot))return ri(_,b,R);return ri(_,b)})}(_,E,T);return new $i(b,R)}{if(_.shouldAttach(E.value)){const L=_.retrieve(E.value);if(null!==L){const z=L.route;return z.value._futureSnapshot=E.value,z.children=E.children.map(he=>ri(_,he)),z}}const b=function Ya(_){return new or(new de.X(_.url),new de.X(_.params),new de.X(_.queryParams),new de.X(_.fragment),new de.X(_.data),_.outlet,_.component,_)}(E.value),R=E.children.map(L=>ri(_,L));return new $i(b,R)}}const Fs="ngNavigationCancelingError";function zi(_,E){const{redirectTo:T,navigationBehaviorOptions:b}=un(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,R=Eo(!1,0,E);return R.url=T,R.navigationBehaviorOptions=b,R}function Eo(_,E,T){const b=new Error("NavigationCancelingError: "+(_||""));return b[Fs]=!0,b.cancellationCode=E,T&&(b.url=T),b}function gn(_){return _&&_[Fs]}let $l=(()=>{var _;class E{}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275cmp=C.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(b,R){1&b&&C._UZ(0,"router-outlet")},dependencies:[fi],encapsulation:2}),E})();function Mr(_){const E=_.children&&_.children.map(Mr),T=E?{..._,children:E}:{..._};return!T.component&&!T.loadComponent&&(E||T.loadChildren)&&T.outlet&&T.outlet!==ne&&(T.component=$l),T}function Nr(_){return _.outlet||ne}function qr(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const T=E.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Qa{constructor(E,T,b,R,L){this.routeReuseStrategy=E,this.futureState=T,this.currState=b,this.forwardEvent=R,this.inputBindingEnabled=L}activate(E){const T=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,b,E),en(this.futureState.root),this.activateChildRoutes(T,b,E)}deactivateChildRoutes(E,T,b){const R=Un(T);E.children.forEach(L=>{const z=L.value.outlet;this.deactivateRoutes(L,R[z],b),delete R[z]}),Object.values(R).forEach(L=>{this.deactivateRouteAndItsChildren(L,b)})}deactivateRoutes(E,T,b){const R=E.value,L=T?T.value:null;if(R===L)if(R.component){const z=b.getContext(R.outlet);z&&this.deactivateChildRoutes(E,T,z.children)}else this.deactivateChildRoutes(E,T,b);else L&&this.deactivateRouteAndItsChildren(T,b)}deactivateRouteAndItsChildren(E,T){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,T):this.deactivateRouteAndOutlet(E,T)}detachAndStoreRouteSubtree(E,T){const b=T.getContext(E.value.outlet),R=b&&E.value.component?b.children:T,L=Un(E);for(const z of Object.keys(L))this.deactivateRouteAndItsChildren(L[z],R);if(b&&b.outlet){const z=b.outlet.detach(),he=b.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:z,route:E,contexts:he})}}deactivateRouteAndOutlet(E,T){const b=T.getContext(E.value.outlet),R=b&&E.value.component?b.children:T,L=Un(E);for(const z of Object.keys(L))this.deactivateRouteAndItsChildren(L[z],R);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(E,T,b){const R=Un(T);E.children.forEach(L=>{this.activateRoutes(L,R[L.value.outlet],b),this.forwardEvent(new vo(L.value.snapshot))}),E.children.length&&this.forwardEvent(new Ka(E.value.snapshot))}activateRoutes(E,T,b){const R=E.value,L=T?T.value:null;if(en(R),R===L)if(R.component){const z=b.getOrCreateContext(R.outlet);this.activateChildRoutes(E,T,z.children)}else this.activateChildRoutes(E,T,b);else if(R.component){const z=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const he=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),z.children.onOutletReAttached(he.contexts),z.attachRef=he.componentRef,z.route=he.route.value,z.outlet&&z.outlet.attach(he.componentRef,he.route.value),en(he.route.value),this.activateChildRoutes(E,null,z.children)}else{const he=qr(R.snapshot);z.attachRef=null,z.route=R,z.injector=he,z.outlet&&z.outlet.activateWith(R,z.injector),this.activateChildRoutes(E,null,z.children)}}else this.activateChildRoutes(E,null,b)}}class zl{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Wl{constructor(E,T){this.component=E,this.route=T}}function Ja(_,E,T){const b=_._root;return Ls(b,E?E._root:null,T,[b.value])}function eo(_,E){const T=Symbol(),b=E.get(_,T);return b===T?"function"!=typeof _||(0,C.Z0I)(_)?E.get(_):_:b}function Ls(_,E,T,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const L=Un(E);return _.children.forEach(z=>{(function Fc(_,E,T,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const L=_.value,z=E?E.value:null,he=T?T.getContext(_.value.outlet):null;if(z&&L.routeConfig===z.routeConfig){const Oe=function Es(_,E,T){if("function"==typeof T)return T(_,E);switch(T){case"pathParamsChange":return!Fr(_.url,E.url);case"pathParamsOrQueryParamsChange":return!Fr(_.url,E.url)||!Kt(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hi(_,E)||!Kt(_.queryParams,E.queryParams);default:return!Hi(_,E)}}(z,L,L.routeConfig.runGuardsAndResolvers);Oe?R.canActivateChecks.push(new zl(b)):(L.data=z.data,L._resolvedData=z._resolvedData),Ls(_,E,L.component?he?he.children:null:T,b,R),Oe&&he&&he.outlet&&he.outlet.isActivated&&R.canDeactivateChecks.push(new Wl(he.outlet.component,z))}else z&&Yn(E,he,R),R.canActivateChecks.push(new zl(b)),Ls(_,null,L.component?he?he.children:null:T,b,R)})(z,L[z.value.outlet],T,b.concat([z.value]),R),delete L[z.value.outlet]}),Object.entries(L).forEach(([z,he])=>Yn(he,T.getContext(z),R)),R}function Yn(_,E,T){const b=Un(_),R=_.value;Object.entries(b).forEach(([L,z])=>{Yn(z,R.component?E?E.children.getContext(L):null:E,T)}),T.canDeactivateChecks.push(new Wl(R.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,R))}function Ca(_){return"function"==typeof _}function Bc(_){return _ instanceof He.K||"EmptyError"===_?.name}const Aa=Symbol("INITIAL_VALUE");function qi(){return(0,nn.w)(_=>it(_.map(E=>E.pipe((0,xn.q)(1),(0,On.O)(Aa)))).pipe((0,qt.U)(E=>{for(const T of E)if(!0!==T){if(T===Aa)return Aa;if(!1===T||T instanceof yr)return T}return!0}),(0,Qn.h)(E=>E!==Aa),(0,xn.q)(1)))}function Sa(_){return(0,Ve.z)((0,Ae.b)(E=>{if(un(E))throw zi(0,E)}),(0,qt.U)(E=>!0===E))}class Vs{constructor(E){this.segmentGroup=E||null}}class rl{constructor(E){this.urlTree=E}}function Ki(_){return ye(new Vs(_))}function Cr(_){return ye(new rl(_))}class Bs{constructor(E,T){this.urlSerializer=E,this.urlTree=T}noMatchError(E){return new C.vHH(4002,!1)}lineralizeSegments(E,T){let b=[],R=T.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,ae.of)(b);if(R.numberOfChildren>1||!R.children[ne])return ye(new C.vHH(4e3,!1));R=R.children[ne]}}applyRedirectCommands(E,T,b){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),E,b)}applyRedirectCreateUrlTree(E,T,b,R){const L=this.createSegmentGroup(E,T.root,b,R);return new yr(L,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(E,T){const b={};return Object.entries(E).forEach(([R,L])=>{if("string"==typeof L&&L.startsWith(":")){const he=L.substring(1);b[R]=T[he]}else b[R]=L}),b}createSegmentGroup(E,T,b,R){const L=this.createSegments(E,T.segments,b,R);let z={};return Object.entries(T.children).forEach(([he,Oe])=>{z[he]=this.createSegmentGroup(E,Oe,b,R)}),new pn(L,z)}createSegments(E,T,b,R){return T.map(L=>L.path.startsWith(":")?this.findPosParam(E,L,R):this.findOrReturn(L,b))}findPosParam(E,T,b){const R=b[T.path.substring(1)];if(!R)throw new C.vHH(4001,!1);return R}findOrReturn(E,T){let b=0;for(const R of T){if(R.path===E.path)return T.splice(b),R;b++}return E}}const qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(_,E,T,b,R){const L=cs(_,E,T);return L.matched?(b=function Da(_,E){return _.providers&&!_._injector&&(_._injector=(0,C.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}(E,b),function nl(_,E,T,b){const R=E.canMatch;if(!R||0===R.length)return(0,ae.of)(!0);const L=R.map(z=>{const he=eo(z,_);return $t(function el(_){return _&&Ca(_.canMatch)}(he)?he.canMatch(E,T):_.runInContext(()=>he(E,T)))});return(0,ae.of)(L).pipe(qi(),Sa())}(b,E,T).pipe((0,qt.U)(z=>!0===z?L:{...qo}))):(0,ae.of)(L)}function cs(_,E,T){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||T.length>0)?{...qo}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const R=(E.matcher||Et)(T,_,E);if(!R)return{...qo};const L={};Object.entries(R.posParams??{}).forEach(([he,Oe])=>{L[he]=Oe.path});const z=R.consumed.length>0?{...L,...R.consumed[R.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:R.consumed,remainingSegments:T.slice(R.consumed.length),parameters:z,positionalParamSegments:R.posParams??{}}}function $n(_,E,T,b){return T.length>0&&function kr(_,E,T){return T.some(b=>ro(_,E,b)&&Nr(b)!==ne)}(_,T,b)?{segmentGroup:new pn(E,Ko(b,new pn(T,_.children))),slicedSegments:[]}:0===T.length&&function To(_,E,T){return T.some(b=>ro(_,E,b))}(_,T,b)?{segmentGroup:new pn(_.segments,Ju(_,0,T,b,_.children)),slicedSegments:T}:{segmentGroup:new pn(_.segments,_.children),slicedSegments:T}}function Ju(_,E,T,b,R){const L={};for(const z of b)if(ro(_,T,z)&&!R[Nr(z)]){const he=new pn([],{});L[Nr(z)]=he}return{...R,...L}}function Ko(_,E){const T={};T[ne]=E;for(const b of _)if(""===b.path&&Nr(b)!==ne){const R=new pn([],{});T[Nr(b)]=R}return T}function ro(_,E,T){return(!(_.hasChildren()||E.length>0)||"full"!==T.pathMatch)&&""===T.path}class us{constructor(E,T,b,R,L,z,he){this.injector=E,this.configLoader=T,this.rootComponentType=b,this.config=R,this.urlTree=L,this.paramsInheritanceStrategy=z,this.urlSerializer=he,this.allowRedirects=!0,this.applyRedirects=new Bs(this.urlSerializer,this.urlTree)}noMatchError(E){return new C.vHH(4002,!1)}recognize(){const E=$n(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ne).pipe(Ye(T=>{if(T instanceof rl)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof Vs?this.noMatchError(T):T}),(0,qt.U)(T=>{const b=new bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),R=new $i(b,T),L=new ur("",R),z=function po(_,E,T=null,b=null){return ts(Ns(_),E,T,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return z.queryParams=this.urlTree.queryParams,L.url=this.urlSerializer.serialize(z),this.inheritParamsAndData(L._root),{state:L,tree:z}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,ne).pipe(Ye(b=>{throw b instanceof Vs?this.noMatchError(b):b}))}inheritParamsAndData(E){const T=E.value,b=Ai(T,this.paramsInheritanceStrategy);T.params=Object.freeze(b.params),T.data=Object.freeze(b.data),E.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(E,T,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(E,T,b):this.processSegment(E,T,b,b.segments,R,!0)}processChildren(E,T,b){const R=[];for(const L of Object.keys(b.children))"primary"===L?R.unshift(L):R.push(L);return(0,ie.D)(R).pipe(Ne(L=>{const z=b.children[L],he=function Wi(_,E){const T=_.filter(b=>Nr(b)===E);return T.push(..._.filter(b=>Nr(b)!==E)),T}(T,L);return this.processSegmentGroup(E,he,z,L)}),function St(_,E){return(0,we.e)(function Ze(_,E,T,b,R){return(L,z)=>{let he=T,Oe=E,Fe=0;L.subscribe((0,Ue.x)(z,jt=>{const It=Fe++;Oe=he?_(Oe,jt,It):(he=!0,jt),b&&z.next(Oe)},R&&(()=>{he&&z.next(Oe),z.complete()})))}}(_,E,arguments.length>=2,!0))}((L,z)=>(L.push(...z),L)),(0,at.d)(null),function hn(_,E){const T=arguments.length>=2;return b=>b.pipe(_?(0,Qn.h)((R,L)=>_(R,L,b)):pe.y,Wn(1),T?(0,at.d)(E):(0,Bt.T)(()=>new He.K))}(),(0,_e.z)(L=>{if(null===L)return Ki(b);const z=sl(L);return function gi(_){_.sort((E,T)=>E.value.outlet===ne?-1:T.value.outlet===ne?1:E.value.outlet.localeCompare(T.value.outlet))}(z),(0,ae.of)(z)}))}processSegment(E,T,b,R,L,z){return(0,ie.D)(T).pipe(Ne(he=>this.processSegmentAgainstRoute(he._injector??E,T,he,b,R,L,z).pipe(Ye(Oe=>{if(Oe instanceof Vs)return(0,ae.of)(null);throw Oe}))),(0,Te.P)(he=>!!he),Ye(he=>{if(Bc(he))return function Yo(_,E,T){return 0===E.length&&!_.children[T]}(b,R,L)?(0,ae.of)([]):Ki(b);throw he}))}processSegmentAgainstRoute(E,T,b,R,L,z,he){return function Zo(_,E,T,b){return!!(Nr(_)===b||b!==ne&&ro(E,T,_))&&("**"===_.path||cs(E,_,T).matched)}(b,R,L,z)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(E,R,b,L,z,he):he&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,R,T,b,L,z):Ki(R):Ki(R)}expandSegmentAgainstRouteUsingRedirect(E,T,b,R,L,z){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,b,R,z):this.expandRegularSegmentAgainstRouteUsingRedirect(E,T,b,R,L,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,b,R){const L=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Cr(L):this.applyRedirects.lineralizeSegments(b,L).pipe((0,_e.z)(z=>{const he=new pn(z,{});return this.processSegment(E,T,he,z,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,T,b,R,L,z){const{matched:he,consumedSegments:Oe,remainingSegments:Fe,positionalParamSegments:jt}=cs(T,R,L);if(!he)return Ki(T);const It=this.applyRedirects.applyRedirectCommands(Oe,R.redirectTo,jt);return R.redirectTo.startsWith("/")?Cr(It):this.applyRedirects.lineralizeSegments(R,It).pipe((0,_e.z)(_t=>this.processSegment(E,b,T,_t.concat(Fe),z,!1)))}matchSegmentAgainstRoute(E,T,b,R,L,z){let he;if("**"===b.path){const Oe=R.length>0?xt(R).parameters:{},Fe=new bs(R,Oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,io(b),Nr(b),b.component??b._loadedComponent??null,b,v(b));he=(0,ae.of)({snapshot:Fe,consumedSegments:[],remainingSegments:[]}),T.children={}}else he=Kr(T,b,R,E).pipe((0,qt.U)(({matched:Oe,consumedSegments:Fe,remainingSegments:jt,parameters:It})=>Oe?{snapshot:new bs(Fe,It,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,io(b),Nr(b),b.component??b._loadedComponent??null,b,v(b)),consumedSegments:Fe,remainingSegments:jt}:null));return he.pipe((0,nn.w)(Oe=>null===Oe?Ki(T):this.getChildConfig(E=b._injector??E,b,R).pipe((0,nn.w)(({routes:Fe})=>{const jt=b._loadedInjector??E,{snapshot:It,consumedSegments:_t,remainingSegments:Ht}=Oe,{segmentGroup:an,slicedSegments:ll}=$n(T,_t,Ht,Fe);if(0===ll.length&&an.hasChildren())return this.processChildren(jt,Fe,an).pipe((0,qt.U)(vt=>null===vt?null:[new $i(It,vt)]));if(0===Fe.length&&0===ll.length)return(0,ae.of)([new $i(It,[])]);const hr=Nr(b)===L;return this.processSegment(jt,Fe,an,ll,hr?ne:L,!0).pipe((0,qt.U)(vt=>[new $i(It,vt)]))}))))}getChildConfig(E,T,b){return T.children?(0,ae.of)({routes:T.children,injector:E}):T.loadChildren?void 0!==T._loadedRoutes?(0,ae.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function no(_,E,T,b){const R=E.canLoad;if(void 0===R||0===R.length)return(0,ae.of)(!0);const L=R.map(z=>{const he=eo(z,_);return $t(function ql(_){return _&&Ca(_.canLoad)}(he)?he.canLoad(E,T):_.runInContext(()=>he(E,T)))});return(0,ae.of)(L).pipe(qi(),Sa())}(E,T,b).pipe((0,_e.z)(R=>R?this.configLoader.loadChildren(E,T).pipe((0,Ae.b)(L=>{T._loadedRoutes=L.routes,T._loadedInjector=L.injector})):function Zl(_){return ye(Eo(!1,3))}())):(0,ae.of)({routes:[],injector:E})}}function Fn(_){const E=_.value.routeConfig;return E&&""===E.path}function sl(_){const E=[],T=new Set;for(const b of _){if(!Fn(b)){E.push(b);continue}const R=E.find(L=>b.value.routeConfig===L.value.routeConfig);void 0!==R?(R.children.push(...b.children),T.add(R)):E.push(b)}for(const b of T){const R=sl(b.children);E.push(new $i(b.value,R))}return E.filter(b=>!T.has(b))}function io(_){return _.data||{}}function v(_){return _.resolve||{}}function ut(_){return"string"==typeof _.title||null===_.title}function mn(_){return(0,nn.w)(E=>{const T=_(E);return T?(0,ie.D)(T).pipe((0,qt.U)(()=>E)):(0,ae.of)(E)})}const An=new C.OlP("ROUTES");let En=(()=>{var _;class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,ae.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const R=$t(b.loadComponent()).pipe((0,qt.U)(dr),(0,Ae.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=z}),In(()=>{this.componentLoaders.delete(b)})),L=new pt(R,()=>new Vt.x).pipe(qe());return this.componentLoaders.set(b,L),L}loadChildren(b,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,ae.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const z=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,qt.U)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(R);let Fe,jt;return Array.isArray(Oe)?jt=Oe:(Fe=Oe.create(b).injector,jt=Fe.get(An,[],C.XFs.Self|C.XFs.Optional).flat()),{routes:jt.map(Mr),injector:Fe}}),In(()=>{this.childrenLoaders.delete(R)})),he=new pt(z,()=>new Vt.x).pipe(qe());return this.childrenLoaders.set(R,he),he}loadModuleFactoryOrRoutes(b){return $t(b()).pipe((0,qt.U)(dr),(0,_e.z)(R=>R instanceof C.YKP||Array.isArray(R)?(0,ae.of)(R):(0,ie.D)(this.compiler.compileModuleAsync(R))))}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();function dr(_){return function vn(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Sn=(()=>{var _;class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vt.x,this.transitionAbortSubject=new Vt.x,this.configLoader=(0,C.f3M)(En),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(oe),this.rootContexts=(0,C.f3M)(Js),this.inputBindingEnabled=null!==(0,C.f3M)(ir,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new qa(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new Wa(L))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:R})}setupNavigations(b,R,L){return this.transitions=new de.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:b.urlHandlingStrategy.extract(R),urlAfterRedirects:b.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ns,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qn.h)(z=>0!==z.id),(0,qt.U)(z=>({...z,extractedUrl:b.urlHandlingStrategy.extract(z.rawUrl)})),(0,nn.w)(z=>{this.currentTransition=z;let he=!1,Oe=!1;return(0,ae.of)(z).pipe((0,Ae.b)(Fe=>{this.currentNavigation={id:Fe.id,initialUrl:Fe.rawUrl,extractedUrl:Fe.extractedUrl,trigger:Fe.source,extras:Fe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,nn.w)(Fe=>{const jt=Fe.currentBrowserUrl.toString(),It=!b.navigated||Fe.extractedUrl.toString()!==jt||jt!==Fe.currentUrlTree.toString();if(!It&&"reload"!==(Fe.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Ht="";return this.events.next(new vs(Fe.id,this.urlSerializer.serialize(Fe.rawUrl),Ht,0)),Fe.resolve(null),Re.E}if(b.urlHandlingStrategy.shouldProcessUrl(Fe.rawUrl))return(0,ae.of)(Fe).pipe((0,nn.w)(Ht=>{const an=this.transitions?.getValue();return this.events.next(new Uo(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),Ht.source,Ht.restoredState)),an!==this.transitions?.getValue()?Re.E:Promise.resolve(Ht)}),function O(_,E,T,b,R,L){return(0,_e.z)(z=>function il(_,E,T,b,R,L,z="emptyOnly"){return new us(_,E,T,b,R,z,L).recognize()}(_,E,T,b,z.extractedUrl,R,L).pipe((0,qt.U)(({state:he,tree:Oe})=>({...z,targetSnapshot:he,urlAfterRedirects:Oe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,Ae.b)(Ht=>{z.targetSnapshot=Ht.targetSnapshot,z.urlAfterRedirects=Ht.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ht.urlAfterRedirects};const an=new Ea(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(an)}));if(It&&b.urlHandlingStrategy.shouldProcessUrl(Fe.currentRawUrl)){const{id:Ht,extractedUrl:an,source:ll,restoredState:hr,extras:vt}=Fe,oi=new Uo(Ht,this.urlSerializer.serialize(an),ll,hr);this.events.next(oi);const cl=Pt(0,this.rootComponentType).snapshot;return this.currentTransition=z={...Fe,targetSnapshot:cl,urlAfterRedirects:an,extras:{...vt,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(z)}{const Ht="";return this.events.next(new vs(Fe.id,this.urlSerializer.serialize(Fe.extractedUrl),Ht,1)),Fe.resolve(null),Re.E}}),(0,Ae.b)(Fe=>{const jt=new zr(Fe.id,this.urlSerializer.serialize(Fe.extractedUrl),this.urlSerializer.serialize(Fe.urlAfterRedirects),Fe.targetSnapshot);this.events.next(jt)}),(0,qt.U)(Fe=>(this.currentTransition=z={...Fe,guards:Ja(Fe.targetSnapshot,Fe.currentSnapshot,this.rootContexts)},z)),function ws(_,E){return(0,_e.z)(T=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:L,canDeactivateChecks:z}}=T;return 0===z.length&&0===L.length?(0,ae.of)({...T,guardsResult:!0}):function as(_,E,T,b){return(0,ie.D)(_).pipe((0,_e.z)(R=>function to(_,E,T,b,R){const L=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,ae.of)(!0);const z=L.map(he=>{const Oe=qr(E)??R,Fe=eo(he,Oe);return $t(function Kl(_){return _&&Ca(_.canDeactivate)}(Fe)?Fe.canDeactivate(_,E,T,b):Oe.runInContext(()=>Fe(_,E,T,b))).pipe((0,Te.P)())});return(0,ae.of)(z).pipe(qi())}(R.component,R.route,T,E,b)),(0,Te.P)(R=>!0!==R,!0))}(z,b,R,_).pipe((0,_e.z)(he=>he&&function Lc(_){return"boolean"==typeof _}(he)?function Wo(_,E,T,b){return(0,ie.D)(E).pipe(Ne(R=>(0,Ft.z)(function Rr(_,E){return null!==_&&E&&E(new Sr(_)),(0,ae.of)(!0)}(R.route.parent,b),function Ds(_,E){return null!==_&&E&&E(new $o(_)),(0,ae.of)(!0)}(R.route,b),function si(_,E,T){const b=E[E.length-1],L=E.slice(0,E.length-1).reverse().map(z=>function Xa(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(z)).filter(z=>null!==z).map(z=>be(()=>{const he=z.guards.map(Oe=>{const Fe=qr(z.node)??T,jt=eo(Oe,Fe);return $t(function Vc(_){return _&&Ca(_.canActivateChild)}(jt)?jt.canActivateChild(b,_):Fe.runInContext(()=>jt(b,_))).pipe((0,Te.P)())});return(0,ae.of)(he).pipe(qi())}));return(0,ae.of)(L).pipe(qi())}(_,R.path,T),function Do(_,E,T){const b=E.routeConfig?E.routeConfig.canActivate:null;if(!b||0===b.length)return(0,ae.of)(!0);const R=b.map(L=>be(()=>{const z=qr(E)??T,he=eo(L,z);return $t(function Ia(_){return _&&Ca(_.canActivate)}(he)?he.canActivate(E,_):z.runInContext(()=>he(E,_))).pipe((0,Te.P)())}));return(0,ae.of)(R).pipe(qi())}(_,R.route,T))),(0,Te.P)(R=>!0!==R,!0))}(b,L,_,E):(0,ae.of)(he)),(0,qt.U)(he=>({...T,guardsResult:he})))})}(this.environmentInjector,Fe=>this.events.next(Fe)),(0,Ae.b)(Fe=>{if(z.guardsResult=Fe.guardsResult,un(Fe.guardsResult))throw zi(0,Fe.guardsResult);const jt=new yo(Fe.id,this.urlSerializer.serialize(Fe.extractedUrl),this.urlSerializer.serialize(Fe.urlAfterRedirects),Fe.targetSnapshot,!!Fe.guardsResult);this.events.next(jt)}),(0,Qn.h)(Fe=>!!Fe.guardsResult||(this.cancelNavigationTransition(Fe,"",3),!1)),mn(Fe=>{if(Fe.guards.canActivateChecks.length)return(0,ae.of)(Fe).pipe((0,Ae.b)(jt=>{const It=new za(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(It)}),(0,nn.w)(jt=>{let It=!1;return(0,ae.of)(jt).pipe(function W(_,E){return(0,_e.z)(T=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=T;if(!R.length)return(0,ae.of)(T);let L=0;return(0,ie.D)(R).pipe(Ne(z=>function M(_,E,T,b){const R=_.routeConfig,L=_._resolve;return void 0!==R?.title&&!ut(R)&&(L[De]=R.title),function G(_,E,T,b){const R=function re(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===R.length)return(0,ae.of)({});const L={};return(0,ie.D)(R).pipe((0,_e.z)(z=>function Be(_,E,T,b){const R=qr(E)??b,L=eo(_,R);return $t(L.resolve?L.resolve(E,T):R.runInContext(()=>L(E,T)))}(_[z],E,T,b).pipe((0,Te.P)(),(0,Ae.b)(he=>{L[z]=he}))),Wn(1),(0,Qt.h)(L),Ye(z=>Bc(z)?Re.E:ye(z)))}(L,_,E,b).pipe((0,qt.U)(z=>(_._resolvedData=z,_.data=Ai(_,T).resolve,R&&ut(R)&&(_.data[De]=R.title),null)))}(z.route,b,_,E)),(0,Ae.b)(()=>L++),Wn(1),(0,_e.z)(z=>L===R.length?(0,ae.of)(T):Re.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.b)({next:()=>It=!0,complete:()=>{It||this.cancelNavigationTransition(jt,"",2)}}))}),(0,Ae.b)(jt=>{const It=new Ul(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(It)}))}),mn(Fe=>{const jt=It=>{const _t=[];It.routeConfig?.loadComponent&&!It.routeConfig._loadedComponent&&_t.push(this.configLoader.loadComponent(It.routeConfig).pipe((0,Ae.b)(Ht=>{It.component=Ht}),(0,qt.U)(()=>{})));for(const Ht of It.children)_t.push(...jt(Ht));return _t};return it(jt(Fe.targetSnapshot.root)).pipe((0,at.d)(),(0,xn.q)(1))}),mn(()=>this.afterPreactivation()),(0,qt.U)(Fe=>{const jt=function is(_,E,T){const b=ri(_,E._root,T?T._root:void 0);return new wt(b,E)}(b.routeReuseStrategy,Fe.targetSnapshot,Fe.currentRouterState);return this.currentTransition=z={...Fe,targetRouterState:jt},z}),(0,Ae.b)(()=>{this.events.next(new pr)}),((_,E,T,b)=>(0,qt.U)(R=>(new Qa(E,R.targetRouterState,R.currentRouterState,T,b).activate(_),R)))(this.rootContexts,b.routeReuseStrategy,Fe=>this.events.next(Fe),this.inputBindingEnabled),(0,xn.q)(1),(0,Ae.b)({next:Fe=>{he=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ii(Fe.id,this.urlSerializer.serialize(Fe.extractedUrl),this.urlSerializer.serialize(Fe.urlAfterRedirects))),b.titleStrategy?.updateTitle(Fe.targetRouterState.snapshot),Fe.resolve(!0)},complete:()=>{he=!0}}),(0,Kn.R)(this.transitionAbortSubject.pipe((0,Ae.b)(Fe=>{throw Fe}))),In(()=>{he||Oe||this.cancelNavigationTransition(z,"",1),this.currentNavigation?.id===z.id&&(this.currentNavigation=null)}),Ye(Fe=>{if(Oe=!0,gn(Fe))this.events.next(new ys(z.id,this.urlSerializer.serialize(z.extractedUrl),Fe.message,Fe.cancellationCode)),function ss(_){return gn(_)&&un(_.url)}(Fe)?this.events.next(new Tr(Fe.url)):z.resolve(!1);else{this.events.next(new _o(z.id,this.urlSerializer.serialize(z.extractedUrl),Fe,z.targetSnapshot??void 0));try{z.resolve(b.errorHandler(Fe))}catch(jt){z.reject(jt)}}return Re.E}))}))}cancelNavigationTransition(b,R,L){const z=new ys(b.id,this.urlSerializer.serialize(b.extractedUrl),R,L);this.events.next(z),b.resolve(!1)}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();function gr(_){return _!==ns}let Si=(()=>{var _;class E{buildTitle(b){let R,L=b.root;for(;void 0!==L;)R=this.getResolvedTitleForRoute(L)??R,L=L.children.find(z=>z.outlet===ne);return R}getResolvedTitleForRoute(b){return b.data[De]}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return(0,C.f3M)(ds)},providedIn:"root"}),E})(),ds=(()=>{var _;class E extends Si{constructor(b){super(),this.title=b}updateTitle(b){const R=this.buildTitle(b);void 0!==R&&this.title.setTitle(R)}}return(_=E).\u0275fac=function(b){return new(b||_)(C.LFG(ue.Dx))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})(),Zi=(()=>{var _;class E{}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return(0,C.f3M)(Or)},providedIn:"root"}),E})();class Mi{shouldDetach(E){return!1}store(E,T){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,T){return E.routeConfig===T.routeConfig}}let Or=(()=>{var _;class E extends Mi{}return(_=E).\u0275fac=function(){let T;return function(R){return(T||(T=C.n5z(_)))(R||_)}}(),_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();const Ri=new C.OlP("",{providedIn:"root",factory:()=>({})});let js=(()=>{var _;class E{}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return(0,C.f3M)(Jn)},providedIn:"root"}),E})(),Jn=(()=>{var _;class E{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,R){return b}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();var Io=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Io||{});function Ma(_,E){_.events.pipe((0,Qn.h)(T=>T instanceof Ii||T instanceof ys||T instanceof _o||T instanceof vs),(0,qt.U)(T=>T instanceof Ii||T instanceof vs?Io.COMPLETE:T instanceof ys&&(0===T.code||1===T.code)?Io.REDIRECTING:Io.FAILED),(0,Qn.h)(T=>T!==Io.REDIRECTING),(0,xn.q)(1)).subscribe(()=>{E()})}function mi(_){throw _}function jc(_,E,T){return E.parse("/")}const Yl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{var _;class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this._events=new Vt.x,this.options=(0,C.f3M)(Ri,{optional:!0})||{},this.pendingTasks=(0,C.f3M)(C.HDt),this.errorHandler=this.options.errorHandler||mi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(js),this.routeReuseStrategy=(0,C.f3M)(Zi),this.titleStrategy=(0,C.f3M)(Si),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.f3M)(An,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.f3M)(Sn),this.urlSerializer=(0,C.f3M)(oe),this.location=(0,C.f3M)(Gt.Ye),this.componentInputBindingEnabled=!!(0,C.f3M)(ir,{optional:!0}),this.eventsSubscription=new ze.w0,this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(Ql(R)&&this._events.next(R));if(R instanceof Uo)gr(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(R instanceof vs)this.rawUrlTree=L.rawUrl;else if(R instanceof Ea){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(z,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(R instanceof pr)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(R instanceof ys)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(L);else if(R instanceof Tr){const z=this.urlHandlingStrategy.merge(R.url,L.currentRawUrl),he={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gr(L.source)};this.scheduleNavigation(z,ns,null,he,{resolve:L.resolve,reject:L.reject,promise:L.promise})}R instanceof _o&&this.restoreHistory(L,!0),R instanceof Ii&&(this.navigated=!0),Ql(R)&&this._events.next(R)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ns,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,R,b.state)},0)}))}navigateToSyncWithBrowser(b,R,L){const z={replaceUrl:!0},he=L?.navigationId?L:null;if(L){const Fe={...L};delete Fe.navigationId,delete Fe.\u0275routerPageId,0!==Object.keys(Fe).length&&(z.state=Fe)}const Oe=this.parseUrl(b);this.scheduleNavigation(Oe,R,he,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,R={}){const{relativeTo:L,queryParams:z,fragment:he,queryParamsHandling:Oe,preserveFragment:Fe}=R,jt=Fe?this.currentUrlTree.fragment:he;let _t,It=null;switch(Oe){case"merge":It={...this.currentUrlTree.queryParams,...z};break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=z||null}null!==It&&(It=this.removeEmptyProps(It));try{_t=Ns(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),_t=this.currentUrlTree.root}return ts(_t,b,It,jt??null)}navigateByUrl(b,R={skipLocationChange:!1}){const L=un(b)?b:this.parseUrl(b),z=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(z,ns,null,R)}navigate(b,R={skipLocationChange:!1}){return function Xu(_){for(let E=0;E<_.length;E++)if(null==_[E])throw new C.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(L){R=this.malformedUriErrorHandler(L,this.urlSerializer,b)}return R}isActive(b,R){let L;if(L=!0===R?{...Yl}:!1===R?{...Qo}:R,un(b))return er(this.currentUrlTree,b,L);const z=this.parseUrl(b);return er(this.currentUrlTree,z,L)}removeEmptyProps(b){return Object.keys(b).reduce((R,L)=>{const z=b[L];return null!=z&&(R[L]=z),R},{})}scheduleNavigation(b,R,L,z,he){if(this.disposed)return Promise.resolve(!1);let Oe,Fe,jt;he?(Oe=he.resolve,Fe=he.reject,jt=he.promise):jt=new Promise((_t,Ht)=>{Oe=_t,Fe=Ht});const It=this.pendingTasks.add();return Ma(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(It))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:z,resolve:Oe,reject:Fe,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(_t=>Promise.reject(_t))}setBrowserUrl(b,R){const L=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl){const he={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(L,"",he)}else{const z={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(L,"",z)}}restoreHistory(b,R=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-this.browserPageId;0!==z?this.location.historyGo(z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===z&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return(_=E).\u0275fac=function(b){return new(b||_)},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();function Ql(_){return!(_ instanceof pr||_ instanceof Tr)}class td{}let Xl=(()=>{var _;class E{constructor(b,R,L,z,he){this.router=b,this.injector=L,this.preloadingStrategy=z,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qn.h)(b=>b instanceof Ii),Ne(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const L=[];for(const z of R){z.providers&&!z._injector&&(z._injector=(0,C.MMx)(z.providers,b,`Route: ${z.path}`));const he=z._injector??b,Oe=z._loadedInjector??he;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&L.push(this.preloadConfig(he,z)),(z.children||z._loadedRoutes)&&L.push(this.processRoutes(Oe,z.children??z._loadedRoutes))}return(0,ie.D)(L).pipe((0,sn.J)())}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>{let L;L=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(b,R):(0,ae.of)(null);const z=L.pipe((0,_e.z)(he=>null===he?(0,ae.of)(void 0):(R._loadedRoutes=he.routes,R._loadedInjector=he.injector,this.processRoutes(he.injector??b,he.routes))));if(R.loadComponent&&!R._loadedComponent){const he=this.loader.loadComponent(R);return(0,ie.D)([z,he]).pipe((0,sn.J)())}return z})}}return(_=E).\u0275fac=function(b){return new(b||_)(C.LFG(sr),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(td),C.LFG(En))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),E})();const ol=new C.OlP("");let Jt=(()=>{var _;class E{constructor(b,R,L,z,he={}){this.urlSerializer=b,this.transitions=R,this.viewportScroller=L,this.zone=z,this.options=he,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},he.scrollPositionRestoration=he.scrollPositionRestoration||"disabled",he.anchorScrolling=he.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ii?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof vs&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof ln&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ln(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(_=E).\u0275fac=function(b){C.$Z()},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac}),E})();function Ts(_,E){return{\u0275kind:_,\u0275providers:E}}function ec(){const _=(0,C.f3M)(C.zs3);return E=>{const T=_.get(C.z2F);if(E!==T.components[0])return;const b=_.get(sr),R=_.get(tc);1===_.get(al)&&b.initialNavigation(),_.get(Mn,null,C.XFs.Optional)?.setUpPreloading(),_.get(ol,null,C.XFs.Optional)?.init(),b.resetRootComponentType(T.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const tc=new C.OlP("",{factory:()=>new Vt.x}),al=new C.OlP("",{providedIn:"root",factory:()=>1}),Mn=new C.OlP("");function qc(_){return Ts(0,[{provide:Mn,useExisting:Xl},{provide:td,useExisting:_}])}const ar=new C.OlP("ROUTER_FORROOT_GUARD"),Ao=[Gt.Ye,{provide:oe,useClass:Se},sr,Js,{provide:or,useFactory:function $c(_){return _.routerState.root},deps:[sr]},En,[]];function gh(){return new C.PXZ("Router",sr)}let rt=(()=>{var _;class E{constructor(b){}static forRoot(b,R){return{ngModule:E,providers:[Ao,[],{provide:An,multi:!0,useValue:b},{provide:ar,useFactory:kt,deps:[[sr,new C.FiY,new C.tp0]]},{provide:Ri,useValue:R||{}},R?.useHash?{provide:Gt.S$,useClass:Gt.Do}:{provide:Gt.S$,useClass:Gt.b0},{provide:ol,useFactory:()=>{const _=(0,C.f3M)(Gt.EM),E=(0,C.f3M)(C.R0b),T=(0,C.f3M)(Ri),b=(0,C.f3M)(Sn),R=(0,C.f3M)(oe);return T.scrollOffset&&_.setOffset(T.scrollOffset),new Jt(R,b,_,E,T)}},R?.preloadingStrategy?qc(R.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:gh},R?.initialNavigation?Lt(R):[],R?.bindToComponentInputs?Ts(8,[bo,{provide:ir,useExisting:bo}]).\u0275providers:[],[{provide:oo,useFactory:ec},{provide:C.tb,multi:!0,useExisting:oo}]]}}static forChild(b){return{ngModule:E,providers:[{provide:An,multi:!0,useValue:b}]}}}return(_=E).\u0275fac=function(b){return new(b||_)(C.LFG(ar,8))},_.\u0275mod=C.oAB({type:_}),_.\u0275inj=C.cJS({}),E})();function kt(_){return"guarded"}function Lt(_){return["disabled"===_.initialNavigation?Ts(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const E=(0,C.f3M)(sr);return()=>{E.setUpLocationChangeListener()}}},{provide:al,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ts(2,[{provide:al,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:E=>{const T=E.get(Gt.V_,Promise.resolve());return()=>T.then(()=>new Promise(b=>{const R=E.get(sr),L=E.get(tc);Ma(R,()=>{b(!0)}),E.get(Sn).afterPreactivation=()=>(b(!0),L.closed?(0,ae.of)(void 0):L),R.initialNavigation()}))}}]).\u0275providers:[]]}const oo=new C.OlP("")},4303:(bt,Ce,k)=>{k.d(Ce,{Jn:()=>ne,KN:()=>fn,Mq:()=>We,Xd:()=>Bt,ZF:()=>De,qX:()=>hn});var de,Ie,C=k(5861),ee=k(4537),H=k(7879),se=k(9058),ie=k(1878);class pe{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Y(Ke){const oe=Ke.getComponent();return"VERSION"===oe?.type}(Se)){const Je=Se.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Se=>Se).join(" ")}}const X="@firebase/app",J="0.9.18",Ue=new H.Yd("@firebase/app"),Ae="[DEFAULT]",Ye={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,St=new Map;function at(Ke,oe){try{Ke.container.addComponent(oe)}catch(Se){Ue.debug(`Component ${oe.name} failed to register with FirebaseApp ${Ke.name}`,Se)}}function Bt(Ke){const oe=Ke.name;if(St.has(oe))return Ue.debug(`There were multiple attempts to register component ${oe}.`),!1;St.set(oe,Ke);for(const Se of Ze.values())at(Se,Ke);return!0}function hn(Ke,oe){const Se=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),Ke.container.getProvider(oe)}const sn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ue{constructor(oe,Se,Je){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const ne="10.3.1";function De(Ke,oe={}){let Se=Ke;"object"!=typeof oe&&(oe={name:oe});const Je=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},oe),mt=Je.name;if("string"!=typeof mt||!mt)throw sn.create("bad-app-name",{appName:String(mt)});if(Se||(Se=(0,se.aH)()),!Se)throw sn.create("no-options");const Mt=Ze.get(mt);if(Mt){if((0,se.vZ)(Se,Mt.options)&&(0,se.vZ)(Je,Mt.config))return Mt;throw sn.create("duplicate-app",{appName:mt})}const jn=new ee.H0(mt);for(const B of St.values())jn.addComponent(B);const te=new ue(Se,Je,jn);return Ze.set(mt,te),te}function We(Ke=Ae){const oe=Ze.get(Ke);if(!oe&&Ke===Ae&&(0,se.aH)())return De();if(!oe)throw sn.create("no-app",{appName:Ke});return oe}function fn(Ke,oe,Se){var Je;let mt=null!==(Je=Ye[Ke])&&void 0!==Je?Je:Ke;Se&&(mt+=`-${Se}`);const Mt=mt.match(/\s|\//),jn=oe.match(/\s|\//);if(Mt||jn){const te=[`Unable to register library "${mt}" with version "${oe}":`];return Mt&&te.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Mt&&jn&&te.push("and"),jn&&te.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void Ue.warn(te.join(" "))}Bt(new ee.wA(`${mt}-version`,()=>({library:mt,version:oe}),"VERSION"))}const xt="firebase-heartbeat-database",$t=1,on="firebase-heartbeat-store";let Xn=null;function er(){return Xn||(Xn=(0,ie.X3)(xt,$t,{upgrade:(Ke,oe)=>{0===oe&&Ke.createObjectStore(on)}}).catch(Ke=>{throw sn.create("idb-open",{originalErrorMessage:Ke.message})})),Xn}function kn(Ke,oe){return(Ie=Ie||(0,C.Z)(function*(Se,Je){try{const Mt=(yield er()).transaction(on,"readwrite");yield Mt.objectStore(on).put(Je,Bn(Se)),yield Mt.done}catch(mt){if(mt instanceof se.ZR)Ue.warn(mt.message);else{const Mt=sn.create("idb-set",{originalErrorMessage:mt?.message});Ue.warn(Mt.message)}}})).apply(this,arguments)}function Bn(Ke){return`${Ke.name}!${Ke.options.appId}`}class yn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new Xr(Se),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var oe=this;return(0,C.Z)(function*(){const Je=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=yr();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==mt&&!oe._heartbeatsCache.heartbeats.some(Mt=>Mt.date===mt))return oe._heartbeatsCache.heartbeats.push({date:mt,agent:Je}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(Mt=>{const jn=new Date(Mt.date).valueOf();return Date.now()-jn<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,C.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Se=yr(),{heartbeatsToSend:Je,unsentEntries:mt}=function pn(Ke,oe=1024){const Se=[];let Je=Ke.slice();for(const mt of Ke){const Mt=Se.find(jn=>jn.agent===mt.agent);if(Mt){if(Mt.dates.push(mt.date),di(Se)>oe){Mt.dates.pop();break}}else if(Se.push({agent:mt.agent,dates:[mt.date]}),di(Se)>oe){Se.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Je}}(oe._heartbeatsCache.heartbeats),Mt=(0,se.L)(JSON.stringify({version:2,heartbeats:Je}));return oe._heartbeatsCache.lastSentHeartbeatDate=Se,mt.length>0?(oe._heartbeatsCache.heartbeats=mt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),Mt})()}}function yr(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,C.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function rn(Ke){return(de=de||(0,C.Z)(function*(oe){try{return yield(yield er()).transaction(on).objectStore(on).get(Bn(oe))}catch(Se){if(Se instanceof se.ZR)Ue.warn(Se.message);else{const Je=sn.create("idb-get",{originalErrorMessage:Se?.message});Ue.warn(Je.message)}}})).apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Se=this;return(0,C.Z)(function*(){var Je;if(yield Se._canUseIndexedDBPromise){const Mt=yield Se.read();return kn(Se.app,{lastSentHeartbeatDate:null!==(Je=oe.lastSentHeartbeatDate)&&void 0!==Je?Je:Mt.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Se=this;return(0,C.Z)(function*(){var Je;if(yield Se._canUseIndexedDBPromise){const Mt=yield Se.read();return kn(Se.app,{lastSentHeartbeatDate:null!==(Je=oe.lastSentHeartbeatDate)&&void 0!==Je?Je:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...oe.heartbeats]})}})()}}function di(Ke){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Fr(Ke){Bt(new ee.wA("platform-logger",oe=>new pe(oe),"PRIVATE")),Bt(new ee.wA("heartbeat",oe=>new yn(oe),"PRIVATE")),fn(X,J,Ke),fn(X,J,"esm2017"),fn("fire-js","")}("")},4537:(bt,Ce,k)=>{k.d(Ce,{H0:()=>Ie,wA:()=>H});var C=k(5861),ee=k(9058);class H{constructor(Y,X,J){this.name=Y,this.instanceFactory=X,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const se="[DEFAULT]";class ie{constructor(Y,X){this.name=Y,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const X=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(X)){const J=new ee.BH;if(this.instancesDeferred.set(X,J),this.isInitialized(X)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:X});Ue&&J.resolve(Ue)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(Y){var X;const J=this.normalizeInstanceIdentifier(Y?.identifier),Ue=null!==(X=Y?.optional)&&void 0!==X&&X;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(ve){if(Ue)return null;throw ve}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function de(pe){return"EAGER"===pe.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[X,J]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(X);try{const ve=this.getOrInitializeService({instanceIdentifier:Ue});J.resolve(ve)}catch{}}}}clearInstance(Y=se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,C.Z)(function*(){const X=Array.from(Y.instances.values());yield Promise.all([...X.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...X.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=se){return this.instances.has(Y)}getOptions(Y=se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:X={}}=Y,J=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:J,options:X});for(const[ve,it]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(ve)&&it.resolve(Ue);return Ue}onInit(Y,X){var J;const Ue=this.normalizeInstanceIdentifier(X),ve=null!==(J=this.onInitCallbacks.get(Ue))&&void 0!==J?J:new Set;ve.add(Y),this.onInitCallbacks.set(Ue,ve);const it=this.instances.get(Ue);return it&&Y(it,Ue),()=>{ve.delete(Y)}}invokeOnInitCallbacks(Y,X){const J=this.onInitCallbacks.get(X);if(J)for(const Ue of J)try{Ue(Y,X)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:X={}}){let J=this.instances.get(Y);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=Y,pe===se?void 0:pe),options:X}),this.instances.set(Y,J),this.instancesOptions.set(Y,X),this.invokeOnInitCallbacks(J,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,J)}catch{}var pe;return J||null}normalizeInstanceIdentifier(Y=se){return this.component?this.component.multipleInstances?Y:se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const X=this.getProvider(Y.name);if(X.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);X.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const X=new ie(Y,this);return this.providers.set(Y,X),X}getProviders(){return Array.from(this.providers.values())}}},7879:(bt,Ce,k)=>{k.d(Ce,{Am:()=>pe,Ub:()=>Ie,Yd:()=>de,in:()=>ee});const C=[];var ee=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(ee||{});const H={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},se=ee.INFO,ie={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ae=(Y,X,...J)=>{if(X<Y.logLevel)return;const Ue=(new Date).toISOString(),ve=ie[X];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[ve](`[${Ue}]  ${Y.name}:`,...J)};class de{constructor(X){this.name=X,this._logLevel=se,this._logHandler=ae,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in ee))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?H[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...X),this._logHandler(this,ee.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...X),this._logHandler(this,ee.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...X),this._logHandler(this,ee.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...X),this._logHandler(this,ee.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...X),this._logHandler(this,ee.ERROR,...X)}}function Ie(Y){C.forEach(X=>{X.setLogLevel(Y)})}function pe(Y,X){for(const J of C){let Ue=null;X&&X.level&&(Ue=H[X.level]),J.userLogHandler=null===Y?null:(ve,it,...Ge)=>{const dt=Ge.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");it>=(Ue??ve.logLevel)&&Y({level:ee[it].toLowerCase(),message:dt,args:Ge,type:ve.name})}}}},1878:(bt,Ce,k)=>{k.d(Ce,{X3:()=>Ot});var C=k(5861);const ee=(we,qe)=>qe.some(pt=>we instanceof pt);let H,se;const de=new WeakMap,Ie=new WeakMap,pe=new WeakMap,Y=new WeakMap,X=new WeakMap;let ve={get(we,qe,pt){if(we instanceof IDBTransaction){if("done"===qe)return Ie.get(we);if("objectStoreNames"===qe)return we.objectStoreNames||pe.get(we);if("store"===qe)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return He(we[qe])},set:(we,qe,pt)=>(we[qe]=pt,!0),has:(we,qe)=>we instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in we};function dt(we){return"function"==typeof we?function Ge(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...qe){return we.apply(Ft(this),qe),He(de.get(this))}:function(...qe){return He(we.apply(Ft(this),qe))}:function(qe,...pt){const Vt=we.call(Ft(this),qe,...pt);return pe.set(Vt,qe.sort?qe.sort():[qe]),He(Vt)}}(we):(we instanceof IDBTransaction&&function Ue(we){if(Ie.has(we))return;const qe=new Promise((pt,Vt)=>{const Gt=()=>{we.removeEventListener("complete",qt),we.removeEventListener("error",nn),we.removeEventListener("abort",nn)},qt=()=>{pt(),Gt()},nn=()=>{Vt(we.error||new DOMException("AbortError","AbortError")),Gt()};we.addEventListener("complete",qt),we.addEventListener("error",nn),we.addEventListener("abort",nn)});Ie.set(we,qe)}(we),ee(we,function ie(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,ve):we)}function He(we){if(we instanceof IDBRequest)return function J(we){const qe=new Promise((pt,Vt)=>{const Gt=()=>{we.removeEventListener("success",qt),we.removeEventListener("error",nn)},qt=()=>{pt(He(we.result)),Gt()},nn=()=>{Vt(we.error),Gt()};we.addEventListener("success",qt),we.addEventListener("error",nn)});return qe.then(pt=>{pt instanceof IDBCursor&&de.set(pt,we)}).catch(()=>{}),X.set(qe,we),qe}(we);if(Y.has(we))return Y.get(we);const qe=dt(we);return qe!==we&&(Y.set(we,qe),X.set(qe,we)),qe}const Ft=we=>X.get(we);function Ot(we,qe,{blocked:pt,upgrade:Vt,blocking:Gt,terminated:qt}={}){const nn=indexedDB.open(we,qe),xn=He(nn);return Vt&&nn.addEventListener("upgradeneeded",On=>{Vt(He(nn.result),On.oldVersion,On.newVersion,He(nn.transaction),On)}),pt&&nn.addEventListener("blocked",On=>pt(On.oldVersion,On.newVersion,On)),xn.then(On=>{qt&&On.addEventListener("close",()=>qt()),Gt&&On.addEventListener("versionchange",Qn=>Gt(Qn.oldVersion,Qn.newVersion,Qn))}).catch(()=>{}),xn}const Ve=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Re=new Map;function ze(we,qe){var pt;if(!(we instanceof IDBDatabase)||qe in we||"string"!=typeof qe)return;if(Re.get(qe))return Re.get(qe);const Vt=qe.replace(/FromIndex$/,""),Gt=qe!==Vt,qt=ye.includes(Vt);if(!(Vt in(Gt?IDBIndex:IDBObjectStore).prototype)||!qt&&!Ve.includes(Vt))return;const nn=function(On){return(pt=pt||(0,C.Z)(function*(Qn,..._e){const Te=this.transaction(Qn,qt?"readwrite":"readonly");let Ne=Te.store;return Gt&&(Ne=Ne.index(_e.shift())),(yield Promise.all([Ne[Vt](..._e),qt&&Te.done]))[0]})).apply(this,arguments)};return Re.set(qe,nn),nn}!function it(we){ve=we(ve)}(we=>({...we,get:(qe,pt,Vt)=>ze(qe,pt)||we.get(qe,pt,Vt),has:(qe,pt)=>!!ze(qe,pt)||we.has(qe,pt)}))},5861:(bt,Ce,k)=>{function C(H,se,ie,ae,de,Ie,pe){try{var Y=H[Ie](pe),X=Y.value}catch(J){return void ie(J)}Y.done?se(X):Promise.resolve(X).then(ae,de)}function ee(H){return function(){var se=this,ie=arguments;return new Promise(function(ae,de){var Ie=H.apply(se,ie);function pe(X){C(Ie,ae,de,pe,Y,"next",X)}function Y(X){C(Ie,ae,de,pe,Y,"throw",X)}pe(void 0)})}}k.d(Ce,{Z:()=>ee})},7582:(bt,Ce,k)=>{function se(_e,Te){var Ne={};for(var Ae in _e)Object.prototype.hasOwnProperty.call(_e,Ae)&&Te.indexOf(Ae)<0&&(Ne[Ae]=_e[Ae]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(Ae=Object.getOwnPropertySymbols(_e);Ye<Ae.length;Ye++)Te.indexOf(Ae[Ye])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ae[Ye])&&(Ne[Ae[Ye]]=_e[Ae[Ye]])}return Ne}function J(_e,Te,Ne,Ae){return new(Ne||(Ne=Promise))(function(Ze,St){function at(hn){try{Bt(Ae.next(hn))}catch(Qt){St(Qt)}}function Wn(hn){try{Bt(Ae.throw(hn))}catch(Qt){St(Qt)}}function Bt(hn){hn.done?Ze(hn.value):function Ye(Ze){return Ze instanceof Ne?Ze:new Ne(function(St){St(Ze)})}(hn.value).then(at,Wn)}Bt((Ae=Ae.apply(_e,Te||[])).next())})}function be(_e){return this instanceof be?(this.v=_e,this):new be(_e)}function Ve(_e,Te,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ae=Ne.apply(_e,Te||[]),Ze=[];return Ye={},St("next"),St("throw"),St("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function St(In){Ae[In]&&(Ye[In]=function(Kn){return new Promise(function(sn,ue){Ze.push([In,Kn,sn,ue])>1||at(In,Kn)})})}function at(In,Kn){try{!function Wn(In){In.value instanceof be?Promise.resolve(In.value.v).then(Bt,hn):Qt(Ze[0][2],In)}(Ae[In](Kn))}catch(sn){Qt(Ze[0][3],sn)}}function Bt(In){at("next",In)}function hn(In){at("throw",In)}function Qt(In,Kn){In(Kn),Ze.shift(),Ze.length&&at(Ze[0][0],Ze[0][1])}}function Re(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Te=_e[Symbol.asyncIterator];return Te?Te.call(_e):(_e=function Ge(_e){var Te="function"==typeof Symbol&&Symbol.iterator,Ne=Te&&_e[Te],Ae=0;if(Ne)return Ne.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ae>=_e.length&&(_e=void 0),{value:_e&&_e[Ae++],done:!_e}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Ne={},Ae("next"),Ae("throw"),Ae("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Ae(Ze){Ne[Ze]=_e[Ze]&&function(St){return new Promise(function(at,Wn){!function Ye(Ze,St,at,Wn){Promise.resolve(Wn).then(function(Bt){Ze({value:Bt,done:at})},St)}(at,Wn,(St=_e[Ze](St)).done,St.value)})}}}k.d(Ce,{FC:()=>Ve,KL:()=>Re,_T:()=>se,mG:()=>J,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{var Ce=C=>bt(bt.s=C);Ce(2614),Ce(6198)}]);